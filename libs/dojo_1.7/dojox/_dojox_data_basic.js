/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/

/*
	This is an optimized version of Dojo, built for deployment and not for
	development. To get sources and documentation, please visit:

		http://dojotoolkit.org
*/

//>>built
require({cache:{"dojox/xml/parser":function(){define("dojox/xml/parser",["dojo/_base/kernel","dojo/_base/lang","dojo/_base/array","dojo/_base/window","dojo/_base/sniff"],function(_1){_1.getObject("xml.parser",true,dojox);dojox.xml.parser.parse=function(_2,_3){var _4=_1.doc;var _5;_3=_3||"text/xml";if(_2&&_1.trim(_2)&&"DOMParser" in _1.global){var _6=new DOMParser();_5=_6.parseFromString(_2,_3);var de=_5.documentElement;var _7="http://www.mozilla.org/newlayout/xml/parsererror.xml";if(de.nodeName=="parsererror"&&de.namespaceURI==_7){var _8=de.getElementsByTagNameNS(_7,"sourcetext")[0];if(_8){_8=_8.firstChild.data;}throw new Error("Error parsing text "+de.firstChild.data+" \n"+_8);}return _5;}else{if("ActiveXObject" in _1.global){var ms=function(n){return "MSXML"+n+".DOMDocument";};var dp=["Microsoft.XMLDOM",ms(6),ms(4),ms(3),ms(2)];_1.some(dp,function(p){try{_5=new ActiveXObject(p);}catch(e){return false;}return true;});if(_2&&_5){_5.async=false;_5.loadXML(_2);var pe=_5.parseError;if(pe.errorCode!==0){throw new Error("Line: "+pe.line+"\n"+"Col: "+pe.linepos+"\n"+"Reason: "+pe.reason+"\n"+"Error Code: "+pe.errorCode+"\n"+"Source: "+pe.srcText);}}if(_5){return _5;}}else{if(_4.implementation&&_4.implementation.createDocument){if(_2&&_1.trim(_2)&&_4.createElement){var _9=_4.createElement("xml");_9.innerHTML=_2;var _a=_4.implementation.createDocument("foo","",null);_1.forEach(_9.childNodes,function(_b){_a.importNode(_b,true);});return _a;}else{return _4.implementation.createDocument("","",null);}}}}return null;};dojox.xml.parser.textContent=function(_c,_d){if(arguments.length>1){var _e=_c.ownerDocument||_1.doc;dojox.xml.parser.replaceChildren(_c,_e.createTextNode(_d));return _d;}else{if(_c.textContent!==undefined){return _c.textContent;}var _f="";if(_c){_1.forEach(_c.childNodes,function(_10){switch(_10.nodeType){case 1:case 5:_f+=dojox.xml.parser.textContent(_10);break;case 3:case 2:case 4:_f+=_10.nodeValue;}});}return _f;}};dojox.xml.parser.replaceChildren=function(_11,_12){var _13=[];if(_1.isIE){_1.forEach(_11.childNodes,function(_14){_13.push(_14);});}dojox.xml.parser.removeChildren(_11);_1.forEach(_13,_1.destroy);if(!_1.isArray(_12)){_11.appendChild(_12);}else{_1.forEach(_12,function(_15){_11.appendChild(_15);});}};dojox.xml.parser.removeChildren=function(_16){var _17=_16.childNodes.length;while(_16.hasChildNodes()){_16.removeChild(_16.firstChild);}return _17;};dojox.xml.parser.innerXML=function(_18){if(_18.innerXML){return _18.innerXML;}else{if(_18.xml){return _18.xml;}else{if(typeof XMLSerializer!="undefined"){return (new XMLSerializer()).serializeToString(_18);}}}return null;};return dojox.xml.parser;});},"dojox/data/CsvStore":function(){define("dojox/data/CsvStore",["dojo/_base/lang","dojo/_base/declare","dojo/_base/xhr","dojo/_base/window","dojo/data/util/filter","dojo/data/util/simpleFetch"],function(_19,_1a,xhr,_1b,_1c,_1d){var _1e=_1a("dojox.data.CsvStore",null,{constructor:function(_1f){this._attributes=[];this._attributeIndexes={};this._dataArray=[];this._arrayOfAllItems=[];this._loadFinished=false;if(_1f.url){this.url=_1f.url;}this._csvData=_1f.data;if(_1f.label){this.label=_1f.label;}else{if(this.label===""){this.label=undefined;}}this._storeProp="_csvStore";this._idProp="_csvId";this._features={"dojo.data.api.Read":true,"dojo.data.api.Identity":true};this._loadInProgress=false;this._queuedFetches=[];this.identifier=_1f.identifier;if(this.identifier===""){delete this.identifier;}else{this._idMap={};}if("separator" in _1f){this.separator=_1f.separator;}if("urlPreventCache" in _1f){this.urlPreventCache=_1f.urlPreventCache?true:false;}},url:"",label:"",identifier:"",separator:",",urlPreventCache:false,_assertIsItem:function(_20){if(!this.isItem(_20)){throw new Error(this.declaredClass+": a function was passed an item argument that was not an item");}},_getIndex:function(_21){var idx=this.getIdentity(_21);if(this.identifier){idx=this._idMap[idx];}return idx;},getValue:function(_22,_23,_24){this._assertIsItem(_22);var _25=_24;if(typeof _23==="string"){var ai=this._attributeIndexes[_23];if(ai!=null){var _26=this._dataArray[this._getIndex(_22)];_25=_26[ai]||_24;}}else{throw new Error(this.declaredClass+": a function was passed an attribute argument that was not a string");}return _25;},getValues:function(_27,_28){var _29=this.getValue(_27,_28);return (_29?[_29]:[]);},getAttributes:function(_2a){this._assertIsItem(_2a);var _2b=[];var _2c=this._dataArray[this._getIndex(_2a)];for(var i=0;i<_2c.length;i++){if(_2c[i]!==""){_2b.push(this._attributes[i]);}}return _2b;},hasAttribute:function(_2d,_2e){this._assertIsItem(_2d);if(typeof _2e==="string"){var _2f=this._attributeIndexes[_2e];var _30=this._dataArray[this._getIndex(_2d)];return (typeof _2f!=="undefined"&&_2f<_30.length&&_30[_2f]!=="");}else{throw new Error(this.declaredClass+": a function was passed an attribute argument that was not a string");}},containsValue:function(_31,_32,_33){var _34=undefined;if(typeof _33==="string"){_34=_1c.patternToRegExp(_33,false);}return this._containsValue(_31,_32,_33,_34);},_containsValue:function(_35,_36,_37,_38){var _39=this.getValues(_35,_36);for(var i=0;i<_39.length;++i){var _3a=_39[i];if(typeof _3a==="string"&&_38){return (_3a.match(_38)!==null);}else{if(_37===_3a){return true;}}}return false;},isItem:function(_3b){if(_3b&&_3b[this._storeProp]===this){var _3c=_3b[this._idProp];if(this.identifier){var _3d=this._dataArray[this._idMap[_3c]];if(_3d){return true;}}else{if(_3c>=0&&_3c<this._dataArray.length){return true;}}}return false;},isItemLoaded:function(_3e){return this.isItem(_3e);},loadItem:function(_3f){},getFeatures:function(){return this._features;},getLabel:function(_40){if(this.label&&this.isItem(_40)){return this.getValue(_40,this.label);}return undefined;},getLabelAttributes:function(_41){if(this.label){return [this.label];}return null;},_fetchItems:function(_42,_43,_44){var _45=this;var _46=function(_47,_48){var _49=null;if(_47.query){var key,_4a;_49=[];var _4b=_47.queryOptions?_47.queryOptions.ignoreCase:false;var _4c={};for(key in _47.query){_4a=_47.query[key];if(typeof _4a==="string"){_4c[key]=_1c.patternToRegExp(_4a,_4b);}}for(var i=0;i<_48.length;++i){var _4d=true;var _4e=_48[i];for(key in _47.query){_4a=_47.query[key];if(!_45._containsValue(_4e,key,_4a,_4c[key])){_4d=false;}}if(_4d){_49.push(_4e);}}}else{_49=_48.slice(0,_48.length);}_43(_49,_47);};if(this._loadFinished){_46(_42,this._arrayOfAllItems);}else{if(this.url!==""){if(this._loadInProgress){this._queuedFetches.push({args:_42,filter:_46});}else{this._loadInProgress=true;var _4f={url:_45.url,handleAs:"text",preventCache:_45.urlPreventCache};var _50=xhr.get(_4f);_50.addCallback(function(_51){try{_45._processData(_51);_46(_42,_45._arrayOfAllItems);_45._handleQueuedFetches();}catch(e){_44(e,_42);}});_50.addErrback(function(_52){_45._loadInProgress=false;if(_44){_44(_52,_42);}else{throw _52;}});var _53=null;if(_42.abort){_53=_42.abort;}_42.abort=function(){var df=_50;if(df&&df.fired===-1){df.cancel();df=null;}if(_53){_53.call(_42);}};}}else{if(this._csvData){try{this._processData(this._csvData);this._csvData=null;_46(_42,this._arrayOfAllItems);}catch(e){_44(e,_42);}}else{var _54=new Error(this.declaredClass+": No CSV source data was provided as either URL or String data input.");if(_44){_44(_54,_42);}else{throw _54;}}}}},close:function(_55){},_getArrayOfArraysFromCsvFileContents:function(_56){if(_19.isString(_56)){var _57=new RegExp("^\\s+","g");var _58=new RegExp("\\s+$","g");var _59=new RegExp("\"\"","g");var _5a=[];var i;var _5b=this._splitLines(_56);for(i=0;i<_5b.length;++i){var _5c=_5b[i];if(_5c.length>0){var _5d=_5c.split(this.separator);var j=0;while(j<_5d.length){var _5e=_5d[j];var _5f=_5e.replace(_57,"");var _60=_5f.replace(_58,"");var _61=_60.charAt(0);var _62=_60.charAt(_60.length-1);var _63=_60.charAt(_60.length-2);var _64=_60.charAt(_60.length-3);if(_60.length===2&&_60=="\"\""){_5d[j]="";}else{if((_61=="\"")&&((_62!="\"")||((_62=="\"")&&(_63=="\"")&&(_64!="\"")))){if(j+1===_5d.length){return;}var _65=_5d[j+1];_5d[j]=_5f+this.separator+_65;_5d.splice(j+1,1);}else{if((_61=="\"")&&(_62=="\"")){_60=_60.slice(1,(_60.length-1));_60=_60.replace(_59,"\"");}_5d[j]=_60;j+=1;}}}_5a.push(_5d);}}this._attributes=_5a.shift();for(i=0;i<this._attributes.length;i++){this._attributeIndexes[this._attributes[i]]=i;}this._dataArray=_5a;}},_splitLines:function(_66){var _67=[];var i;var _68="";var _69=false;for(i=0;i<_66.length;i++){var c=_66.charAt(i);switch(c){case "\"":_69=!_69;_68+=c;break;case "\r":if(_69){_68+=c;}else{_67.push(_68);_68="";if(i<(_66.length-1)&&_66.charAt(i+1)=="\n"){i++;}}break;case "\n":if(_69){_68+=c;}else{_67.push(_68);_68="";}break;default:_68+=c;}}if(_68!==""){_67.push(_68);}return _67;},_processData:function(_6a){this._getArrayOfArraysFromCsvFileContents(_6a);this._arrayOfAllItems=[];if(this.identifier){if(this._attributeIndexes[this.identifier]===undefined){throw new Error(this.declaredClass+": Identity specified is not a column header in the data set.");}}for(var i=0;i<this._dataArray.length;i++){var id=i;if(this.identifier){var _6b=this._dataArray[i];id=_6b[this._attributeIndexes[this.identifier]];this._idMap[id]=i;}this._arrayOfAllItems.push(this._createItemFromIdentity(id));}this._loadFinished=true;this._loadInProgress=false;},_createItemFromIdentity:function(_6c){var _6d={};_6d[this._storeProp]=this;_6d[this._idProp]=_6c;return _6d;},getIdentity:function(_6e){if(this.isItem(_6e)){return _6e[this._idProp];}return null;},fetchItemByIdentity:function(_6f){var _70;var _71=_6f.scope?_6f.scope:_1b.global;if(!this._loadFinished){var _72=this;if(this.url!==""){if(this._loadInProgress){this._queuedFetches.push({args:_6f});}else{this._loadInProgress=true;var _73={url:_72.url,handleAs:"text"};var _74=xhr.get(_73);_74.addCallback(function(_75){try{_72._processData(_75);var _76=_72._createItemFromIdentity(_6f.identity);if(!_72.isItem(_76)){_76=null;}if(_6f.onItem){_6f.onItem.call(_71,_76);}_72._handleQueuedFetches();}catch(error){if(_6f.onError){_6f.onError.call(_71,error);}}});_74.addErrback(function(_77){this._loadInProgress=false;if(_6f.onError){_6f.onError.call(_71,_77);}});}}else{if(this._csvData){try{_72._processData(_72._csvData);_72._csvData=null;_70=_72._createItemFromIdentity(_6f.identity);if(!_72.isItem(_70)){_70=null;}if(_6f.onItem){_6f.onItem.call(_71,_70);}}catch(e){if(_6f.onError){_6f.onError.call(_71,e);}}}}}else{_70=this._createItemFromIdentity(_6f.identity);if(!this.isItem(_70)){_70=null;}if(_6f.onItem){_6f.onItem.call(_71,_70);}}},getIdentityAttributes:function(_78){if(this.identifier){return [this.identifier];}else{return null;}},_handleQueuedFetches:function(){if(this._queuedFetches.length>0){for(var i=0;i<this._queuedFetches.length;i++){var _79=this._queuedFetches[i];var _7a=_79.filter;var _7b=_79.args;if(_7a){_7a(_7b,this._arrayOfAllItems);}else{this.fetchItemByIdentity(_79.args);}}this._queuedFetches=[];}}});_19.extend(_1e,_1d);return _1e;});},"dojox/data/XmlItem":function(){define("dojox/data/XmlItem",["dojo/_base/declare"],function(_7c){return _7c("dojox.data.XmlItem",null,{constructor:function(_7d,_7e,_7f){this.element=_7d;this.store=_7e;this.q=_7f;},toString:function(){var str="";if(this.element){for(var i=0;i<this.element.childNodes.length;i++){var _80=this.element.childNodes[i];if(_80.nodeType===3||_80.nodeType===4){str+=_80.nodeValue;}}}return str;}});});},"dojox/data/XmlStore":function(){define("dojox/data/XmlStore",["dojo/_base/lang","dojo/_base/declare","dojo/_base/xhr","dojo/data/util/simpleFetch","dojo/_base/query","dojo/_base/array","dojo/_base/window","dojo/data/util/filter","dojox/xml/parser","dojox/data/XmlItem"],function(_81,_82,xhr,_83,_84,_85,_86,_87,_88,_89){var _8a=_82("dojox.data.XmlStore",null,{constructor:function(_8b){if(_8b){this.url=_8b.url;this.rootItem=(_8b.rootItem||_8b.rootitem||this.rootItem);this.keyAttribute=(_8b.keyAttribute||_8b.keyattribute||this.keyAttribute);this._attributeMap=(_8b.attributeMap||_8b.attributemap);this.label=_8b.label||this.label;this.sendQuery=(_8b.sendQuery||_8b.sendquery||this.sendQuery);if("urlPreventCache" in _8b){this.urlPreventCache=_8b.urlPreventCache?true:false;}}this._newItems=[];this._deletedItems=[];this._modifiedItems=[];},url:"",rootItem:"",keyAttribute:"",label:"",sendQuery:false,attributeMap:null,urlPreventCache:true,getValue:function(_8c,_8d,_8e){var _8f=_8c.element;var i;var _90;if(_8d==="tagName"){return _8f.nodeName;}else{if(_8d==="childNodes"){for(i=0;i<_8f.childNodes.length;i++){_90=_8f.childNodes[i];if(_90.nodeType===1){return this._getItem(_90);}}return _8e;}else{if(_8d==="text()"){for(i=0;i<_8f.childNodes.length;i++){_90=_8f.childNodes[i];if(_90.nodeType===3||_90.nodeType===4){return _90.nodeValue;}}return _8e;}else{_8d=this._getAttribute(_8f.nodeName,_8d);if(_8d.charAt(0)==="@"){var _91=_8d.substring(1);var _92=_8f.getAttribute(_91);return (_92)?_92:_8e;}else{for(i=0;i<_8f.childNodes.length;i++){_90=_8f.childNodes[i];if(_90.nodeType===1&&_90.nodeName===_8d){return this._getItem(_90);}}return _8e;}}}}},getValues:function(_93,_94){var _95=_93.element;var _96=[];var i;var _97;if(_94==="tagName"){return [_95.nodeName];}else{if(_94==="childNodes"){for(i=0;i<_95.childNodes.length;i++){_97=_95.childNodes[i];if(_97.nodeType===1){_96.push(this._getItem(_97));}}return _96;}else{if(_94==="text()"){var ec=_95.childNodes;for(i=0;i<ec.length;i++){_97=ec[i];if(_97.nodeType===3||_97.nodeType===4){_96.push(_97.nodeValue);}}return _96;}else{_94=this._getAttribute(_95.nodeName,_94);if(_94.charAt(0)==="@"){var _98=_94.substring(1);var _99=_95.getAttribute(_98);return (_99!==undefined)?[_99]:[];}else{for(i=0;i<_95.childNodes.length;i++){_97=_95.childNodes[i];if(_97.nodeType===1&&_97.nodeName===_94){_96.push(this._getItem(_97));}}return _96;}}}}},getAttributes:function(_9a){var _9b=_9a.element;var _9c=[];var i;_9c.push("tagName");if(_9b.childNodes.length>0){var _9d={};var _9e=true;var _9f=false;for(i=0;i<_9b.childNodes.length;i++){var _a0=_9b.childNodes[i];if(_a0.nodeType===1){var _a1=_a0.nodeName;if(!_9d[_a1]){_9c.push(_a1);_9d[_a1]=_a1;}_9e=true;}else{if(_a0.nodeType===3){_9f=true;}}}if(_9e){_9c.push("childNodes");}if(_9f){_9c.push("text()");}}for(i=0;i<_9b.attributes.length;i++){_9c.push("@"+_9b.attributes[i].nodeName);}if(this._attributeMap){for(var key in this._attributeMap){i=key.indexOf(".");if(i>0){var _a2=key.substring(0,i);if(_a2===_9b.nodeName){_9c.push(key.substring(i+1));}}else{_9c.push(key);}}}return _9c;},hasAttribute:function(_a3,_a4){return (this.getValue(_a3,_a4)!==undefined);},containsValue:function(_a5,_a6,_a7){var _a8=this.getValues(_a5,_a6);for(var i=0;i<_a8.length;i++){if((typeof _a7==="string")){if(_a8[i].toString&&_a8[i].toString()===_a7){return true;}}else{if(_a8[i]===_a7){return true;}}}return false;},isItem:function(_a9){if(_a9&&_a9.element&&_a9.store&&_a9.store===this){return true;}return false;},isItemLoaded:function(_aa){return this.isItem(_aa);},loadItem:function(_ab){},getFeatures:function(){var _ac={"dojo.data.api.Read":true,"dojo.data.api.Write":true};if(!this.sendQuery||this.keyAttribute!==""){_ac["dojo.data.api.Identity"]=true;}return _ac;},getLabel:function(_ad){if((this.label!=="")&&this.isItem(_ad)){var _ae=this.getValue(_ad,this.label);if(_ae){return _ae.toString();}}return undefined;},getLabelAttributes:function(_af){if(this.label!==""){return [this.label];}return null;},_fetchItems:function(_b0,_b1,_b2){var url=this._getFetchUrl(_b0);if(!url){_b2(new Error("No URL specified."),_b0);return;}var _b3=(!this.sendQuery?_b0:{});var _b4=this;var _b5={url:url,handleAs:"xml",preventCache:_b4.urlPreventCache};var _b6=xhr.get(_b5);_b6.addCallback(function(_b7){var _b8=_b4._getItems(_b7,_b3);if(_b8&&_b8.length>0){_b1(_b8,_b0);}else{_b1([],_b0);}});_b6.addErrback(function(_b9){_b2(_b9,_b0);});},_getFetchUrl:function(_ba){if(!this.sendQuery){return this.url;}var _bb=_ba.query;if(!_bb){return this.url;}if(_81.isString(_bb)){return this.url+_bb;}var _bc="";for(var _bd in _bb){var _be=_bb[_bd];if(_be){if(_bc){_bc+="&";}_bc+=(_bd+"="+_be);}}if(!_bc){return this.url;}var _bf=this.url;if(_bf.indexOf("?")<0){_bf+="?";}else{_bf+="&";}return _bf+_bc;},_getItems:function(_c0,_c1){var _c2=null;if(_c1){_c2=_c1.query;}var _c3=[];var _c4=null;if(this.rootItem!==""){_c4=_84(this.rootItem,_c0);}else{_c4=_c0.documentElement.childNodes;}var _c5=_c1.queryOptions?_c1.queryOptions.deep:false;if(_c5){_c4=this._flattenNodes(_c4);}for(var i=0;i<_c4.length;i++){var _c6=_c4[i];if(_c6.nodeType!=1){continue;}var _c7=this._getItem(_c6);if(_c2){var _c8=_c1.queryOptions?_c1.queryOptions.ignoreCase:false;var _c9;var _ca=false;var j;var _cb=true;var _cc={};for(var key in _c2){_c9=_c2[key];if(typeof _c9==="string"){_cc[key]=_87.patternToRegExp(_c9,_c8);}else{if(_c9){_cc[key]=_c9;}}}for(var _cd in _c2){_cb=false;var _ce=this.getValues(_c7,_cd);for(j=0;j<_ce.length;j++){_c9=_ce[j];if(_c9){var _cf=_c2[_cd];if((typeof _c9)==="string"&&(_cc[_cd])){if((_c9.match(_cc[_cd]))!==null){_ca=true;}else{_ca=false;}}else{if((typeof _c9)==="object"){if(_c9.toString&&(_cc[_cd])){var _d0=_c9.toString();if((_d0.match(_cc[_cd]))!==null){_ca=true;}else{_ca=false;}}else{if(_cf==="*"||_cf===_c9){_ca=true;}else{_ca=false;}}}}}if(_ca){break;}}if(!_ca){break;}}if(_cb||_ca){_c3.push(_c7);}}else{_c3.push(_c7);}}_85.forEach(_c3,function(_d1){if(_d1.element.parentNode){_d1.element.parentNode.removeChild(_d1.element);}},this);return _c3;},_flattenNodes:function(_d2){var _d3=[];if(_d2){var i;for(i=0;i<_d2.length;i++){var _d4=_d2[i];_d3.push(_d4);if(_d4.childNodes&&_d4.childNodes.length>0){_d3=_d3.concat(this._flattenNodes(_d4.childNodes));}}}return _d3;},close:function(_d5){},newItem:function(_d6,_d7){_d6=(_d6||{});var _d8=_d6.tagName;if(!_d8){_d8=this.rootItem;if(_d8===""){return null;}}var _d9=this._getDocument();var _da=_d9.createElement(_d8);for(var _db in _d6){var _dc;if(_db==="tagName"){continue;}else{if(_db==="text()"){_dc=_d9.createTextNode(_d6[_db]);_da.appendChild(_dc);}else{_db=this._getAttribute(_d8,_db);if(_db.charAt(0)==="@"){var _dd=_db.substring(1);_da.setAttribute(_dd,_d6[_db]);}else{var _de=_d9.createElement(_db);_dc=_d9.createTextNode(_d6[_db]);_de.appendChild(_dc);_da.appendChild(_de);}}}}var _df=this._getItem(_da);this._newItems.push(_df);var _e0=null;if(_d7&&_d7.parent&&_d7.attribute){_e0={item:_d7.parent,attribute:_d7.attribute,oldValue:undefined};var _e1=this.getValues(_d7.parent,_d7.attribute);if(_e1&&_e1.length>0){var _e2=_e1.slice(0,_e1.length);if(_e1.length===1){_e0.oldValue=_e1[0];}else{_e0.oldValue=_e1.slice(0,_e1.length);}_e2.push(_df);this.setValues(_d7.parent,_d7.attribute,_e2);_e0.newValue=this.getValues(_d7.parent,_d7.attribute);}else{this.setValue(_d7.parent,_d7.attribute,_df);_e0.newValue=_df;}}return _df;},deleteItem:function(_e3){var _e4=_e3.element;if(_e4.parentNode){this._backupItem(_e3);_e4.parentNode.removeChild(_e4);return true;}this._forgetItem(_e3);this._deletedItems.push(_e3);return true;},setValue:function(_e5,_e6,_e7){if(_e6==="tagName"){return false;}this._backupItem(_e5);var _e8=_e5.element;var _e9;var _ea;if(_e6==="childNodes"){_e9=_e7.element;_e8.appendChild(_e9);}else{if(_e6==="text()"){while(_e8.firstChild){_e8.removeChild(_e8.firstChild);}_ea=this._getDocument(_e8).createTextNode(_e7);_e8.appendChild(_ea);}else{_e6=this._getAttribute(_e8.nodeName,_e6);if(_e6.charAt(0)==="@"){var _eb=_e6.substring(1);_e8.setAttribute(_eb,_e7);}else{for(var i=0;i<_e8.childNodes.length;i++){var _ec=_e8.childNodes[i];if(_ec.nodeType===1&&_ec.nodeName===_e6){_e9=_ec;break;}}var _ed=this._getDocument(_e8);if(_e9){while(_e9.firstChild){_e9.removeChild(_e9.firstChild);}}else{_e9=_ed.createElement(_e6);_e8.appendChild(_e9);}_ea=_ed.createTextNode(_e7);_e9.appendChild(_ea);}}}return true;},setValues:function(_ee,_ef,_f0){if(_ef==="tagName"){return false;}this._backupItem(_ee);var _f1=_ee.element;var i;var _f2;var _f3;if(_ef==="childNodes"){while(_f1.firstChild){_f1.removeChild(_f1.firstChild);}for(i=0;i<_f0.length;i++){_f2=_f0[i].element;_f1.appendChild(_f2);}}else{if(_ef==="text()"){while(_f1.firstChild){_f1.removeChild(_f1.firstChild);}var _f4="";for(i=0;i<_f0.length;i++){_f4+=_f0[i];}_f3=this._getDocument(_f1).createTextNode(_f4);_f1.appendChild(_f3);}else{_ef=this._getAttribute(_f1.nodeName,_ef);if(_ef.charAt(0)==="@"){var _f5=_ef.substring(1);_f1.setAttribute(_f5,_f0[0]);}else{for(i=_f1.childNodes.length-1;i>=0;i--){var _f6=_f1.childNodes[i];if(_f6.nodeType===1&&_f6.nodeName===_ef){_f1.removeChild(_f6);}}var _f7=this._getDocument(_f1);for(i=0;i<_f0.length;i++){_f2=_f7.createElement(_ef);_f3=_f7.createTextNode(_f0[i]);_f2.appendChild(_f3);_f1.appendChild(_f2);}}}}return true;},unsetAttribute:function(_f8,_f9){if(_f9==="tagName"){return false;}this._backupItem(_f8);var _fa=_f8.element;if(_f9==="childNodes"||_f9==="text()"){while(_fa.firstChild){_fa.removeChild(_fa.firstChild);}}else{_f9=this._getAttribute(_fa.nodeName,_f9);if(_f9.charAt(0)==="@"){var _fb=_f9.substring(1);_fa.removeAttribute(_fb);}else{for(var i=_fa.childNodes.length-1;i>=0;i--){var _fc=_fa.childNodes[i];if(_fc.nodeType===1&&_fc.nodeName===_f9){_fa.removeChild(_fc);}}}}return true;},save:function(_fd){if(!_fd){_fd={};}var i;for(i=0;i<this._modifiedItems.length;i++){this._saveItem(this._modifiedItems[i],_fd,"PUT");}for(i=0;i<this._newItems.length;i++){var _fe=this._newItems[i];if(_fe.element.parentNode){this._newItems.splice(i,1);i--;continue;}this._saveItem(this._newItems[i],_fd,"POST");}for(i=0;i<this._deletedItems.length;i++){this._saveItem(this._deletedItems[i],_fd,"DELETE");}},revert:function(){this._newItems=[];this._restoreItems(this._deletedItems);this._deletedItems=[];this._restoreItems(this._modifiedItems);this._modifiedItems=[];return true;},isDirty:function(_ff){if(_ff){var _100=this._getRootElement(_ff.element);return (this._getItemIndex(this._newItems,_100)>=0||this._getItemIndex(this._deletedItems,_100)>=0||this._getItemIndex(this._modifiedItems,_100)>=0);}else{return (this._newItems.length>0||this._deletedItems.length>0||this._modifiedItems.length>0);}},_saveItem:function(item,_101,_102){var url;var _103;if(_102==="PUT"){url=this._getPutUrl(item);}else{if(_102==="DELETE"){url=this._getDeleteUrl(item);}else{url=this._getPostUrl(item);}}if(!url){if(_101.onError){_103=_101.scope||_86.global;_101.onError.call(_103,new Error("No URL for saving content: "+this._getPostContent(item)));}return;}var _104={url:url,method:(_102||"POST"),contentType:"text/xml",handleAs:"xml"};var _105;if(_102==="PUT"){_104.putData=this._getPutContent(item);_105=xhr.put(_104);}else{if(_102==="DELETE"){_105=xhr.del(_104);}else{_104.postData=this._getPostContent(item);_105=xhr.post(_104);}}_103=(_101.scope||_86.global);var self=this;_105.addCallback(function(data){self._forgetItem(item);if(_101.onComplete){_101.onComplete.call(_103);}});_105.addErrback(function(_106){if(_101.onError){_101.onError.call(_103,_106);}});},_getPostUrl:function(item){return this.url;},_getPutUrl:function(item){return this.url;},_getDeleteUrl:function(item){var url=this.url;if(item&&this.keyAttribute!==""){var _107=this.getValue(item,this.keyAttribute);if(_107){var key=this.keyAttribute.charAt(0)==="@"?this.keyAttribute.substring(1):this.keyAttribute;url+=url.indexOf("?")<0?"?":"&";url+=key+"="+_107;}}return url;},_getPostContent:function(item){return "<?xml version='1.0'?>"+_88.innerXML(item.element);},_getPutContent:function(item){return "<?xml version='1.0'?>"+_88.innerXML(item.element);},_getAttribute:function(_108,_109){if(this._attributeMap){var key=_108+"."+_109;var _10a=this._attributeMap[key];if(_10a){_109=_10a;}else{_10a=this._attributeMap[_109];if(_10a){_109=_10a;}}}return _109;},_getItem:function(_10b){try{var q=null;if(this.keyAttribute===""){q=this._getXPath(_10b);}return new _89(_10b,this,q);}catch(e){}return null;},_getItemIndex:function(_10c,_10d){for(var i=0;i<_10c.length;i++){if(_10c[i].element===_10d){return i;}}return -1;},_backupItem:function(item){var _10e=this._getRootElement(item.element);if(this._getItemIndex(this._newItems,_10e)>=0||this._getItemIndex(this._modifiedItems,_10e)>=0){return;}if(_10e!=item.element){item=this._getItem(_10e);}item._backup=_10e.cloneNode(true);this._modifiedItems.push(item);},_restoreItems:function(_10f){_85.forEach(_10f,function(item){if(item._backup){item.element=item._backup;item._backup=null;}},this);},_forgetItem:function(item){var _110=item.element;var _111=this._getItemIndex(this._newItems,_110);if(_111>=0){this._newItems.splice(_111,1);}_111=this._getItemIndex(this._deletedItems,_110);if(_111>=0){this._deletedItems.splice(_111,1);}_111=this._getItemIndex(this._modifiedItems,_110);if(_111>=0){this._modifiedItems.splice(_111,1);}},_getDocument:function(_112){if(_112){return _112.ownerDocument;}else{if(!this._document){return _88.parse();}}return null;},_getRootElement:function(_113){while(_113.parentNode){_113=_113.parentNode;}return _113;},_getXPath:function(_114){var _115=null;if(!this.sendQuery){var node=_114;_115="";while(node&&node!=_114.ownerDocument){var pos=0;var _116=node;var name=node.nodeName;while(_116){_116=_116.previousSibling;if(_116&&_116.nodeName===name){pos++;}}var temp="/"+name+"["+pos+"]";if(_115){_115=temp+_115;}else{_115=temp;}node=node.parentNode;}}return _115;},getIdentity:function(item){if(!this.isItem(item)){throw new Error("dojox.data.XmlStore: Object supplied to getIdentity is not an item");}else{var id=null;if(this.sendQuery&&this.keyAttribute!==""){id=this.getValue(item,this.keyAttribute).toString();}else{if(!this.serverQuery){if(this.keyAttribute!==""){id=this.getValue(item,this.keyAttribute).toString();}else{id=item.q;}}}return id;}},getIdentityAttributes:function(item){if(!this.isItem(item)){throw new Error("dojox.data.XmlStore: Object supplied to getIdentity is not an item");}else{if(this.keyAttribute!==""){return [this.keyAttribute];}else{return null;}}},fetchItemByIdentity:function(_117){var _118=null;var _119=null;var self=this;var url=null;var _11a=null;var _11b=null;if(!self.sendQuery){_118=function(data){if(data){if(self.keyAttribute!==""){var _11c={};_11c.query={};_11c.query[self.keyAttribute]=_117.identity;_11c.queryOptions={deep:true};var _11d=self._getItems(data,_11c);_119=_117.scope||_86.global;if(_11d.length===1){if(_117.onItem){_117.onItem.call(_119,_11d[0]);}}else{if(_11d.length===0){if(_117.onItem){_117.onItem.call(_119,null);}}else{if(_117.onError){_117.onError.call(_119,new Error("Items array size for identity lookup greater than 1, invalid keyAttribute."));}}}}else{var _11e=_117.identity.split("/");var i;var node=data;for(i=0;i<_11e.length;i++){if(_11e[i]&&_11e[i]!==""){var _11f=_11e[i];_11f=_11f.substring(0,_11f.length-1);var vals=_11f.split("[");var tag=vals[0];var _120=parseInt(vals[1],10);var pos=0;if(node){var _121=node.childNodes;if(_121){var j;var _122=null;for(j=0;j<_121.length;j++){var _123=_121[j];if(_123.nodeName===tag){if(pos<_120){pos++;}else{_122=_123;break;}}}if(_122){node=_122;}else{node=null;}}else{node=null;}}else{break;}}}var item=null;if(node){item=self._getItem(node);if(item.element.parentNode){item.element.parentNode.removeChild(item.element);}}if(_117.onItem){_119=_117.scope||_86.global;_117.onItem.call(_119,item);}}}};url=this._getFetchUrl(null);_11a={url:url,handleAs:"xml",preventCache:self.urlPreventCache};_11b=xhr.get(_11a);_11b.addCallback(_118);if(_117.onError){_11b.addErrback(function(_124){var s=_117.scope||_86.global;_117.onError.call(s,_124);});}}else{if(self.keyAttribute!==""){var _125={query:{}};_125.query[self.keyAttribute]=_117.identity;url=this._getFetchUrl(_125);_118=function(data){var item=null;if(data){var _126=self._getItems(data,{});if(_126.length===1){item=_126[0];}else{if(_117.onError){var _127=_117.scope||_86.global;_117.onError.call(_127,new Error("More than one item was returned from the server for the denoted identity"));}}}if(_117.onItem){_127=_117.scope||_86.global;_117.onItem.call(_127,item);}};_11a={url:url,handleAs:"xml",preventCache:self.urlPreventCache};_11b=xhr.get(_11a);_11b.addCallback(_118);if(_117.onError){_11b.addErrback(function(_128){var s=_117.scope||_86.global;_117.onError.call(s,_128);});}}else{if(_117.onError){var s=_117.scope||_86.global;_117.onError.call(s,new Error("XmlStore is not told that the server to provides identity support.  No keyAttribute specified."));}}}}});_81.extend(_8a,_83);return _8a;});},"dojo/_base/query":function(){define("dojo/_base/query",["./kernel","../query","./NodeList"],function(dojo){return dojo.query;});},"*noref":1}});define("dojox/_dojox_data_basic",[],1);require(["dojox/data/XmlStore","dojox/data/CsvStore"]);
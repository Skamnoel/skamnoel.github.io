/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/

/*
	This is an optimized version of Dojo, built for deployment and not for
	development. To get sources and documentation, please visit:

		http://dojotoolkit.org
*/

//>>built
require({cache:{"dojox/atom/io/Connection":function(){define("dojox/atom/io/Connection",["dojo/_base/kernel","dojo/_base/xhr","dojo/_base/window","./model","dojo/_base/declare"],function(_1,_2,_3,_4){return _1.declare("dojox.atom.io.Connection",null,{constructor:function(_5,_6){this.sync=_5;this.preventCache=_6;},preventCache:false,alertsEnabled:false,getFeed:function(_7,_8,_9,_a){this._getXmlDoc(_7,"feed",new _4.Feed(),_4._Constants.ATOM_NS,_8,_9,_a);},getService:function(_b,_c,_d,_e){this._getXmlDoc(_b,"service",new _4.Service(_b),_4._Constants.APP_NS,_c,_d,_e);},getEntry:function(_f,_10,_11,_12){this._getXmlDoc(_f,"entry",new _4.Entry(),_4._Constants.ATOM_NS,_10,_11,_12);},_getXmlDoc:function(url,_13,_14,_15,_16,_17,_18){if(!_18){_18=_3.global;}var ae=this.alertsEnabled;var _19={url:url,handleAs:"xml",sync:this.sync,preventCache:this.preventCache,load:function(_1a,_1b){var _1c=null;var _1d=_1a;var _1e;if(_1d){if(typeof (_1d.getElementsByTagNameNS)!="undefined"){_1e=_1d.getElementsByTagNameNS(_15,_13);if(_1e&&_1e.length>0){_1c=_1e.item(0);}else{if(_1d.lastChild){_1c=_1d.lastChild;}}}else{if(typeof (_1d.getElementsByTagName)!="undefined"){_1e=_1d.getElementsByTagName(_13);if(_1e&&_1e.length>0){for(var i=0;i<_1e.length;i++){if(_1e[i].namespaceURI==_15){_1c=_1e[i];break;}}}else{if(_1d.lastChild){_1c=_1d.lastChild;}}}else{if(_1d.lastChild){_1c=_1d.lastChild;}else{_16.call(_18,null,null,_1b);return;}}}_14.buildFromDom(_1c);if(_16){_16.call(_18,_14,_1d,_1b);}else{if(ae){throw new Error("The callback value does not exist.");}}}else{_16.call(_18,null,null,_1b);}}};if(this.user&&this.user!==null){_19.user=this.user;}if(this.password&&this.password!==null){_19.password=this.password;}if(_17){_19.error=function(_1f,_20){_17.call(_18,_1f,_20);};}else{_19.error=function(){throw new Error("The URL requested cannot be accessed");};}_2.get(_19);},updateEntry:function(_21,_22,_23,_24,_25,_26){if(!_26){_26=_3.global;}_21.updated=new Date();var url=_21.getEditHref();if(!url){throw new Error("A URL has not been specified for editing this entry.");}var _27=this;var ae=this.alertsEnabled;var _28={url:url,handleAs:"text",contentType:"text/xml",sync:this.sync,preventCache:this.preventCache,load:function(_29,_2a){var _2b=null;if(_24){_2b=_2a.xhr.getResponseHeader("Location");if(!_2b){_2b=url;}var _2c=function(_2d,dom,_2e){if(_22){_22.call(_26,_2d,_2b,_2e);}else{if(ae){throw new Error("The callback value does not exist.");}}};_27.getEntry(_2b,_2c);}else{if(_22){_22.call(_26,_21,_2a.xhr.getResponseHeader("Location"),_2a);}else{if(ae){throw new Error("The callback value does not exist.");}}}return _29;}};if(this.user&&this.user!==null){_28.user=this.user;}if(this.password&&this.password!==null){_28.password=this.password;}if(_23){_28.error=function(_2f,_30){_23.call(_26,_2f,_30);};}else{_28.error=function(){throw new Error("The URL requested cannot be accessed");};}if(_25){_28.postData=_21.toString(true);_28.headers={"X-Method-Override":"PUT"};_2.post(_28);}else{_28.putData=_21.toString(true);var xhr=_2.put(_28);}},addEntry:function(_31,url,_32,_33,_34,_35){if(!_35){_35=_3.global;}_31.published=new Date();_31.updated=new Date();var _36=_31.feedUrl;var ae=this.alertsEnabled;if(!url&&_36){url=_36;}if(!url){if(ae){throw new Error("The request cannot be processed because the URL parameter is missing.");}return;}var _37=this;var _38={url:url,handleAs:"text",contentType:"text/xml",sync:this.sync,preventCache:this.preventCache,postData:_31.toString(true),load:function(_39,_3a){var _3b=_3a.xhr.getResponseHeader("Location");if(!_3b){_3b=url;}if(!_3a.retrieveEntry){if(_32){_32.call(_35,_31,_3b,_3a);}else{if(ae){throw new Error("The callback value does not exist.");}}}else{var _3c=function(_3d,dom,_3e){if(_32){_32.call(_35,_3d,_3b,_3e);}else{if(ae){throw new Error("The callback value does not exist.");}}};_37.getEntry(_3b,_3c);}return _39;}};if(this.user&&this.user!==null){_38.user=this.user;}if(this.password&&this.password!==null){_38.password=this.password;}if(_33){_38.error=function(_3f,_40){_33.call(_35,_3f,_40);};}else{_38.error=function(){throw new Error("The URL requested cannot be accessed");};}_2.post(_38);},deleteEntry:function(_41,_42,_43,_44,_45){if(!_45){_45=_3.global;}var url=null;if(typeof (_41)=="string"){url=_41;}else{url=_41.getEditHref();}if(!url){_42.call(_45,false,null);throw new Error("The request cannot be processed because the URL parameter is missing.");}var _46={url:url,handleAs:"text",sync:this.sync,preventCache:this.preventCache,load:function(_47,_48){_42.call(_45,_48);return _47;}};if(this.user&&this.user!==null){_46.user=this.user;}if(this.password&&this.password!==null){_46.password=this.password;}if(_43){_46.error=function(_49,_4a){_43.call(_45,_49,_4a);};}else{_46.error=function(){throw new Error("The URL requested cannot be accessed");};}if(_44){_46.headers={"X-Method-Override":"DELETE"};dhxr.post(_46);}else{_2.del(_46);}}});});},"dojox/atom/io/model":function(){define("dojox/atom/io/model",["dojo/_base/kernel","dojo/_base/declare","dojo/_base/lang","dojo/date/stamp","dojox/xml/parser"],function(_4b,_4c,_4d,_4e,_4f){var _50=_4b.getObject("dojox.atom.io.model",true);_50._Constants={"ATOM_URI":"http://www.w3.org/2005/Atom","ATOM_NS":"http://www.w3.org/2005/Atom","PURL_NS":"http://purl.org/atom/app#","APP_NS":"http://www.w3.org/2007/app"};_50._actions={"link":function(obj,_51){if(obj.links===null){obj.links=[];}var _52=new _50.Link();_52.buildFromDom(_51);obj.links.push(_52);},"author":function(obj,_53){if(obj.authors===null){obj.authors=[];}var _54=new _50.Person("author");_54.buildFromDom(_53);obj.authors.push(_54);},"contributor":function(obj,_55){if(obj.contributors===null){obj.contributors=[];}var _56=new _50.Person("contributor");_56.buildFromDom(_55);obj.contributors.push(_56);},"category":function(obj,_57){if(obj.categories===null){obj.categories=[];}var cat=new _50.Category();cat.buildFromDom(_57);obj.categories.push(cat);},"icon":function(obj,_58){obj.icon=_4f.textContent(_58);},"id":function(obj,_59){obj.id=_4f.textContent(_59);},"rights":function(obj,_5a){obj.rights=_4f.textContent(_5a);},"subtitle":function(obj,_5b){var cnt=new _50.Content("subtitle");cnt.buildFromDom(_5b);obj.subtitle=cnt;},"title":function(obj,_5c){var cnt=new _50.Content("title");cnt.buildFromDom(_5c);obj.title=cnt;},"updated":function(obj,_5d){obj.updated=_50.util.createDate(_5d);},"issued":function(obj,_5e){obj.issued=_50.util.createDate(_5e);},"modified":function(obj,_5f){obj.modified=_50.util.createDate(_5f);},"published":function(obj,_60){obj.published=_50.util.createDate(_60);},"entry":function(obj,_61){if(obj.entries===null){obj.entries=[];}var _62=obj.createEntry?obj.createEntry():new _50.Entry();_62.buildFromDom(_61);obj.entries.push(_62);},"content":function(obj,_63){var cnt=new _50.Content("content");cnt.buildFromDom(_63);obj.content=cnt;},"summary":function(obj,_64){var _65=new _50.Content("summary");_65.buildFromDom(_64);obj.summary=_65;},"name":function(obj,_66){obj.name=_4f.textContent(_66);},"email":function(obj,_67){obj.email=_4f.textContent(_67);},"uri":function(obj,_68){obj.uri=_4f.textContent(_68);},"generator":function(obj,_69){obj.generator=new _50.Generator();obj.generator.buildFromDom(_69);}};_50.util={createDate:function(_6a){var _6b=_4f.textContent(_6a);if(_6b){return _4e.fromISOString(_4d.trim(_6b));}return null;},escapeHtml:function(str){return str.replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;").replace(/'/gm,"&#39;");},unEscapeHtml:function(str){return str.replace(/&lt;/gm,"<").replace(/&gt;/gm,">").replace(/&quot;/gm,"\"").replace(/&#39;/gm,"'").replace(/&amp;/gm,"&");},getNodename:function(_6c){var _6d=null;if(_6c!==null){_6d=_6c.localName?_6c.localName:_6c.nodeName;if(_6d!==null){var _6e=_6d.indexOf(":");if(_6e!==-1){_6d=_6d.substring((_6e+1),_6d.length);}}}return _6d;}};_50.Node=_4b.declare(null,{constructor:function(_6f,_70,_71,_72,_73){this.name_space=_6f;this.name=_70;this.attributes=[];if(_71){this.attributes=_71;}this.content=[];this.rawNodes=[];this.textContent=null;if(_72){this.content.push(_72);}this.shortNs=_73;this._objName="Node";this.nodeType="Node";},buildFromDom:function(_74){this._saveAttributes(_74);this.name_space=_74.namespaceURI;this.shortNs=_74.prefix;this.name=_50.util.getNodename(_74);for(var x=0;x<_74.childNodes.length;x++){var c=_74.childNodes[x];if(_50.util.getNodename(c)!="#text"){this.rawNodes.push(c);var n=new _50.Node();n.buildFromDom(c,true);this.content.push(n);}else{this.content.push(c.nodeValue);}}this.textContent=_4f.textContent(_74);},_saveAttributes:function(_75){if(!this.attributes){this.attributes=[];}var _76=function(_77){var _78=_77.attributes;if(_78===null){return false;}return (_78.length!==0);};if(_76(_75)&&this._getAttributeNames){var _79=this._getAttributeNames(_75);if(_79&&_79.length>0){for(var x in _79){var _7a=_75.getAttribute(_79[x]);if(_7a){this.attributes[_79[x]]=_7a;}}}}},addAttribute:function(_7b,_7c){this.attributes[_7b]=_7c;},getAttribute:function(_7d){return this.attributes[_7d];},_getAttributeNames:function(_7e){var _7f=[];for(var i=0;i<_7e.attributes.length;i++){_7f.push(_7e.attributes[i].nodeName);}return _7f;},toString:function(){var xml=[];var x;var _80=(this.shortNs?this.shortNs+":":"")+this.name;var _81=(this.name=="#cdata-section");if(_81){xml.push("<![CDATA[");xml.push(this.textContent);xml.push("]]>");}else{xml.push("<");xml.push(_80);if(this.name_space){xml.push(" xmlns='"+this.name_space+"'");}if(this.attributes){for(x in this.attributes){xml.push(" "+x+"='"+this.attributes[x]+"'");}}if(this.content){xml.push(">");for(x in this.content){xml.push(this.content[x]);}xml.push("</"+_80+">\n");}else{xml.push("/>\n");}}return xml.join("");},addContent:function(_82){this.content.push(_82);}});_50.AtomItem=_4b.declare(_50.Node,{constructor:function(_83){this.ATOM_URI=_50._Constants.ATOM_URI;this.links=null;this.authors=null;this.categories=null;this.contributors=null;this.icon=this.id=this.logo=this.xmlBase=this.rights=null;this.subtitle=this.title=null;this.updated=this.published=null;this.issued=this.modified=null;this.content=null;this.extensions=null;this.entries=null;this.name_spaces={};this._objName="AtomItem";this.nodeType="AtomItem";},_getAttributeNames:function(){return null;},_accepts:{},accept:function(tag){return Boolean(this._accepts[tag]);},_postBuild:function(){},buildFromDom:function(_84){var i,c,n;for(i=0;i<_84.attributes.length;i++){c=_84.attributes.item(i);n=_50.util.getNodename(c);if(c.prefix=="xmlns"&&c.prefix!=n){this.addNamespace(c.nodeValue,n);}}c=_84.childNodes;for(i=0;i<c.length;i++){if(c[i].nodeType==1){var _85=_50.util.getNodename(c[i]);if(!_85){continue;}if(c[i].namespaceURI!=_50._Constants.ATOM_NS&&_85!="#text"){if(!this.extensions){this.extensions=[];}var _86=new _50.Node();_86.buildFromDom(c[i]);this.extensions.push(_86);}if(!this.accept(_85.toLowerCase())){continue;}var fn=_50._actions[_85];if(fn){fn(this,c[i]);}}}this._saveAttributes(_84);if(this._postBuild){this._postBuild();}},addNamespace:function(_87,_88){if(_87&&_88){this.name_spaces[_88]=_87;}},addAuthor:function(_89,_8a,uri){if(!this.authors){this.authors=[];}this.authors.push(new _50.Person("author",_89,_8a,uri));},addContributor:function(_8b,_8c,uri){if(!this.contributors){this.contributors=[];}this.contributors.push(new _50.Person("contributor",_8b,_8c,uri));},addLink:function(_8d,rel,_8e,_8f,_90){if(!this.links){this.links=[];}this.links.push(new _50.Link(_8d,rel,_8e,_8f,_90));},removeLink:function(_91,rel){if(!this.links||!_4d.isArray(this.links)){return;}var _92=0;for(var i=0;i<this.links.length;i++){if((!_91||this.links[i].href===_91)&&(!rel||this.links[i].rel===rel)){this.links.splice(i,1);_92++;}}return _92;},removeBasicLinks:function(){if(!this.links){return;}var _93=0;for(var i=0;i<this.links.length;i++){if(!this.links[i].rel){this.links.splice(i,1);_93++;i--;}}return _93;},addCategory:function(_94,_95,_96){if(!this.categories){this.categories=[];}this.categories.push(new _50.Category(_94,_95,_96));},getCategories:function(_97){if(!_97){return this.categories;}var arr=[];for(var x in this.categories){if(this.categories[x].scheme===_97){arr.push(this.categories[x]);}}return arr;},removeCategories:function(_98,_99){if(!this.categories){return;}var _9a=0;for(var i=0;i<this.categories.length;i++){if((!_98||this.categories[i].scheme===_98)&&(!_99||this.categories[i].term===_99)){this.categories.splice(i,1);_9a++;i--;}}return _9a;},setTitle:function(str,_9b){if(!str){return;}this.title=new _50.Content("title");this.title.value=str;if(_9b){this.title.type=_9b;}},addExtension:function(_9c,_9d,_9e,_9f,_a0){if(!this.extensions){this.extensions=[];}this.extensions.push(new _50.Node(_9c,_9d,_9e,_9f,_a0||"ns"+this.extensions.length));},getExtensions:function(_a1,_a2){var arr=[];if(!this.extensions){return arr;}for(var x in this.extensions){if((this.extensions[x].name_space===_a1||this.extensions[x].shortNs===_a1)&&(!_a2||this.extensions[x].name===_a2)){arr.push(this.extensions[x]);}}return arr;},removeExtensions:function(_a3,_a4){if(!this.extensions){return;}for(var i=0;i<this.extensions.length;i++){if((this.extensions[i].name_space==_a3||this.extensions[i].shortNs===_a3)&&this.extensions[i].name===_a4){this.extensions.splice(i,1);i--;}}},destroy:function(){this.links=null;this.authors=null;this.categories=null;this.contributors=null;this.icon=this.id=this.logo=this.xmlBase=this.rights=null;this.subtitle=this.title=null;this.updated=this.published=null;this.issued=this.modified=null;this.content=null;this.extensions=null;this.entries=null;}});_50.Category=_4b.declare(_50.Node,{constructor:function(_a5,_a6,_a7){this.scheme=_a5;this.term=_a6;this.label=_a7;this._objName="Category";this.nodeType="Category";},_postBuild:function(){},_getAttributeNames:function(){return ["label","scheme","term"];},toString:function(){var s=[];s.push("<category ");if(this.label){s.push(" label=\""+this.label+"\" ");}if(this.scheme){s.push(" scheme=\""+this.scheme+"\" ");}if(this.term){s.push(" term=\""+this.term+"\" ");}s.push("/>\n");return s.join("");},buildFromDom:function(_a8){this._saveAttributes(_a8);this.label=this.attributes.label;this.scheme=this.attributes.scheme;this.term=this.attributes.term;if(this._postBuild){this._postBuild();}}});_50.Content=_4b.declare(_50.Node,{constructor:function(_a9,_aa,src,_ab,_ac){this.tagName=_a9;this.value=_aa;this.src=src;this.type=_ab;this.xmlLang=_ac;this.HTML="html";this.TEXT="text";this.XHTML="xhtml";this.XML="xml";this._useTextContent="true";this.nodeType="Content";},_getAttributeNames:function(){return ["type","src"];},_postBuild:function(){},buildFromDom:function(_ad){var _ae=_ad.getAttribute("type");if(_ae){_ae=_ae.toLowerCase();if(_ae=="xml"||"text/xml"){_ae=this.XML;}}else{_ae="text";}if(_ae===this.XML){if(_ad.firstChild){var i;this.value="";for(i=0;i<_ad.childNodes.length;i++){var c=_ad.childNodes[i];if(c){this.value+=_4f.innerXML(c);}}}}else{if(_ad.innerHTML){this.value=_ad.innerHTML;}else{this.value=_4f.textContent(_ad);}}this._saveAttributes(_ad);if(this.attributes){this.type=this.attributes.type;this.scheme=this.attributes.scheme;this.term=this.attributes.term;}if(!this.type){this.type="text";}var _af=this.type.toLowerCase();if(_af==="html"||_af==="text/html"||_af==="xhtml"||_af==="text/xhtml"){this.value=this.value?_50.util.unEscapeHtml(this.value):"";}if(this._postBuild){this._postBuild();}},toString:function(){var s=[];s.push("<"+this.tagName+" ");if(!this.type){this.type="text";}if(this.type){s.push(" type=\""+this.type+"\" ");}if(this.xmlLang){s.push(" xml:lang=\""+this.xmlLang+"\" ");}if(this.xmlBase){s.push(" xml:base=\""+this.xmlBase+"\" ");}if(this.type.toLowerCase()==this.HTML){s.push(">"+_50.util.escapeHtml(this.value)+"</"+this.tagName+">\n");}else{s.push(">"+this.value+"</"+this.tagName+">\n");}var ret=s.join("");return ret;}});_50.Link=_4b.declare(_50.Node,{constructor:function(_b0,rel,_b1,_b2,_b3){this.href=_b0;this.hrefLang=_b1;this.rel=rel;this.title=_b2;this.type=_b3;this.nodeType="Link";},_getAttributeNames:function(){return ["href","jrefLang","rel","title","type"];},_postBuild:function(){},buildFromDom:function(_b4){this._saveAttributes(_b4);this.href=this.attributes.href;this.hrefLang=this.attributes.hreflang;this.rel=this.attributes.rel;this.title=this.attributes.title;this.type=this.attributes.type;if(this._postBuild){this._postBuild();}},toString:function(){var s=[];s.push("<link ");if(this.href){s.push(" href=\""+this.href+"\" ");}if(this.hrefLang){s.push(" hrefLang=\""+this.hrefLang+"\" ");}if(this.rel){s.push(" rel=\""+this.rel+"\" ");}if(this.title){s.push(" title=\""+this.title+"\" ");}if(this.type){s.push(" type = \""+this.type+"\" ");}s.push("/>\n");return s.join("");}});_50.Person=_4b.declare(_50.Node,{constructor:function(_b5,_b6,_b7,uri){this.author="author";this.contributor="contributor";if(!_b5){_b5=this.author;}this.personType=_b5;this.name=_b6||"";this.email=_b7||"";this.uri=uri||"";this._objName="Person";this.nodeType="Person";},_getAttributeNames:function(){return null;},_postBuild:function(){},accept:function(tag){return Boolean(this._accepts[tag]);},buildFromDom:function(_b8){var c=_b8.childNodes;for(var i=0;i<c.length;i++){var _b9=_50.util.getNodename(c[i]);if(!_b9){continue;}if(c[i].namespaceURI!=_50._Constants.ATOM_NS&&_b9!="#text"){if(!this.extensions){this.extensions=[];}var _ba=new _50.Node();_ba.buildFromDom(c[i]);this.extensions.push(_ba);}if(!this.accept(_b9.toLowerCase())){continue;}var fn=_50._actions[_b9];if(fn){fn(this,c[i]);}}this._saveAttributes(_b8);if(this._postBuild){this._postBuild();}},_accepts:{"name":true,"uri":true,"email":true},toString:function(){var s=[];s.push("<"+this.personType+">\n");if(this.name){s.push("\t<name>"+this.name+"</name>\n");}if(this.email){s.push("\t<email>"+this.email+"</email>\n");}if(this.uri){s.push("\t<uri>"+this.uri+"</uri>\n");}s.push("</"+this.personType+">\n");return s.join("");}});_50.Generator=_4b.declare(_50.Node,{constructor:function(uri,_bb,_bc){this.uri=uri;this.version=_bb;this.value=_bc;},_postBuild:function(){},buildFromDom:function(_bd){this.value=_4f.textContent(_bd);this._saveAttributes(_bd);this.uri=this.attributes.uri;this.version=this.attributes.version;if(this._postBuild){this._postBuild();}},toString:function(){var s=[];s.push("<generator ");if(this.uri){s.push(" uri=\""+this.uri+"\" ");}if(this.version){s.push(" version=\""+this.version+"\" ");}s.push(">"+this.value+"</generator>\n");var ret=s.join("");return ret;}});_50.Entry=_4b.declare(_50.AtomItem,{constructor:function(id){this.id=id;this._objName="Entry";this.feedUrl=null;},_getAttributeNames:function(){return null;},_accepts:{"author":true,"content":true,"category":true,"contributor":true,"created":true,"id":true,"link":true,"published":true,"rights":true,"summary":true,"title":true,"updated":true,"xmlbase":true,"issued":true,"modified":true},toString:function(_be){var s=[];var i;if(_be){s.push("<?xml version='1.0' encoding='UTF-8'?>");s.push("<entry xmlns='"+_50._Constants.ATOM_URI+"'");}else{s.push("<entry");}if(this.xmlBase){s.push(" xml:base=\""+this.xmlBase+"\" ");}for(i in this.name_spaces){s.push(" xmlns:"+i+"=\""+this.name_spaces[i]+"\"");}s.push(">\n");s.push("<id>"+(this.id?this.id:"")+"</id>\n");if(this.issued&&!this.published){this.published=this.issued;}if(this.published){s.push("<published>"+_4e.toISOString(this.published)+"</published>\n");}if(this.created){s.push("<created>"+_4e.toISOString(this.created)+"</created>\n");}if(this.issued){s.push("<issued>"+_4e.toISOString(this.issued)+"</issued>\n");}if(this.modified){s.push("<modified>"+_4e.toISOString(this.modified)+"</modified>\n");}if(this.modified&&!this.updated){this.updated=this.modified;}if(this.updated){s.push("<updated>"+_4e.toISOString(this.updated)+"</updated>\n");}if(this.rights){s.push("<rights>"+this.rights+"</rights>\n");}if(this.title){s.push(this.title.toString());}if(this.summary){s.push(this.summary.toString());}var _bf=[this.authors,this.categories,this.links,this.contributors,this.extensions];for(var x in _bf){if(_bf[x]){for(var y in _bf[x]){s.push(_bf[x][y]);}}}if(this.content){s.push(this.content.toString());}s.push("</entry>\n");return s.join("");},getEditHref:function(){if(this.links===null||this.links.length===0){return null;}for(var x in this.links){if(this.links[x].rel&&this.links[x].rel=="edit"){return this.links[x].href;}}return null;},setEditHref:function(url){if(this.links===null){this.links=[];}for(var x in this.links){if(this.links[x].rel&&this.links[x].rel=="edit"){this.links[x].href=url;return;}}this.addLink(url,"edit");}});_50.Feed=_4b.declare(_50.AtomItem,{_accepts:{"author":true,"content":true,"category":true,"contributor":true,"created":true,"id":true,"link":true,"published":true,"rights":true,"summary":true,"title":true,"updated":true,"xmlbase":true,"entry":true,"logo":true,"issued":true,"modified":true,"icon":true,"subtitle":true},addEntry:function(_c0){if(!_c0.id){throw new Error("The entry object must be assigned an ID attribute.");}if(!this.entries){this.entries=[];}_c0.feedUrl=this.getSelfHref();this.entries.push(_c0);},getFirstEntry:function(){if(!this.entries||this.entries.length===0){return null;}return this.entries[0];},getEntry:function(_c1){if(!this.entries){return null;}for(var x in this.entries){if(this.entries[x].id==_c1){return this.entries[x];}}return null;},removeEntry:function(_c2){if(!this.entries){return;}var _c3=0;for(var i=0;i<this.entries.length;i++){if(this.entries[i]===_c2){this.entries.splice(i,1);_c3++;}}return _c3;},setEntries:function(_c4){for(var x in _c4){this.addEntry(_c4[x]);}},toString:function(){var s=[];var i;s.push("<?xml version=\"1.0\" encoding=\"utf-8\"?>\n");s.push("<feed xmlns=\""+_50._Constants.ATOM_URI+"\"");if(this.xmlBase){s.push(" xml:base=\""+this.xmlBase+"\"");}for(i in this.name_spaces){s.push(" xmlns:"+i+"=\""+this.name_spaces[i]+"\"");}s.push(">\n");s.push("<id>"+(this.id?this.id:"")+"</id>\n");if(this.title){s.push(this.title);}if(this.copyright&&!this.rights){this.rights=this.copyright;}if(this.rights){s.push("<rights>"+this.rights+"</rights>\n");}if(this.issued){s.push("<issued>"+_4e.toISOString(this.issued)+"</issued>\n");}if(this.modified){s.push("<modified>"+_4e.toISOString(this.modified)+"</modified>\n");}if(this.modified&&!this.updated){this.updated=this.modified;}if(this.updated){s.push("<updated>"+_4e.toISOString(this.updated)+"</updated>\n");}if(this.published){s.push("<published>"+_4e.toISOString(this.published)+"</published>\n");}if(this.icon){s.push("<icon>"+this.icon+"</icon>\n");}if(this.language){s.push("<language>"+this.language+"</language>\n");}if(this.logo){s.push("<logo>"+this.logo+"</logo>\n");}if(this.subtitle){s.push(this.subtitle.toString());}if(this.tagline){s.push(this.tagline.toString());}var _c5=[this.alternateLinks,this.authors,this.categories,this.contributors,this.otherLinks,this.extensions,this.entries];for(i in _c5){if(_c5[i]){for(var x in _c5[i]){s.push(_c5[i][x]);}}}s.push("</feed>");return s.join("");},createEntry:function(){var _c6=new _50.Entry();_c6.feedUrl=this.getSelfHref();return _c6;},getSelfHref:function(){if(this.links===null||this.links.length===0){return null;}for(var x in this.links){if(this.links[x].rel&&this.links[x].rel=="self"){return this.links[x].href;}}return null;}});_50.Service=_4b.declare(_50.AtomItem,{constructor:function(_c7){this.href=_c7;},buildFromDom:function(_c8){var i;this.workspaces=[];if(_c8.tagName!="service"){return;}if(_c8.namespaceURI!=_50._Constants.PURL_NS&&_c8.namespaceURI!=_50._Constants.APP_NS){return;}var ns=_c8.namespaceURI;this.name_space=_c8.namespaceURI;var _c9;if(typeof (_c8.getElementsByTagNameNS)!="undefined"){_c9=_c8.getElementsByTagNameNS(ns,"workspace");}else{_c9=[];var _ca=_c8.getElementsByTagName("workspace");for(i=0;i<_ca.length;i++){if(_ca[i].namespaceURI==ns){_c9.push(_ca[i]);}}}if(_c9&&_c9.length>0){var _cb=0;var _cc;for(i=0;i<_c9.length;i++){_cc=(typeof (_c9.item)==="undefined"?_c9[i]:_c9.item(i));var _cd=new _50.Workspace();_cd.buildFromDom(_cc);this.workspaces[_cb++]=_cd;}}},getCollection:function(url){for(var i=0;i<this.workspaces.length;i++){var _ce=this.workspaces[i].collections;for(var j=0;j<_ce.length;j++){if(_ce[j].href==url){return _ce;}}}return null;}});_50.Workspace=_4b.declare(_50.AtomItem,{constructor:function(_cf){this.title=_cf;this.collections=[];},buildFromDom:function(_d0){var _d1=_50.util.getNodename(_d0);if(_d1!="workspace"){return;}var c=_d0.childNodes;var len=0;for(var i=0;i<c.length;i++){var _d2=c[i];if(_d2.nodeType===1){_d1=_50.util.getNodename(_d2);if(_d2.namespaceURI==_50._Constants.PURL_NS||_d2.namespaceURI==_50._Constants.APP_NS){if(_d1==="collection"){var _d3=new _50.Collection();_d3.buildFromDom(_d2);this.collections[len++]=_d3;}}else{if(_d2.namespaceURI===_50._Constants.ATOM_NS){if(_d1==="title"){this.title=_4f.textContent(_d2);}}}}}}});_50.Collection=_4b.declare(_50.AtomItem,{constructor:function(_d4,_d5){this.href=_d4;this.title=_d5;this.attributes=[];this.features=[];this.children=[];this.memberType=null;this.id=null;},buildFromDom:function(_d6){this.href=_d6.getAttribute("href");var c=_d6.childNodes;for(var i=0;i<c.length;i++){var _d7=c[i];if(_d7.nodeType===1){var _d8=_50.util.getNodename(_d7);if(_d7.namespaceURI==_50._Constants.PURL_NS||_d7.namespaceURI==_50._Constants.APP_NS){if(_d8==="member-type"){this.memberType=_4f.textContent(_d7);}else{if(_d8=="feature"){if(_d7.getAttribute("id")){this.features.push(_d7.getAttribute("id"));}}else{var _d9=new _50.Node();_d9.buildFromDom(_d7);this.children.push(_d9);}}}else{if(_d7.namespaceURI===_50._Constants.ATOM_NS){if(_d8==="id"){this.id=_4f.textContent(_d7);}else{if(_d8==="title"){this.title=_4f.textContent(_d7);}}}}}}}});return _50;});},"*noref":1}});define("dojox/_dojox_io",[],1);require(["dojox/atom/io/model","dojox/atom/io/Connection"]);
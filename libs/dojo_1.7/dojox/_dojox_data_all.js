/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/

/*
	This is an optimized version of Dojo, built for deployment and not for
	development. To get sources and documentation, please visit:

		http://dojotoolkit.org
*/

//>>built
require({cache:{"dojox/data/QueryReadStore":function(){define("dojox/data/QueryReadStore",["dojo","dojox","dojo/data/util/sorter","dojo/string"],function(_1,_2){_1.declare("dojox.data.QueryReadStore",null,{url:"",requestMethod:"get",_className:"dojox.data.QueryReadStore",_items:[],_lastServerQuery:null,_numRows:-1,lastRequestHash:null,doClientPaging:false,doClientSorting:false,_itemsByIdentity:null,_identifier:null,_features:{"dojo.data.api.Read":true,"dojo.data.api.Identity":true},_labelAttr:"label",constructor:function(_3){_1.mixin(this,_3);},getValue:function(_4,_5,_6){this._assertIsItem(_4);if(!_1.isString(_5)){throw new Error(this._className+".getValue(): Invalid attribute, string expected!");}if(!this.hasAttribute(_4,_5)){if(_6){return _6;}}return _4.i[_5];},getValues:function(_7,_8){this._assertIsItem(_7);var _9=[];if(this.hasAttribute(_7,_8)){_9.push(_7.i[_8]);}return _9;},getAttributes:function(_a){this._assertIsItem(_a);var _b=[];for(var i in _a.i){_b.push(i);}return _b;},hasAttribute:function(_c,_d){return this.isItem(_c)&&typeof _c.i[_d]!="undefined";},containsValue:function(_e,_f,_10){var _11=this.getValues(_e,_f);var len=_11.length;for(var i=0;i<len;i++){if(_11[i]==_10){return true;}}return false;},isItem:function(_12){if(_12){return typeof _12.r!="undefined"&&_12.r==this;}return false;},isItemLoaded:function(_13){return this.isItem(_13);},loadItem:function(_14){if(this.isItemLoaded(_14.item)){return;}},fetch:function(_15){_15=_15||{};if(!_15.store){_15.store=this;}var _16=this;var _17=function(_18,_19){if(_19.onError){var _1a=_19.scope||_1.global;_19.onError.call(_1a,_18,_19);}};var _1b=function(_1c,_1d,_1e){var _1f=_1d.abort||null;var _20=false;var _21=_1d.start?_1d.start:0;if(_16.doClientPaging==false){_21=0;}var _22=_1d.count?(_21+_1d.count):_1c.length;_1d.abort=function(){_20=true;if(_1f){_1f.call(_1d);}};var _23=_1d.scope||_1.global;if(!_1d.store){_1d.store=_16;}if(_1d.onBegin){_1d.onBegin.call(_23,_1e,_1d);}if(_1d.sort&&_16.doClientSorting){_1c.sort(_1.data.util.sorter.createSortFunction(_1d.sort,_16));}if(_1d.onItem){for(var i=_21;(i<_1c.length)&&(i<_22);++i){var _24=_1c[i];if(!_20){_1d.onItem.call(_23,_24,_1d);}}}if(_1d.onComplete&&!_20){var _25=null;if(!_1d.onItem){_25=_1c.slice(_21,_22);}_1d.onComplete.call(_23,_25,_1d);}};this._fetchItems(_15,_1b,_17);return _15;},getFeatures:function(){return this._features;},close:function(_26){},getLabel:function(_27){if(this._labelAttr&&this.isItem(_27)){return this.getValue(_27,this._labelAttr);}return undefined;},getLabelAttributes:function(_28){if(this._labelAttr){return [this._labelAttr];}return null;},_xhrFetchHandler:function(_29,_2a,_2b,_2c){_29=this._filterResponse(_29);if(_29.label){this._labelAttr=_29.label;}var _2d=_29.numRows||-1;this._items=[];_1.forEach(_29.items,function(e){this._items.push({i:e,r:this});},this);var _2e=_29.identifier;this._itemsByIdentity={};if(_2e){this._identifier=_2e;var i;for(i=0;i<this._items.length;++i){var _2f=this._items[i].i;var _30=_2f[_2e];if(!this._itemsByIdentity[_30]){this._itemsByIdentity[_30]=_2f;}else{throw new Error(this._className+":  The json data as specified by: ["+this.url+"] is malformed.  Items within the list have identifier: ["+_2e+"].  Value collided: ["+_30+"]");}}}else{this._identifier=Number;for(i=0;i<this._items.length;++i){this._items[i].n=i;}}_2d=this._numRows=(_2d===-1)?this._items.length:_2d;_2b(this._items,_2a,_2d);this._numRows=_2d;},_fetchItems:function(_31,_32,_33){var _34=_31.serverQuery||_31.query||{};if(!this.doClientPaging){_34.start=_31.start||0;if(_31.count){_34.count=_31.count;}}if(!this.doClientSorting&&_31.sort){var _35=[];_1.forEach(_31.sort,function(_36){if(_36&&_36.attribute){_35.push((_36.descending?"-":"")+_36.attribute);}});_34.sort=_35.join(",");}if(this.doClientPaging&&this._lastServerQuery!==null&&_1.toJson(_34)==_1.toJson(this._lastServerQuery)){this._numRows=(this._numRows===-1)?this._items.length:this._numRows;_32(this._items,_31,this._numRows);}else{var _37=this.requestMethod.toLowerCase()=="post"?_1.xhrPost:_1.xhrGet;var _38=_37({url:this.url,handleAs:"json-comment-optional",content:_34,failOk:true});_31.abort=function(){_38.cancel();};_38.addCallback(_1.hitch(this,function(_39){this._xhrFetchHandler(_39,_31,_32,_33);}));_38.addErrback(function(_3a){_33(_3a,_31);});this.lastRequestHash=new Date().getTime()+"-"+String(Math.random()).substring(2);this._lastServerQuery=_1.mixin({},_34);}},_filterResponse:function(_3b){return _3b;},_assertIsItem:function(_3c){if(!this.isItem(_3c)){throw new Error(this._className+": Invalid item argument.");}},_assertIsAttribute:function(_3d){if(typeof _3d!=="string"){throw new Error(this._className+": Invalid attribute argument ('"+_3d+"').");}},fetchItemByIdentity:function(_3e){if(this._itemsByIdentity){var _3f=this._itemsByIdentity[_3e.identity];if(!(_3f===undefined)){if(_3e.onItem){var _40=_3e.scope?_3e.scope:_1.global;_3e.onItem.call(_40,{i:_3f,r:this});}return;}}var _41=function(_42,_43){var _44=_3e.scope?_3e.scope:_1.global;if(_3e.onError){_3e.onError.call(_44,_42);}};var _45=function(_46,_47){var _48=_3e.scope?_3e.scope:_1.global;try{var _49=null;if(_46&&_46.length==1){_49=_46[0];}if(_3e.onItem){_3e.onItem.call(_48,_49);}}catch(error){if(_3e.onError){_3e.onError.call(_48,error);}}};var _4a={serverQuery:{id:_3e.identity}};this._fetchItems(_4a,_45,_41);},getIdentity:function(_4b){var _4c=null;if(this._identifier===Number){_4c=_4b.n;}else{_4c=_4b.i[this._identifier];}return _4c;},getIdentityAttributes:function(_4d){return [this._identifier];}});return _2.data.QueryReadStore;});},"dojox/data/CdfStore":function(){define("dojox/data/CdfStore",["dojo","dojox","dojo/data/util/sorter"],function(_4e,_4f){_4f.data.ASYNC_MODE=0;_4f.data.SYNC_MODE=1;_4e.declare("dojox.data.CdfStore",null,{identity:"jsxid",url:"",xmlStr:"",data:null,label:"",mode:_4f.data.ASYNC_MODE,constructor:function(_50){if(_50){this.url=_50.url;this.xmlStr=_50.xmlStr||_50.str;if(_50.data){this.xmlStr=this._makeXmlString(_50.data);}this.identity=_50.identity||this.identity;this.label=_50.label||this.label;this.mode=_50.mode!==undefined?_50.mode:this.mode;}this._modifiedItems={};this.byId=this.fetchItemByIdentity;},getValue:function(_51,_52,_53){return _51.getAttribute(_52)||_53;},getValues:function(_54,_55){var v=this.getValue(_54,_55,[]);return _4e.isArray(v)?v:[v];},getAttributes:function(_56){return _56.getAttributeNames();},hasAttribute:function(_57,_58){return (this.getValue(_57,_58)!==undefined);},hasProperty:function(_59,_5a){return this.hasAttribute(_59,_5a);},containsValue:function(_5b,_5c,_5d){var _5e=this.getValues(_5b,_5c);for(var i=0;i<_5e.length;i++){if(_5e[i]===null){continue;}if((typeof _5d==="string")){if(_5e[i].toString&&_5e[i].toString()===_5d){return true;}}else{if(_5e[i]===_5d){return true;}}}return false;},isItem:function(_5f){if(_5f.getClass&&_5f.getClass().equals(jsx3.xml.Entity.jsxclass)){return true;}return false;},isItemLoaded:function(_60){return this.isItem(_60);},loadItem:function(_61){},getFeatures:function(){return {"dojo.data.api.Read":true,"dojo.data.api.Write":true,"dojo.data.api.Identity":true};},getLabel:function(_62){if((this.label!=="")&&this.isItem(_62)){var _63=this.getValue(_62,this.label);if(_63){return _63.toString();}}return undefined;},getLabelAttributes:function(_64){if(this.label!==""){return [this.label];}return null;},fetch:function(_65){_65=_65||{};if(!_65.store){_65.store=this;}if(_65.mode!==undefined){this.mode=_65.mode;}var _66=this;var _67=function(_68){if(_65.onError){var _69=_65.scope||_4e.global;_65.onError.call(_69,_68,_65);}else{console.error("cdfStore Error:",_68);}};var _6a=function(_6b,_6c){_6c=_6c||_65;var _6d=_6c.abort||null;var _6e=false;var _6f=_6c.start?_6c.start:0;var _70=(_6c.count&&(_6c.count!==Infinity))?(_6f+_6c.count):_6b.length;_6c.abort=function(){_6e=true;if(_6d){_6d.call(_6c);}};var _71=_6c.scope||_4e.global;if(!_6c.store){_6c.store=_66;}if(_6c.onBegin){_6c.onBegin.call(_71,_6b.length,_6c);}if(_6c.sort){_6b.sort(_4e.data.util.sorter.createSortFunction(_6c.sort,_66));}if(_6c.onItem){for(var i=_6f;(i<_6b.length)&&(i<_70);++i){var _72=_6b[i];if(!_6e){_6c.onItem.call(_71,_72,_6c);}}}if(_6c.onComplete&&!_6e){if(!_6c.onItem){_6b=_6b.slice(_6f,_70);if(_6c.byId){_6b=_6b[0];}}_6c.onComplete.call(_71,_6b,_6c);}else{_6b=_6b.slice(_6f,_70);if(_6c.byId){_6b=_6b[0];}}return _6b;};if(!this.url&&!this.data&&!this.xmlStr){_67(new Error("No URL or data specified."));return false;}var _73=_65||"*";if(this.mode==_4f.data.SYNC_MODE){var res=this._loadCDF();if(res instanceof Error){if(_65.onError){_65.onError.call(_65.scope||_4e.global,res,_65);}else{console.error("CdfStore Error:",res);}return res;}this.cdfDoc=res;var _74=this._getItems(this.cdfDoc,_73);if(_74&&_74.length>0){_74=_6a(_74,_65);}else{_74=_6a([],_65);}return _74;}else{var dfd=this._loadCDF();dfd.addCallbacks(_4e.hitch(this,function(_75){var _76=this._getItems(this.cdfDoc,_73);if(_76&&_76.length>0){_6a(_76,_65);}else{_6a([],_65);}}),_4e.hitch(this,function(err){_67(err,_65);}));return dfd;}},_loadCDF:function(){var dfd=new _4e.Deferred();if(this.cdfDoc){if(this.mode==_4f.data.SYNC_MODE){return this.cdfDoc;}else{setTimeout(_4e.hitch(this,function(){dfd.callback(this.cdfDoc);}),0);return dfd;}}this.cdfDoc=jsx3.xml.CDF.Document.newDocument();this.cdfDoc.subscribe("response",this,function(evt){dfd.callback(this.cdfDoc);});this.cdfDoc.subscribe("error",this,function(err){dfd.errback(err);});this.cdfDoc.setAsync(!this.mode);if(this.url){this.cdfDoc.load(this.url);}else{if(this.xmlStr){this.cdfDoc.loadXML(this.xmlStr);if(this.cdfDoc.getError().code){return new Error(this.cdfDoc.getError().description);}}}if(this.mode==_4f.data.SYNC_MODE){return this.cdfDoc;}else{return dfd;}},_getItems:function(_77,_78){var itr=_77.selectNodes(_78.query,false,1);var _79=[];while(itr.hasNext()){_79.push(itr.next());}return _79;},close:function(_7a){},newItem:function(_7b,_7c){_7b=(_7b||{});if(_7b.tagName){if(_7b.tagName!="record"){console.warn("Only record inserts are supported at this time");}delete _7b.tagName;}_7b.jsxid=_7b.jsxid||this.cdfDoc.getKey();if(this.isItem(_7c)){_7c=this.getIdentity(_7c);}var _7d=this.cdfDoc.insertRecord(_7b,_7c);this._makeDirty(_7d);return _7d;},deleteItem:function(_7e){this.cdfDoc.deleteRecord(this.getIdentity(_7e));this._makeDirty(_7e);return true;},setValue:function(_7f,_80,_81){this._makeDirty(_7f);_7f.setAttribute(_80,_81);return true;},setValues:function(_82,_83,_84){this._makeDirty(_82);console.warn("cdfStore.setValues only partially implemented.");return _82.setAttribute(_83,_84);},unsetAttribute:function(_85,_86){this._makeDirty(_85);_85.removeAttribute(_86);return true;},revert:function(){delete this.cdfDoc;this._modifiedItems={};return true;},isDirty:function(_87){if(_87){return !!this._modifiedItems[this.getIdentity(_87)];}else{var _88=false;for(var nm in this._modifiedItems){_88=true;break;}return _88;}},_makeDirty:function(_89){var id=this.getIdentity(_89);this._modifiedItems[id]=_89;},_makeXmlString:function(obj){var _8a=function(obj,_8b){var _8c="";var nm;if(_4e.isArray(obj)){for(var i=0;i<obj.length;i++){_8c+=_8a(obj[i],_8b);}}else{if(_4e.isObject(obj)){_8c+="<"+_8b+" ";for(nm in obj){if(!_4e.isObject(obj[nm])){_8c+=nm+"=\""+obj[nm]+"\" ";}}_8c+=">";for(nm in obj){if(_4e.isObject(obj[nm])){_8c+=_8a(obj[nm],nm);}}_8c+="</"+_8b+">";}}return _8c;};return _8a(obj,"data");},getIdentity:function(_8d){return this.getValue(_8d,this.identity);},getIdentityAttributes:function(_8e){return [this.identity];},fetchItemByIdentity:function(_8f){if(_4e.isString(_8f)){var id=_8f;_8f={query:"//record[@jsxid='"+id+"']",mode:_4f.data.SYNC_MODE};}else{if(_8f){_8f.query="//record[@jsxid='"+_8f.identity+"']";}if(!_8f.mode){_8f.mode=this.mode;}}_8f.byId=true;return this.fetch(_8f);},byId:function(_90){}});return _4f.data.CdfStore;});},"dojox/data/JsonQueryRestStore":function(){define("dojox/data/JsonQueryRestStore",["dojo","dojox","dojox/data/JsonRestStore","dojox/data/util/JsonQuery","dojox/data/ClientFilter","dojox/json/query"],function(_91,_92){_91.declare("dojox.data.JsonQueryRestStore",[_92.data.JsonRestStore,_92.data.util.JsonQuery],{matchesQuery:function(_93,_94){return _93.__id&&(_93.__id.indexOf("#")==-1)&&this.inherited(arguments);}});return _92.data.JsonQueryRestStore;});},"dojox/data/HtmlTableStore":function(){define("dojox/data/HtmlTableStore",["dojo/_base/kernel","dojo/_base/declare","dojo/_base/lang","dojo/dom","dojo/_base/array","dojo/_base/xhr","dojo/_base/sniff","dojo/_base/window","dojo/data/util/simpleFetch","dojo/data/util/filter","dojox/xml/parser"],function(_95,_96,_97,dom,_98,xhr,has,_99,_9a,_9b,_9c){var _9d=_96("dojox.data.HtmlTableStore",null,{constructor:function(_9e){_95.deprecated("dojox.data.HtmlTableStore","Please use dojox.data.HtmlStore");if(_9e.url){if(!_9e.tableId){throw new Error("dojo.data.HtmlTableStore: Cannot instantiate using url without an id!");}this.url=_9e.url;this.tableId=_9e.tableId;}else{if(_9e.tableId){this._rootNode=dom.byId(_9e.tableId);this.tableId=this._rootNode.id;}else{this._rootNode=dom.byId(this.tableId);}this._getHeadings();for(var i=0;i<this._rootNode.rows.length;i++){this._rootNode.rows[i].store=this;}}},url:"",tableId:"",_getHeadings:function(){this._headings=[];_98.forEach(this._rootNode.tHead.rows[0].cells,_97.hitch(this,function(th){this._headings.push(_9c.textContent(th));}));},_getAllItems:function(){var _9f=[];for(var i=1;i<this._rootNode.rows.length;i++){_9f.push(this._rootNode.rows[i]);}return _9f;},_assertIsItem:function(_a0){if(!this.isItem(_a0)){throw new Error("dojo.data.HtmlTableStore: a function was passed an item argument that was not an item");}},_assertIsAttribute:function(_a1){if(typeof _a1!=="string"){throw new Error("dojo.data.HtmlTableStore: a function was passed an attribute argument that was not an attribute name string");return -1;}return _98.indexOf(this._headings,_a1);},getValue:function(_a2,_a3,_a4){var _a5=this.getValues(_a2,_a3);return (_a5.length>0)?_a5[0]:_a4;},getValues:function(_a6,_a7){this._assertIsItem(_a6);var _a8=this._assertIsAttribute(_a7);if(_a8>-1){return [_9c.textContent(_a6.cells[_a8])];}return [];},getAttributes:function(_a9){this._assertIsItem(_a9);var _aa=[];for(var i=0;i<this._headings.length;i++){if(this.hasAttribute(_a9,this._headings[i])){_aa.push(this._headings[i]);}}return _aa;},hasAttribute:function(_ab,_ac){return this.getValues(_ab,_ac).length>0;},containsValue:function(_ad,_ae,_af){var _b0=undefined;if(typeof _af==="string"){_b0=_9b.patternToRegExp(_af,false);}return this._containsValue(_ad,_ae,_af,_b0);},_containsValue:function(_b1,_b2,_b3,_b4){var _b5=this.getValues(_b1,_b2);for(var i=0;i<_b5.length;++i){var _b6=_b5[i];if(typeof _b6==="string"&&_b4){return (_b6.match(_b4)!==null);}else{if(_b3===_b6){return true;}}}return false;},isItem:function(_b7){if(_b7&&_b7.store&&_b7.store===this){return true;}return false;},isItemLoaded:function(_b8){return this.isItem(_b8);},loadItem:function(_b9){this._assertIsItem(_b9.item);},_fetchItems:function(_ba,_bb,_bc){if(this._rootNode){this._finishFetchItems(_ba,_bb,_bc);}else{if(!this.url){this._rootNode=dom.byId(this.tableId);this._getHeadings();for(var i=0;i<this._rootNode.rows.length;i++){this._rootNode.rows[i].store=this;}}else{var _bd={url:this.url,handleAs:"text"};var _be=this;var _bf=xhr.get(_bd);_bf.addCallback(function(_c0){var _c1=function(_c2,id){if(_c2.id==id){return _c2;}if(_c2.childNodes){for(var i=0;i<_c2.childNodes.length;i++){var _c3=_c1(_c2.childNodes[i],id);if(_c3){return _c3;}}}return null;};var d=document.createElement("div");d.innerHTML=_c0;_be._rootNode=_c1(d,_be.tableId);_be._getHeadings.call(_be);for(var i=0;i<_be._rootNode.rows.length;i++){_be._rootNode.rows[i].store=_be;}_be._finishFetchItems(_ba,_bb,_bc);});_bf.addErrback(function(_c4){_bc(_c4,_ba);});}}},_finishFetchItems:function(_c5,_c6,_c7){var _c8=null;var _c9=this._getAllItems();if(_c5.query){var _ca=_c5.queryOptions?_c5.queryOptions.ignoreCase:false;_c8=[];var _cb={};var _cc;var key;for(key in _c5.query){_cc=_c5.query[key]+"";if(typeof _cc==="string"){_cb[key]=_9b.patternToRegExp(_cc,_ca);}}for(var i=0;i<_c9.length;++i){var _cd=true;var _ce=_c9[i];for(key in _c5.query){_cc=_c5.query[key]+"";if(!this._containsValue(_ce,key,_cc,_cb[key])){_cd=false;}}if(_cd){_c8.push(_ce);}}_c6(_c8,_c5);}else{if(_c9.length>0){_c8=_c9.slice(0,_c9.length);}_c6(_c8,_c5);}},getFeatures:function(){return {"dojo.data.api.Read":true,"dojo.data.api.Identity":true};},close:function(_cf){},getLabel:function(_d0){if(this.isItem(_d0)){return "Table Row #"+this.getIdentity(_d0);}return undefined;},getLabelAttributes:function(_d1){return null;},getIdentity:function(_d2){this._assertIsItem(_d2);if(!has("opera")){return _d2.sectionRowIndex;}else{return (_98.indexOf(this._rootNode.rows,_d2)-1);}},getIdentityAttributes:function(_d3){return null;},fetchItemByIdentity:function(_d4){var _d5=_d4.identity;var _d6=this;var _d7=null;var _d8=null;if(!this._rootNode){if(!this.url){this._rootNode=dom.byId(this.tableId);this._getHeadings();for(var i=0;i<this._rootNode.rows.length;i++){this._rootNode.rows[i].store=this;}_d7=this._rootNode.rows[_d5+1];if(_d4.onItem){_d8=_d4.scope?_d4.scope:_99.global;_d4.onItem.call(_d8,_d7);}}else{var _d9={url:this.url,handleAs:"text"};var _da=xhr.get(_d9);_da.addCallback(function(_db){var _dc=function(_dd,id){if(_dd.id==id){return _dd;}if(_dd.childNodes){for(var i=0;i<_dd.childNodes.length;i++){var _de=_dc(_dd.childNodes[i],id);if(_de){return _de;}}}return null;};var d=document.createElement("div");d.innerHTML=_db;_d6._rootNode=_dc(d,_d6.tableId);_d6._getHeadings.call(_d6);for(var i=0;i<_d6._rootNode.rows.length;i++){_d6._rootNode.rows[i].store=_d6;}_d7=_d6._rootNode.rows[_d5+1];if(_d4.onItem){_d8=_d4.scope?_d4.scope:_99.global;_d4.onItem.call(_d8,_d7);}});_da.addErrback(function(_df){if(_d4.onError){_d8=_d4.scope?_d4.scope:_99.global;_d4.onError.call(_d8,_df);}});}}else{if(this._rootNode.rows[_d5+1]){_d7=this._rootNode.rows[_d5+1];if(_d4.onItem){_d8=_d4.scope?_d4.scope:_99.global;_d4.onItem.call(_d8,_d7);}}}}});_97.extend(_9d,_9a);return _9d;});},"dojox/data/CouchDBRestStore":function(){define("dojox/data/CouchDBRestStore",["dojo","dojox","dojox/data/JsonRestStore"],function(_e0,_e1){_e0.declare("dojox.data.CouchDBRestStore",_e1.data.JsonRestStore,{save:function(_e2){var _e3=this.inherited(arguments);var _e4=this.service.servicePath;for(var i=0;i<_e3.length;i++){(function(_e5,dfd){dfd.addCallback(function(_e6){if(_e6){_e5.__id=_e4+_e6.id;_e5._rev=_e6.rev;}return _e6;});})(_e3[i].content,_e3[i].deferred);}},fetch:function(_e7){_e7.query=_e7.query||"_all_docs?";if(_e7.start){_e7.query=(_e7.query?(_e7.query+"&"):"")+"startkey="+_e7.start;delete _e7.start;}if(_e7.count){_e7.query=(_e7.query?(_e7.query+"&"):"")+"limit="+_e7.count;delete _e7.count;}return this.inherited(arguments);},_processResults:function(_e8){var _e9=_e8.rows;if(_e9){var _ea=this.service.servicePath;var _eb=this;for(var i=0;i<_e9.length;i++){var _ec=_e9[i].value;_ec.__id=_ea+_e9[i].id;_ec._id=_e9[i].id;_ec._loadObject=_e1.rpc.JsonRest._loader;_e9[i]=_ec;}return {totalCount:_e8.total_rows,items:_e8.rows};}else{return {items:_e8};}}});_e1.data.CouchDBRestStore.getStores=function(_ed){var dfd=_e0.xhrGet({url:_ed+"_all_dbs",handleAs:"json",sync:true});var _ee={};dfd.addBoth(function(dbs){for(var i=0;i<dbs.length;i++){_ee[dbs[i]]=new _e1.data.CouchDBRestStore({target:_ed+dbs[i],idAttribute:"_id"});}return _ee;});return _ee;};return _e1.data.CouchDBRestStore;});},"dojox/data/GoogleFeedStore":function(){define("dojox/data/GoogleFeedStore",["dojo/_base/kernel","dojo/_base/lang","dojo/_base/declare","dojox/data/GoogleSearchStore"],function(_ef,_f0,_f1,_f2){_ef.experimental("dojox.data.GoogleFeedStore");var _f3=_f2.Search;return _f1("dojox.data.GoogleFeedStore",_f3,{_type:"",_googleUrl:"http://ajax.googleapis.com/ajax/services/feed/load",_attributes:["title","link","author","published","content","summary","categories"],_queryAttrs:{"url":"q"},getFeedValue:function(_f4,_f5){var _f6=this.getFeedValues(_f4,_f5);if(_f0.isArray(_f6)){return _f6[0];}return _f6;},getFeedValues:function(_f7,_f8){if(!this._feedMetaData){return _f8;}return this._feedMetaData[_f7]||_f8;},_processItem:function(_f9,_fa){this.inherited(arguments);_f9["summary"]=_f9["contentSnippet"];_f9["published"]=_f9["publishedDate"];},_getItems:function(_fb){if(_fb["feed"]){this._feedMetaData={title:_fb.feed.title,desc:_fb.feed.description,url:_fb.feed.link,author:_fb.feed.author};return _fb.feed.entries;}return null;},_createContent:function(_fc,_fd,_fe){var cb=this.inherited(arguments);cb.num=(_fe.count||10)+(_fe.start||0);return cb;}});});},"dojox/rpc/ProxiedPath":function(){define("dojox/rpc/ProxiedPath",["dojo","dojox","dojox/rpc/Service"],function(_ff,_100){_100.rpc.envelopeRegistry.register("PROXIED-PATH",function(str){return str=="PROXIED-PATH";},{serialize:function(smd,_101,data){var i;var _102=_100.rpc.getTarget(smd,_101);if(_ff.isArray(data)){for(i=0;i<data.length;i++){_102+="/"+(data[i]==null?"":data[i]);}}else{for(i in data){_102+="/"+i+"/"+data[i];}}return {data:"",target:(_101.proxyUrl||smd.proxyUrl)+"?url="+encodeURIComponent(_102)};},deserialize:function(_103){return _103;}});});},"dojox/atom/io/Connection":function(){define("dojox/atom/io/Connection",["dojo/_base/kernel","dojo/_base/xhr","dojo/_base/window","./model","dojo/_base/declare"],function(dojo,_104,_105,_106){return dojo.declare("dojox.atom.io.Connection",null,{constructor:function(sync,_107){this.sync=sync;this.preventCache=_107;},preventCache:false,alertsEnabled:false,getFeed:function(url,_108,_109,_10a){this._getXmlDoc(url,"feed",new _106.Feed(),_106._Constants.ATOM_NS,_108,_109,_10a);},getService:function(url,_10b,_10c,_10d){this._getXmlDoc(url,"service",new _106.Service(url),_106._Constants.APP_NS,_10b,_10c,_10d);},getEntry:function(url,_10e,_10f,_110){this._getXmlDoc(url,"entry",new _106.Entry(),_106._Constants.ATOM_NS,_10e,_10f,_110);},_getXmlDoc:function(url,_111,_112,_113,_114,_115,_116){if(!_116){_116=_105.global;}var ae=this.alertsEnabled;var _117={url:url,handleAs:"xml",sync:this.sync,preventCache:this.preventCache,load:function(data,args){var node=null;var _118=data;var _119;if(_118){if(typeof (_118.getElementsByTagNameNS)!="undefined"){_119=_118.getElementsByTagNameNS(_113,_111);if(_119&&_119.length>0){node=_119.item(0);}else{if(_118.lastChild){node=_118.lastChild;}}}else{if(typeof (_118.getElementsByTagName)!="undefined"){_119=_118.getElementsByTagName(_111);if(_119&&_119.length>0){for(var i=0;i<_119.length;i++){if(_119[i].namespaceURI==_113){node=_119[i];break;}}}else{if(_118.lastChild){node=_118.lastChild;}}}else{if(_118.lastChild){node=_118.lastChild;}else{_114.call(_116,null,null,args);return;}}}_112.buildFromDom(node);if(_114){_114.call(_116,_112,_118,args);}else{if(ae){throw new Error("The callback value does not exist.");}}}else{_114.call(_116,null,null,args);}}};if(this.user&&this.user!==null){_117.user=this.user;}if(this.password&&this.password!==null){_117.password=this.password;}if(_115){_117.error=function(_11a,args){_115.call(_116,_11a,args);};}else{_117.error=function(){throw new Error("The URL requested cannot be accessed");};}_104.get(_117);},updateEntry:function(_11b,_11c,_11d,_11e,_11f,_120){if(!_120){_120=_105.global;}_11b.updated=new Date();var url=_11b.getEditHref();if(!url){throw new Error("A URL has not been specified for editing this entry.");}var self=this;var ae=this.alertsEnabled;var _121={url:url,handleAs:"text",contentType:"text/xml",sync:this.sync,preventCache:this.preventCache,load:function(data,args){var _122=null;if(_11e){_122=args.xhr.getResponseHeader("Location");if(!_122){_122=url;}var _123=function(_124,dom,args){if(_11c){_11c.call(_120,_124,_122,args);}else{if(ae){throw new Error("The callback value does not exist.");}}};self.getEntry(_122,_123);}else{if(_11c){_11c.call(_120,_11b,args.xhr.getResponseHeader("Location"),args);}else{if(ae){throw new Error("The callback value does not exist.");}}}return data;}};if(this.user&&this.user!==null){_121.user=this.user;}if(this.password&&this.password!==null){_121.password=this.password;}if(_11d){_121.error=function(_125,args){_11d.call(_120,_125,args);};}else{_121.error=function(){throw new Error("The URL requested cannot be accessed");};}if(_11f){_121.postData=_11b.toString(true);_121.headers={"X-Method-Override":"PUT"};_104.post(_121);}else{_121.putData=_11b.toString(true);var xhr=_104.put(_121);}},addEntry:function(_126,url,_127,_128,_129,_12a){if(!_12a){_12a=_105.global;}_126.published=new Date();_126.updated=new Date();var _12b=_126.feedUrl;var ae=this.alertsEnabled;if(!url&&_12b){url=_12b;}if(!url){if(ae){throw new Error("The request cannot be processed because the URL parameter is missing.");}return;}var self=this;var _12c={url:url,handleAs:"text",contentType:"text/xml",sync:this.sync,preventCache:this.preventCache,postData:_126.toString(true),load:function(data,args){var _12d=args.xhr.getResponseHeader("Location");if(!_12d){_12d=url;}if(!args.retrieveEntry){if(_127){_127.call(_12a,_126,_12d,args);}else{if(ae){throw new Error("The callback value does not exist.");}}}else{var _12e=function(_12f,dom,args){if(_127){_127.call(_12a,_12f,_12d,args);}else{if(ae){throw new Error("The callback value does not exist.");}}};self.getEntry(_12d,_12e);}return data;}};if(this.user&&this.user!==null){_12c.user=this.user;}if(this.password&&this.password!==null){_12c.password=this.password;}if(_128){_12c.error=function(_130,args){_128.call(_12a,_130,args);};}else{_12c.error=function(){throw new Error("The URL requested cannot be accessed");};}_104.post(_12c);},deleteEntry:function(_131,_132,_133,_134,_135){if(!_135){_135=_105.global;}var url=null;if(typeof (_131)=="string"){url=_131;}else{url=_131.getEditHref();}if(!url){_132.call(_135,false,null);throw new Error("The request cannot be processed because the URL parameter is missing.");}var _136={url:url,handleAs:"text",sync:this.sync,preventCache:this.preventCache,load:function(data,args){_132.call(_135,args);return data;}};if(this.user&&this.user!==null){_136.user=this.user;}if(this.password&&this.password!==null){_136.password=this.password;}if(_133){_136.error=function(_137,args){_133.call(_135,_137,args);};}else{_136.error=function(){throw new Error("The URL requested cannot be accessed");};}if(_134){_136.headers={"X-Method-Override":"DELETE"};dhxr.post(_136);}else{_104.del(_136);}}});});},"dojox/data/css":function(){define("dojox/data/css",["dojo/_base/lang","dojo/_base/array"],function(lang,_138){var css=lang.getObject("dojox.data.css",true);css.rules={};css.rules.forEach=function(fn,ctx,_139){if(_139){var _13a=function(_13b){_138.forEach(_13b[_13b.cssRules?"cssRules":"rules"],function(rule){if(!rule.type||rule.type!==3){var href="";if(_13b&&_13b.href){href=_13b.href;}fn.call(ctx?ctx:this,rule,_13b,href);}});};_138.forEach(_139,_13a);}};css.findStyleSheets=function(_13c){var _13d=[];var _13e=function(_13f){var s=css.findStyleSheet(_13f);if(s){_138.forEach(s,function(_140){if(_138.indexOf(_13d,_140)===-1){_13d.push(_140);}});}};_138.forEach(_13c,_13e);return _13d;};css.findStyleSheet=function(_141){var _142=[];if(_141.charAt(0)==="."){_141=_141.substring(1);}var _143=function(_144){if(_144.href&&_144.href.match(_141)){_142.push(_144);return true;}if(_144.imports){return _138.some(_144.imports,function(_145){return _143(_145);});}return _138.some(_144[_144.cssRules?"cssRules":"rules"],function(rule){if(rule.type&&rule.type===3&&_143(rule.styleSheet)){return true;}return false;});};_138.some(document.styleSheets,_143);return _142;};css.determineContext=function(_146){var ret=[];if(_146&&_146.length>0){_146=css.findStyleSheets(_146);}else{_146=document.styleSheets;}var _147=function(_148){ret.push(_148);if(_148.imports){_138.forEach(_148.imports,function(_149){_147(_149);});}_138.forEach(_148[_148.cssRules?"cssRules":"rules"],function(rule){if(rule.type&&rule.type===3){_147(rule.styleSheet);}});};_138.forEach(_146,_147);return ret;};return css;});},"dojox/data/FileStore":function(){define("dojox/data/FileStore",["dojo/_base/declare","dojo/_base/lang","dojo/_base/window","dojo/_base/json","dojo/_base/xhr"],function(_14a,lang,_14b,_14c,xhr){return _14a("dojox.data.FileStore",null,{constructor:function(args){if(args&&args.label){this.label=args.label;}if(args&&args.url){this.url=args.url;}if(args&&args.options){if(lang.isArray(args.options)){this.options=args.options;}else{if(lang.isString(args.options)){this.options=args.options.split(",");}}}if(args&&args.pathAsQueryParam){this.pathAsQueryParam=true;}if(args&&"urlPreventCache" in args){this.urlPreventCache=args.urlPreventCache?true:false;}},url:"",_storeRef:"_S",label:"name",_identifier:"path",_attributes:["children","directory","name","path","modified","size","parentDir"],pathSeparator:"/",options:[],failOk:false,urlPreventCache:true,_assertIsItem:function(item){if(!this.isItem(item)){throw new Error("dojox.data.FileStore: a function was passed an item argument that was not an item");}},_assertIsAttribute:function(_14d){if(typeof _14d!=="string"){throw new Error("dojox.data.FileStore: a function was passed an attribute argument that was not an attribute name string");}},pathAsQueryParam:false,getFeatures:function(){return {"dojo.data.api.Read":true,"dojo.data.api.Identity":true};},getValue:function(item,_14e,_14f){var _150=this.getValues(item,_14e);if(_150&&_150.length>0){return _150[0];}return _14f;},getAttributes:function(item){return this._attributes;},hasAttribute:function(item,_151){this._assertIsItem(item);this._assertIsAttribute(_151);return (_151 in item);},getIdentity:function(item){return this.getValue(item,this._identifier);},getIdentityAttributes:function(item){return [this._identifier];},isItemLoaded:function(item){var _152=this.isItem(item);if(_152&&typeof item._loaded=="boolean"&&!item._loaded){_152=false;}return _152;},loadItem:function(_153){var item=_153.item;var self=this;var _154=_153.scope||_14b.global;var _155={};if(this.options.length>0){_155.options=_14c.toJson(this.options);}if(this.pathAsQueryParam){_155.path=item.parentPath+this.pathSeparator+item.name;}var _156={url:this.pathAsQueryParam?this.url:this.url+"/"+item.parentPath+"/"+item.name,handleAs:"json-comment-optional",content:_155,preventCache:this.urlPreventCache,failOk:this.failOk};var _157=xhr.get(_156);_157.addErrback(function(_158){if(_153.onError){_153.onError.call(_154,_158);}});_157.addCallback(function(data){delete item.parentPath;delete item._loaded;lang.mixin(item,data);self._processItem(item);if(_153.onItem){_153.onItem.call(_154,item);}});},getLabel:function(item){return this.getValue(item,this.label);},getLabelAttributes:function(item){return [this.label];},containsValue:function(item,_159,_15a){var _15b=this.getValues(item,_159);for(var i=0;i<_15b.length;i++){if(_15b[i]==_15a){return true;}}return false;},getValues:function(item,_15c){this._assertIsItem(item);this._assertIsAttribute(_15c);var _15d=item[_15c];if(typeof _15d!=="undefined"&&!lang.isArray(_15d)){_15d=[_15d];}else{if(typeof _15d==="undefined"){_15d=[];}}return _15d;},isItem:function(item){if(item&&item[this._storeRef]===this){return true;}return false;},close:function(_15e){},fetch:function(_15f){_15f=_15f||{};if(!_15f.store){_15f.store=this;}var self=this;var _160=_15f.scope||_14b.global;var _161={};if(_15f.query){_161.query=_14c.toJson(_15f.query);}if(_15f.sort){_161.sort=_14c.toJson(_15f.sort);}if(_15f.queryOptions){_161.queryOptions=_14c.toJson(_15f.queryOptions);}if(typeof _15f.start=="number"){_161.start=""+_15f.start;}if(typeof _15f.count=="number"){_161.count=""+_15f.count;}if(this.options.length>0){_161.options=_14c.toJson(this.options);}var _162={url:this.url,preventCache:this.urlPreventCache,failOk:this.failOk,handleAs:"json-comment-optional",content:_161};var _163=xhr.get(_162);_163.addCallback(function(data){self._processResult(data,_15f);});_163.addErrback(function(_164){if(_15f.onError){_15f.onError.call(_160,_164,_15f);}});},fetchItemByIdentity:function(_165){var path=_165.identity;var self=this;var _166=_165.scope||_14b.global;var _167={};if(this.options.length>0){_167.options=_14c.toJson(this.options);}if(this.pathAsQueryParam){_167.path=path;}var _168={url:this.pathAsQueryParam?this.url:this.url+"/"+path,handleAs:"json-comment-optional",content:_167,preventCache:this.urlPreventCache,failOk:this.failOk};var _169=xhr.get(_168);_169.addErrback(function(_16a){if(_165.onError){_165.onError.call(_166,_16a);}});_169.addCallback(function(data){var item=self._processItem(data);if(_165.onItem){_165.onItem.call(_166,item);}});},_processResult:function(data,_16b){var _16c=_16b.scope||_14b.global;try{if(data.pathSeparator){this.pathSeparator=data.pathSeparator;}if(_16b.onBegin){_16b.onBegin.call(_16c,data.total,_16b);}var _16d=this._processItemArray(data.items);if(_16b.onItem){var i;for(i=0;i<_16d.length;i++){_16b.onItem.call(_16c,_16d[i],_16b);}_16d=null;}if(_16b.onComplete){_16b.onComplete.call(_16c,_16d,_16b);}}catch(e){if(_16b.onError){_16b.onError.call(_16c,e,_16b);}else{}}},_processItemArray:function(_16e){var i;for(i=0;i<_16e.length;i++){this._processItem(_16e[i]);}return _16e;},_processItem:function(item){if(!item){return null;}item[this._storeRef]=this;if(item.children&&item.directory){if(lang.isArray(item.children)){var _16f=item.children;var i;for(i=0;i<_16f.length;i++){var name=_16f[i];if(lang.isObject(name)){_16f[i]=this._processItem(name);}else{_16f[i]={name:name,_loaded:false,parentPath:item.path};_16f[i][this._storeRef]=this;}}}else{delete item.children;}}return item;}});});},"dojox/data/AndOrWriteStore":function(){define("dojox/data/AndOrWriteStore",["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/_base/json","dojo/date/stamp","dojo/_base/window","./AndOrReadStore"],function(_170,lang,_171,json,_172,_173,_174){return _170("dojox.data.AndOrWriteStore",_174,{constructor:function(_175){this._features["dojo.data.api.Write"]=true;this._features["dojo.data.api.Notification"]=true;this._pending={_newItems:{},_modifiedItems:{},_deletedItems:{}};if(!this._datatypeMap["Date"].serialize){this._datatypeMap["Date"].serialize=function(obj){return _172.toISOString(obj,{zulu:true});};}if(_175&&(_175.referenceIntegrity===false)){this.referenceIntegrity=false;}this._saveInProgress=false;},referenceIntegrity:true,_assert:function(_176){if(!_176){throw new Error("assertion failed in ItemFileWriteStore");}},_getIdentifierAttribute:function(){var _177=this.getFeatures()["dojo.data.api.Identity"];return _177;},newItem:function(_178,_179){this._assert(!this._saveInProgress);if(!this._loadFinished){this._forceLoad();}if(typeof _178!="object"&&typeof _178!="undefined"){throw new Error("newItem() was passed something other than an object");}var _17a=null;var _17b=this._getIdentifierAttribute();if(_17b===Number){_17a=this._arrayOfAllItems.length;}else{_17a=_178[_17b];if(typeof _17a==="undefined"){throw new Error("newItem() was not passed an identity for the new item");}if(lang.isArray(_17a)){throw new Error("newItem() was not passed an single-valued identity");}}if(this._itemsByIdentity){this._assert(typeof this._itemsByIdentity[_17a]==="undefined");}this._assert(typeof this._pending._newItems[_17a]==="undefined");this._assert(typeof this._pending._deletedItems[_17a]==="undefined");var _17c={};_17c[this._storeRefPropName]=this;_17c[this._itemNumPropName]=this._arrayOfAllItems.length;if(this._itemsByIdentity){this._itemsByIdentity[_17a]=_17c;_17c[_17b]=[_17a];}this._arrayOfAllItems.push(_17c);var _17d=null;if(_179&&_179.parent&&_179.attribute){_17d={item:_179.parent,attribute:_179.attribute,oldValue:undefined};var _17e=this.getValues(_179.parent,_179.attribute);if(_17e&&_17e.length>0){var _17f=_17e.slice(0,_17e.length);if(_17e.length===1){_17d.oldValue=_17e[0];}else{_17d.oldValue=_17e.slice(0,_17e.length);}_17f.push(_17c);this._setValueOrValues(_179.parent,_179.attribute,_17f,false);_17d.newValue=this.getValues(_179.parent,_179.attribute);}else{this._setValueOrValues(_179.parent,_179.attribute,_17c,false);_17d.newValue=_17c;}}else{_17c[this._rootItemPropName]=true;this._arrayOfTopLevelItems.push(_17c);}this._pending._newItems[_17a]=_17c;for(var key in _178){if(key===this._storeRefPropName||key===this._itemNumPropName){throw new Error("encountered bug in ItemFileWriteStore.newItem");}var _180=_178[key];if(!lang.isArray(_180)){_180=[_180];}_17c[key]=_180;if(this.referenceIntegrity){for(var i=0;i<_180.length;i++){var val=_180[i];if(this.isItem(val)){this._addReferenceToMap(val,_17c,key);}}}}this.onNew(_17c,_17d);return _17c;},_removeArrayElement:function(_181,_182){var _183=_171.indexOf(_181,_182);if(_183!=-1){_181.splice(_183,1);return true;}return false;},deleteItem:function(item){this._assert(!this._saveInProgress);this._assertIsItem(item);var _184=item[this._itemNumPropName];var _185=this.getIdentity(item);if(this.referenceIntegrity){var _186=this.getAttributes(item);if(item[this._reverseRefMap]){item["backup_"+this._reverseRefMap]=lang.clone(item[this._reverseRefMap]);}_171.forEach(_186,function(_187){_171.forEach(this.getValues(item,_187),function(_188){if(this.isItem(_188)){if(!item["backupRefs_"+this._reverseRefMap]){item["backupRefs_"+this._reverseRefMap]=[];}item["backupRefs_"+this._reverseRefMap].push({id:this.getIdentity(_188),attr:_187});this._removeReferenceFromMap(_188,item,_187);}},this);},this);var _189=item[this._reverseRefMap];if(_189){for(var _18a in _189){var _18b=null;if(this._itemsByIdentity){_18b=this._itemsByIdentity[_18a];}else{_18b=this._arrayOfAllItems[_18a];}if(_18b){for(var _18c in _189[_18a]){var _18d=this.getValues(_18b,_18c)||[];var _18e=_171.filter(_18d,function(_18f){return !(this.isItem(_18f)&&this.getIdentity(_18f)==_185);},this);this._removeReferenceFromMap(item,_18b,_18c);if(_18e.length<_18d.length){this._setValueOrValues(_18b,_18c,_18e);}}}}}}this._arrayOfAllItems[_184]=null;item[this._storeRefPropName]=null;if(this._itemsByIdentity){delete this._itemsByIdentity[_185];}this._pending._deletedItems[_185]=item;if(item[this._rootItemPropName]){this._removeArrayElement(this._arrayOfTopLevelItems,item);}this.onDelete(item);return true;},setValue:function(item,_190,_191){return this._setValueOrValues(item,_190,_191,true);},setValues:function(item,_192,_193){return this._setValueOrValues(item,_192,_193,true);},unsetAttribute:function(item,_194){return this._setValueOrValues(item,_194,[],true);},_setValueOrValues:function(item,_195,_196,_197){this._assert(!this._saveInProgress);this._assertIsItem(item);this._assert(lang.isString(_195));this._assert(typeof _196!=="undefined");var _198=this._getIdentifierAttribute();if(_195==_198){throw new Error("ItemFileWriteStore does not have support for changing the value of an item's identifier.");}var _199=this._getValueOrValues(item,_195);var _19a=this.getIdentity(item);if(!this._pending._modifiedItems[_19a]){var _19b={};for(var key in item){if((key===this._storeRefPropName)||(key===this._itemNumPropName)||(key===this._rootItemPropName)){_19b[key]=item[key];}else{if(key===this._reverseRefMap){_19b[key]=lang.clone(item[key]);}else{_19b[key]=item[key].slice(0,item[key].length);}}}this._pending._modifiedItems[_19a]=_19b;}var _19c=false;if(lang.isArray(_196)&&_196.length===0){_19c=delete item[_195];_196=undefined;if(this.referenceIntegrity&&_199){var _19d=_199;if(!lang.isArray(_19d)){_19d=[_19d];}for(var i=0;i<_19d.length;i++){var _19e=_19d[i];if(this.isItem(_19e)){this._removeReferenceFromMap(_19e,item,_195);}}}}else{var _19f;if(lang.isArray(_196)){var _1a0=_196;_19f=_196.slice(0,_196.length);}else{_19f=[_196];}if(this.referenceIntegrity){if(_199){var _19d=_199;if(!lang.isArray(_19d)){_19d=[_19d];}var map={};_171.forEach(_19d,function(_1a1){if(this.isItem(_1a1)){var id=this.getIdentity(_1a1);map[id.toString()]=true;}},this);_171.forEach(_19f,function(_1a2){if(this.isItem(_1a2)){var id=this.getIdentity(_1a2);if(map[id.toString()]){delete map[id.toString()];}else{this._addReferenceToMap(_1a2,item,_195);}}},this);for(var rId in map){var _1a3;if(this._itemsByIdentity){_1a3=this._itemsByIdentity[rId];}else{_1a3=this._arrayOfAllItems[rId];}this._removeReferenceFromMap(_1a3,item,_195);}}else{for(var i=0;i<_19f.length;i++){var _19e=_19f[i];if(this.isItem(_19e)){this._addReferenceToMap(_19e,item,_195);}}}}item[_195]=_19f;_19c=true;}if(_197){this.onSet(item,_195,_199,_196);}return _19c;},_addReferenceToMap:function(_1a4,_1a5,_1a6){var _1a7=this.getIdentity(_1a5);var _1a8=_1a4[this._reverseRefMap];if(!_1a8){_1a8=_1a4[this._reverseRefMap]={};}var _1a9=_1a8[_1a7];if(!_1a9){_1a9=_1a8[_1a7]={};}_1a9[_1a6]=true;},_removeReferenceFromMap:function(_1aa,_1ab,_1ac){var _1ad=this.getIdentity(_1ab);var _1ae=_1aa[this._reverseRefMap];var _1af;if(_1ae){for(_1af in _1ae){if(_1af==_1ad){delete _1ae[_1af][_1ac];if(this._isEmpty(_1ae[_1af])){delete _1ae[_1af];}}}if(this._isEmpty(_1ae)){delete _1aa[this._reverseRefMap];}}},_dumpReferenceMap:function(){var i;for(i=0;i<this._arrayOfAllItems.length;i++){var item=this._arrayOfAllItems[i];if(item&&item[this._reverseRefMap]){}}},_getValueOrValues:function(item,_1b0){var _1b1=undefined;if(this.hasAttribute(item,_1b0)){var _1b2=this.getValues(item,_1b0);if(_1b2.length==1){_1b1=_1b2[0];}else{_1b1=_1b2;}}return _1b1;},_flatten:function(_1b3){if(this.isItem(_1b3)){var item=_1b3;var _1b4=this.getIdentity(item);var _1b5={_reference:_1b4};return _1b5;}else{if(typeof _1b3==="object"){for(var type in this._datatypeMap){var _1b6=this._datatypeMap[type];if(lang.isObject(_1b6)&&!lang.isFunction(_1b6)){if(_1b3 instanceof _1b6.type){if(!_1b6.serialize){throw new Error("ItemFileWriteStore:  No serializer defined for type mapping: ["+type+"]");}return {_type:type,_value:_1b6.serialize(_1b3)};}}else{if(_1b3 instanceof _1b6){return {_type:type,_value:_1b3.toString()};}}}}return _1b3;}},_getNewFileContentString:function(){var _1b7={};var _1b8=this._getIdentifierAttribute();if(_1b8!==Number){_1b7.identifier=_1b8;}if(this._labelAttr){_1b7.label=this._labelAttr;}_1b7.items=[];for(var i=0;i<this._arrayOfAllItems.length;++i){var item=this._arrayOfAllItems[i];if(item!==null){var _1b9={};for(var key in item){if(key!==this._storeRefPropName&&key!==this._itemNumPropName&&key!==this._reverseRefMap&&key!==this._rootItemPropName){var _1ba=key;var _1bb=this.getValues(item,_1ba);if(_1bb.length==1){_1b9[_1ba]=this._flatten(_1bb[0]);}else{var _1bc=[];for(var j=0;j<_1bb.length;++j){_1bc.push(this._flatten(_1bb[j]));_1b9[_1ba]=_1bc;}}}}_1b7.items.push(_1b9);}}var _1bd=true;return json.toJson(_1b7,_1bd);},_isEmpty:function(_1be){var _1bf=true;if(lang.isObject(_1be)){var i;for(i in _1be){_1bf=false;break;}}else{if(lang.isArray(_1be)){if(_1be.length>0){_1bf=false;}}}return _1bf;},save:function(_1c0){this._assert(!this._saveInProgress);this._saveInProgress=true;var self=this;var _1c1=function(){self._pending={_newItems:{},_modifiedItems:{},_deletedItems:{}};self._saveInProgress=false;if(_1c0&&_1c0.onComplete){var _1c2=_1c0.scope||_173.global;_1c0.onComplete.call(_1c2);}};var _1c3=function(){self._saveInProgress=false;if(_1c0&&_1c0.onError){var _1c4=_1c0.scope||_173.global;_1c0.onError.call(_1c4);}};if(this._saveEverything){var _1c5=this._getNewFileContentString();this._saveEverything(_1c1,_1c3,_1c5);}if(this._saveCustom){this._saveCustom(_1c1,_1c3);}if(!this._saveEverything&&!this._saveCustom){_1c1();}},revert:function(){this._assert(!this._saveInProgress);var _1c6;for(_1c6 in this._pending._modifiedItems){var _1c7=this._pending._modifiedItems[_1c6];var _1c8=null;if(this._itemsByIdentity){_1c8=this._itemsByIdentity[_1c6];}else{_1c8=this._arrayOfAllItems[_1c6];}_1c7[this._storeRefPropName]=this;for(key in _1c8){delete _1c8[key];}lang.mixin(_1c8,_1c7);}var _1c9;for(_1c6 in this._pending._deletedItems){_1c9=this._pending._deletedItems[_1c6];_1c9[this._storeRefPropName]=this;var _1ca=_1c9[this._itemNumPropName];if(_1c9["backup_"+this._reverseRefMap]){_1c9[this._reverseRefMap]=_1c9["backup_"+this._reverseRefMap];delete _1c9["backup_"+this._reverseRefMap];}this._arrayOfAllItems[_1ca]=_1c9;if(this._itemsByIdentity){this._itemsByIdentity[_1c6]=_1c9;}if(_1c9[this._rootItemPropName]){this._arrayOfTopLevelItems.push(_1c9);}}for(_1c6 in this._pending._deletedItems){_1c9=this._pending._deletedItems[_1c6];if(_1c9["backupRefs_"+this._reverseRefMap]){_171.forEach(_1c9["backupRefs_"+this._reverseRefMap],function(_1cb){var _1cc;if(this._itemsByIdentity){_1cc=this._itemsByIdentity[_1cb.id];}else{_1cc=this._arrayOfAllItems[_1cb.id];}this._addReferenceToMap(_1cc,_1c9,_1cb.attr);},this);delete _1c9["backupRefs_"+this._reverseRefMap];}}for(_1c6 in this._pending._newItems){var _1cd=this._pending._newItems[_1c6];_1cd[this._storeRefPropName]=null;this._arrayOfAllItems[_1cd[this._itemNumPropName]]=null;if(_1cd[this._rootItemPropName]){this._removeArrayElement(this._arrayOfTopLevelItems,_1cd);}if(this._itemsByIdentity){delete this._itemsByIdentity[_1c6];}}this._pending={_newItems:{},_modifiedItems:{},_deletedItems:{}};return true;},isDirty:function(item){if(item){var _1ce=this.getIdentity(item);return new Boolean(this._pending._newItems[_1ce]||this._pending._modifiedItems[_1ce]||this._pending._deletedItems[_1ce]).valueOf();}else{if(!this._isEmpty(this._pending._newItems)||!this._isEmpty(this._pending._modifiedItems)||!this._isEmpty(this._pending._deletedItems)){return true;}return false;}},onSet:function(item,_1cf,_1d0,_1d1){},onNew:function(_1d2,_1d3){},onDelete:function(_1d4){},close:function(_1d5){if(this.clearOnClose){if(!this.isDirty()){this.inherited(arguments);}else{throw new Error("dojox.data.AndOrWriteStore: There are unsaved changes present in the store.  Please save or revert the changes before invoking close.");}}}});});},"dojox/data/HtmlStore":function(){define("dojox/data/HtmlStore",["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/dom","dojo/_base/xhr","dojo/_base/window","dojo/data/util/simpleFetch","dojo/data/util/filter","dojox/xml/parser"],function(_1d6,_1d7,lang,dom,xhr,_1d8,_1d9,_1da,_1db){var _1dc=_1d6("dojox.data.HtmlStore",null,{constructor:function(args){if(args&&"urlPreventCache" in args){this.urlPreventCache=args.urlPreventCache?true:false;}if(args&&"trimWhitespace" in args){this.trimWhitespace=args.trimWhitespace?true:false;}if(args.url){if(!args.dataId){throw new Error("dojo.data.HtmlStore: Cannot instantiate using url without an id!");}this.url=args.url;this.dataId=args.dataId;}else{if(args.dataId){this.dataId=args.dataId;}}if(args&&"fetchOnCreate" in args){this.fetchOnCreate=args.fetchOnCreate?true:false;}if(this.fetchOnCreate&&this.dataId){this.fetch();}},url:"",dataId:"",trimWhitespace:false,urlPreventCache:false,fetchOnCreate:false,_indexItems:function(){this._getHeadings();if(this._rootNode.rows){if(this._rootNode.tBodies&&this._rootNode.tBodies.length>0){this._rootNode=this._rootNode.tBodies[0];}var i;for(i=0;i<this._rootNode.rows.length;i++){this._rootNode.rows[i]._ident=i+1;}}else{var c=1;for(i=0;i<this._rootNode.childNodes.length;i++){if(this._rootNode.childNodes[i].nodeType===1){this._rootNode.childNodes[i]._ident=c;c++;}}}},_getHeadings:function(){this._headings=[];if(this._rootNode.tHead){_1d7.forEach(this._rootNode.tHead.rows[0].cells,lang.hitch(this,function(th){var text=_1db.textContent(th);this._headings.push(this.trimWhitespace?lang.trim(text):text);}));}else{this._headings=["name"];}},_getAllItems:function(){var _1dd=[];var i;if(this._rootNode.rows){for(i=0;i<this._rootNode.rows.length;i++){_1dd.push(this._rootNode.rows[i]);}}else{for(i=0;i<this._rootNode.childNodes.length;i++){if(this._rootNode.childNodes[i].nodeType===1){_1dd.push(this._rootNode.childNodes[i]);}}}return _1dd;},_assertIsItem:function(item){if(!this.isItem(item)){throw new Error("dojo.data.HtmlStore: a function was passed an item argument that was not an item");}},_assertIsAttribute:function(_1de){if(typeof _1de!=="string"){throw new Error("dojo.data.HtmlStore: a function was passed an attribute argument that was not an attribute name string");return -1;}return _1d7.indexOf(this._headings,_1de);},getValue:function(item,_1df,_1e0){var _1e1=this.getValues(item,_1df);return (_1e1.length>0)?_1e1[0]:_1e0;},getValues:function(item,_1e2){this._assertIsItem(item);var _1e3=this._assertIsAttribute(_1e2);if(_1e3>-1){var text;if(item.cells){text=_1db.textContent(item.cells[_1e3]);}else{text=_1db.textContent(item);}return [this.trimWhitespace?lang.trim(text):text];}return [];},getAttributes:function(item){this._assertIsItem(item);var _1e4=[];for(var i=0;i<this._headings.length;i++){if(this.hasAttribute(item,this._headings[i])){_1e4.push(this._headings[i]);}}return _1e4;},hasAttribute:function(item,_1e5){return this.getValues(item,_1e5).length>0;},containsValue:function(item,_1e6,_1e7){var _1e8=undefined;if(typeof _1e7==="string"){_1e8=_1da.patternToRegExp(_1e7,false);}return this._containsValue(item,_1e6,_1e7,_1e8);},_containsValue:function(item,_1e9,_1ea,_1eb){var _1ec=this.getValues(item,_1e9);for(var i=0;i<_1ec.length;++i){var _1ed=_1ec[i];if(typeof _1ed==="string"&&_1eb){return (_1ed.match(_1eb)!==null);}else{if(_1ea===_1ed){return true;}}}return false;},isItem:function(_1ee){return _1ee&&dom.isDescendant(_1ee,this._rootNode);},isItemLoaded:function(_1ef){return this.isItem(_1ef);},loadItem:function(_1f0){this._assertIsItem(_1f0.item);},_fetchItems:function(_1f1,_1f2,_1f3){if(this._rootNode){this._finishFetchItems(_1f1,_1f2,_1f3);}else{if(!this.url){this._rootNode=dom.byId(this.dataId);this._indexItems();this._finishFetchItems(_1f1,_1f2,_1f3);}else{var _1f4={url:this.url,handleAs:"text",preventCache:this.urlPreventCache};var self=this;var _1f5=xhr.get(_1f4);_1f5.addCallback(function(data){var _1f6=function(node,id){if(node.id==id){return node;}if(node.childNodes){for(var i=0;i<node.childNodes.length;i++){var _1f7=_1f6(node.childNodes[i],id);if(_1f7){return _1f7;}}}return null;};var d=document.createElement("div");d.innerHTML=data;self._rootNode=_1f6(d,self.dataId);self._indexItems();self._finishFetchItems(_1f1,_1f2,_1f3);});_1f5.addErrback(function(_1f8){_1f3(_1f8,_1f1);});}}},_finishFetchItems:function(_1f9,_1fa,_1fb){var _1fc=[];var _1fd=this._getAllItems();if(_1f9.query){var _1fe=_1f9.queryOptions?_1f9.queryOptions.ignoreCase:false;_1fc=[];var _1ff={};var key;var _200;for(key in _1f9.query){_200=_1f9.query[key]+"";if(typeof _200==="string"){_1ff[key]=_1da.patternToRegExp(_200,_1fe);}}for(var i=0;i<_1fd.length;++i){var _201=true;var _202=_1fd[i];for(key in _1f9.query){_200=_1f9.query[key]+"";if(!this._containsValue(_202,key,_200,_1ff[key])){_201=false;}}if(_201){_1fc.push(_202);}}_1fa(_1fc,_1f9);}else{if(_1fd.length>0){_1fc=_1fd.slice(0,_1fd.length);}_1fa(_1fc,_1f9);}},getFeatures:function(){return {"dojo.data.api.Read":true,"dojo.data.api.Identity":true};},close:function(_203){},getLabel:function(item){if(this.isItem(item)){if(item.cells){return "Item #"+this.getIdentity(item);}else{return this.getValue(item,"name");}}return undefined;},getLabelAttributes:function(item){if(item.cells){return null;}else{return ["name"];}},getIdentity:function(item){this._assertIsItem(item);if(this.hasAttribute(item,"name")){return this.getValue(item,"name");}else{return item._ident;}},getIdentityAttributes:function(item){return null;},fetchItemByIdentity:function(_204){var _205=_204.identity;var self=this;var item=null;var _206=null;if(!this._rootNode){if(!this.url){this._rootNode=dom.byId(this.dataId);this._indexItems();if(self._rootNode.rows){item=this._rootNode.rows[_205+1];}else{for(var i=0;i<self._rootNode.childNodes.length;i++){if(self._rootNode.childNodes[i].nodeType===1&&_205===_1db.textContent(self._rootNode.childNodes[i])){item=self._rootNode.childNodes[i];}}}if(_204.onItem){_206=_204.scope?_204.scope:_1d8.global;_204.onItem.call(_206,item);}}else{var _207={url:this.url,handleAs:"text"};var _208=xhr.get(_207);_208.addCallback(function(data){var _209=function(node,id){if(node.id==id){return node;}if(node.childNodes){for(var i=0;i<node.childNodes.length;i++){var _20a=_209(node.childNodes[i],id);if(_20a){return _20a;}}}return null;};var d=document.createElement("div");d.innerHTML=data;self._rootNode=_209(d,self.dataId);self._indexItems();if(self._rootNode.rows&&_205<=self._rootNode.rows.length){item=self._rootNode.rows[_205-1];}else{for(var i=0;i<self._rootNode.childNodes.length;i++){if(self._rootNode.childNodes[i].nodeType===1&&_205===_1db.textContent(self._rootNode.childNodes[i])){item=self._rootNode.childNodes[i];break;}}}if(_204.onItem){_206=_204.scope?_204.scope:_1d8.global;_204.onItem.call(_206,item);}});_208.addErrback(function(_20b){if(_204.onError){_206=_204.scope?_204.scope:_1d8.global;_204.onError.call(_206,_20b);}});}}else{if(this._rootNode.rows[_205+1]){item=this._rootNode.rows[_205+1];if(_204.onItem){_206=_204.scope?_204.scope:_1d8.global;_204.onItem.call(_206,item);}}}}});lang.extend(_1dc,_1d9);return _1dc;});},"dojox/main":function(){define("dojox/main",["dojo/_base/kernel"],function(dojo){return dojo.dojox;});},"dojox/data/WikipediaStore":function(){define("dojox/data/WikipediaStore",["dojo/_base/kernel","dojo/_base/lang","dojo/_base/declare","dojo/io/script","dojo/io-query","dojox/rpc/Service","dojox/data/ServiceStore"],function(_20c,lang,_20d,_20e,_20f,_210,_211){_20c.experimental("dojox.data.WikipediaStore");return _20d("dojox.data.WikipediaStore",_211,{constructor:function(_212){if(_212&&_212.service){this.service=_212.service;}else{var svc=new _210(require.toUrl("dojox/rpc/SMDLibrary/wikipedia.smd"));this.service=svc.query;}this.idAttribute=this.labelAttribute="title";},fetch:function(_213){var rq=lang.mixin({},_213.query);if(rq&&(!rq.action||rq.action==="parse")){rq.action="parse";rq.page=rq.title;delete rq.title;}else{if(rq.action==="query"){rq.list="search";rq.srwhat="text";rq.srsearch=rq.text;if(_213.start){rq.sroffset=_213.start-1;}if(_213.count){rq.srlimit=_213.count>=500?500:_213.count;}delete rq.text;}}_213.query=rq;return this.inherited(arguments);},_processResults:function(_214,def){if(_214.parse){_214.parse.title=_20f.queryToObject(def.ioArgs.url.split("?")[1]).page;_214=[_214.parse];}else{if(_214.query&&_214.query.search){_214=_214.query.search;var _215=this;for(var i in _214){_214[i]._loadObject=function(_216){_215.fetch({query:{action:"parse",title:this.title},onItem:_216});delete this._loadObject;};}}}return this.inherited(arguments);}});});},"dojo/data/util/sorter":function(){define("dojo/data/util/sorter",["../../_base/lang"],function(lang){var _217=lang.getObject("dojo.data.util.sorter",true);_217.basicComparator=function(a,b){var r=-1;if(a===null){a=undefined;}if(b===null){b=undefined;}if(a==b){r=0;}else{if(a>b||a==null){r=1;}}return r;};_217.createSortFunction=function(_218,_219){var _21a=[];function _21b(attr,dir,comp,s){return function(_21c,_21d){var a=s.getValue(_21c,attr);var b=s.getValue(_21d,attr);return dir*comp(a,b);};};var _21e;var map=_219.comparatorMap;var bc=_217.basicComparator;for(var i=0;i<_218.length;i++){_21e=_218[i];var attr=_21e.attribute;if(attr){var dir=(_21e.descending)?-1:1;var comp=bc;if(map){if(typeof attr!=="string"&&("toString" in attr)){attr=attr.toString();}comp=map[attr]||bc;}_21a.push(_21b(attr,dir,comp,_219));}}return function(rowA,rowB){var i=0;while(i<_21a.length){var ret=_21a[i++](rowA,rowB);if(ret!==0){return ret;}}return 0;};};return _217;});},"dojox/data/FlickrStore":function(){define("dojox/data/FlickrStore",["dojo/_base/lang","dojo/_base/declare","dojo/_base/array","dojo/data/util/simpleFetch","dojo/io/script","dojo/_base/connect","dojo/date/stamp","dojo/AdapterRegistry"],function(lang,_21f,_220,_221,_222,_223,_224,_225){var _226=_21f("dojox.data.FlickrStore",null,{constructor:function(args){if(args&&args.label){this.label=args.label;}if(args&&"urlPreventCache" in args){this.urlPreventCache=args.urlPreventCache?true:false;}},_storeRef:"_S",label:"title",urlPreventCache:true,_assertIsItem:function(item){if(!this.isItem(item)){throw new Error("dojox.data.FlickrStore: a function was passed an item argument that was not an item");}},_assertIsAttribute:function(_227){if(typeof _227!=="string"){throw new Error("dojox.data.FlickrStore: a function was passed an attribute argument that was not an attribute name string");}},getFeatures:function(){return {"dojo.data.api.Read":true};},getValue:function(item,_228,_229){var _22a=this.getValues(item,_228);if(_22a&&_22a.length>0){return _22a[0];}return _229;},getAttributes:function(item){return ["title","description","author","datePublished","dateTaken","imageUrl","imageUrlSmall","imageUrlMedium","tags","link"];},hasAttribute:function(item,_22b){var v=this.getValue(item,_22b);if(v||v===""||v===false){return true;}return false;},isItemLoaded:function(item){return this.isItem(item);},loadItem:function(_22c){},getLabel:function(item){return this.getValue(item,this.label);},getLabelAttributes:function(item){return [this.label];},containsValue:function(item,_22d,_22e){var _22f=this.getValues(item,_22d);for(var i=0;i<_22f.length;i++){if(_22f[i]===_22e){return true;}}return false;},getValues:function(item,_230){this._assertIsItem(item);this._assertIsAttribute(_230);var u=lang.hitch(this,"_unescapeHtml");var s=lang.hitch(_224,"fromISOString");switch(_230){case "title":return [u(item.title)];case "author":return [u(item.author)];case "datePublished":return [s(item.published)];case "dateTaken":return [s(item.date_taken)];case "imageUrlSmall":return [item.media.m.replace(/_m\./,"_s.")];case "imageUrl":return [item.media.m.replace(/_m\./,".")];case "imageUrlMedium":return [item.media.m];case "link":return [item.link];case "tags":return item.tags.split(" ");case "description":return [u(item.description)];default:return [];}},isItem:function(item){if(item&&item[this._storeRef]===this){return true;}return false;},close:function(_231){},_fetchItems:function(_232,_233,_234){var rq=_232.query=_232.query||{};var _235={format:"json",tagmode:"any"};_220.forEach(["tags","tagmode","lang","id","ids"],function(i){if(rq[i]){_235[i]=rq[i];}});_235.id=rq.id||rq.userid||rq.groupid;if(rq.userids){_235.ids=rq.userids;}var _236=null;var _237={url:dojox.data.FlickrStore.urlRegistry.match(_232),preventCache:this.urlPreventCache,content:_235};var _238=lang.hitch(this,function(data){if(!!_236){_223.disconnect(_236);}_233(this._processFlickrData(data),_232);});_236=_223.connect("jsonFlickrFeed",_238);var _239=_222.get(_237);_239.addErrback(function(_23a){_223.disconnect(_236);_234(_23a,_232);});},_processFlickrData:function(data){var _23b=[];if(data.items){_23b=data.items;for(var i=0;i<data.items.length;i++){var item=data.items[i];item[this._storeRef]=this;}}return _23b;},_unescapeHtml:function(str){return str.replace(/&amp;/gm,"&").replace(/&lt;/gm,"<").replace(/&gt;/gm,">").replace(/&quot;/gm,"\"").replace(/&#39;/gm,"'");}});lang.extend(_226,_221);var _23c="http://api.flickr.com/services/feeds/";var reg=_226.urlRegistry=new _225(true);reg.register("group pool",function(_23d){return !!_23d.query["groupid"];},_23c+"groups_pool.gne");reg.register("default",function(_23e){return true;},_23c+"photos_public.gne");if(!_23f){var _23f=function(data){};}return _226;});},"dojo/_base/url":function(){define("dojo/_base/url",["./kernel"],function(dojo){var ore=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),ire=new RegExp("^((([^\\[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^\\[:]*))(:([0-9]+))?$"),_240=function(){var n=null,_241=arguments,uri=[_241[0]];for(var i=1;i<_241.length;i++){if(!_241[i]){continue;}var _242=new _240(_241[i]+""),_243=new _240(uri[0]+"");if(_242.path==""&&!_242.scheme&&!_242.authority&&!_242.query){if(_242.fragment!=n){_243.fragment=_242.fragment;}_242=_243;}else{if(!_242.scheme){_242.scheme=_243.scheme;if(!_242.authority){_242.authority=_243.authority;if(_242.path.charAt(0)!="/"){var path=_243.path.substring(0,_243.path.lastIndexOf("/")+1)+_242.path;var segs=path.split("/");for(var j=0;j<segs.length;j++){if(segs[j]=="."){if(j==segs.length-1){segs[j]="";}else{segs.splice(j,1);j--;}}else{if(j>0&&!(j==1&&segs[0]=="")&&segs[j]==".."&&segs[j-1]!=".."){if(j==(segs.length-1)){segs.splice(j,1);segs[j-1]="";}else{segs.splice(j-1,2);j-=2;}}}}_242.path=segs.join("/");}}}}uri=[];if(_242.scheme){uri.push(_242.scheme,":");}if(_242.authority){uri.push("//",_242.authority);}uri.push(_242.path);if(_242.query){uri.push("?",_242.query);}if(_242.fragment){uri.push("#",_242.fragment);}}this.uri=uri.join("");var r=this.uri.match(ore);this.scheme=r[2]||(r[1]?"":n);this.authority=r[4]||(r[3]?"":n);this.path=r[5];this.query=r[7]||(r[6]?"":n);this.fragment=r[9]||(r[8]?"":n);if(this.authority!=n){r=this.authority.match(ire);this.user=r[3]||n;this.password=r[4]||n;this.host=r[6]||r[7];this.port=r[9]||n;}};_240.prototype.toString=function(){return this.uri;};return dojo._Url=_240;});},"dojo/string":function(){define("dojo/string",["./_base/kernel","./_base/lang"],function(dojo,lang){lang.getObject("string",true,dojo);dojo.string.rep=function(str,num){if(num<=0||!str){return "";}var buf=[];for(;;){if(num&1){buf.push(str);}if(!(num>>=1)){break;}str+=str;}return buf.join("");};dojo.string.pad=function(text,size,ch,end){if(!ch){ch="0";}var out=String(text),pad=dojo.string.rep(ch,Math.ceil((size-out.length)/ch.length));return end?out+pad:pad+out;};dojo.string.substitute=function(_244,map,_245,_246){_246=_246||dojo.global;_245=_245?lang.hitch(_246,_245):function(v){return v;};return _244.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,function(_247,key,_248){var _249=lang.getObject(key,false,map);if(_248){_249=lang.getObject(_248,false,_246).call(_246,_249,key);}return _245(_249,key).toString();});};dojo.string.trim=String.prototype.trim?lang.trim:function(str){str=str.replace(/^\s+/,"");for(var i=str.length-1;i>=0;i--){if(/\S/.test(str.charAt(i))){str=str.substring(0,i+1);break;}}return str;};return dojo.string;});},"dojox/json/schema":function(){define("dojox/json/schema",["dojo/_base/kernel","dojox","dojo/_base/array"],function(dojo,_24a){dojo.getObject("json.schema",true,_24a);_24a.json.schema.validate=function(_24b,_24c){return this._validate(_24b,_24c,false);};_24a.json.schema.checkPropertyChange=function(_24d,_24e,_24f){return this._validate(_24d,_24e,_24f||"property");};_24a.json.schema.mustBeValid=function(_250){if(!_250.valid){throw new TypeError(dojo.map(_250.errors,function(_251){return "for property "+_251.property+": "+_251.message;}).join(", "));}};_24a.json.schema._validate=function(_252,_253,_254){var _255=[];function _256(_257,_258,path,i){var l;path+=path?typeof i=="number"?"["+i+"]":typeof i=="undefined"?"":"."+i:i;function _259(_25a){_255.push({property:path,message:_25a});};if((typeof _258!="object"||_258 instanceof Array)&&(path||typeof _258!="function")){if(typeof _258=="function"){if(!(Object(_257) instanceof _258)){_259("is not an instance of the class/constructor "+_258.name);}}else{if(_258){_259("Invalid schema/property definition "+_258);}}return null;}if(_254&&_258.readonly){_259("is a readonly field, it can not be changed");}if(_258["extends"]){_256(_257,_258["extends"],path,i);}function _25b(type,_25c){if(type){if(typeof type=="string"&&type!="any"&&(type=="null"?_25c!==null:typeof _25c!=type)&&!(_25c instanceof Array&&type=="array")&&!(type=="integer"&&_25c%1===0)){return [{property:path,message:(typeof _25c)+" value found, but a "+type+" is required"}];}if(type instanceof Array){var _25d=[];for(var j=0;j<type.length;j++){if(!(_25d=_25b(type[j],_25c)).length){break;}}if(_25d.length){return _25d;}}else{if(typeof type=="object"){var _25e=_255;_255=[];_256(_25c,type,path);var _25f=_255;_255=_25e;return _25f;}}}return [];};if(_257===undefined){if(!_258.optional){_259("is missing and it is not optional");}}else{_255=_255.concat(_25b(_258.type,_257));if(_258.disallow&&!_25b(_258.disallow,_257).length){_259(" disallowed value was matched");}if(_257!==null){if(_257 instanceof Array){if(_258.items){if(_258.items instanceof Array){for(i=0,l=_257.length;i<l;i++){_255.concat(_256(_257[i],_258.items[i],path,i));}}else{for(i=0,l=_257.length;i<l;i++){_255.concat(_256(_257[i],_258.items,path,i));}}}if(_258.minItems&&_257.length<_258.minItems){_259("There must be a minimum of "+_258.minItems+" in the array");}if(_258.maxItems&&_257.length>_258.maxItems){_259("There must be a maximum of "+_258.maxItems+" in the array");}}else{if(_258.properties){_255.concat(_260(_257,_258.properties,path,_258.additionalProperties));}}if(_258.pattern&&typeof _257=="string"&&!_257.match(_258.pattern)){_259("does not match the regex pattern "+_258.pattern);}if(_258.maxLength&&typeof _257=="string"&&_257.length>_258.maxLength){_259("may only be "+_258.maxLength+" characters long");}if(_258.minLength&&typeof _257=="string"&&_257.length<_258.minLength){_259("must be at least "+_258.minLength+" characters long");}if(typeof _258.minimum!==undefined&&typeof _257==typeof _258.minimum&&_258.minimum>_257){_259("must have a minimum value of "+_258.minimum);}if(typeof _258.maximum!==undefined&&typeof _257==typeof _258.maximum&&_258.maximum<_257){_259("must have a maximum value of "+_258.maximum);}if(_258["enum"]){var _261=_258["enum"];l=_261.length;var _262;for(var j=0;j<l;j++){if(_261[j]===_257){_262=1;break;}}if(!_262){_259("does not have a value in the enumeration "+_261.join(", "));}}if(typeof _258.maxDecimal=="number"&&(_257.toString().match(new RegExp("\\.[0-9]{"+(_258.maxDecimal+1)+",}")))){_259("may only have "+_258.maxDecimal+" digits of decimal places");}}}return null;};function _260(_263,_264,path,_265){if(typeof _264=="object"){if(typeof _263!="object"||_263 instanceof Array){_255.push({property:path,message:"an object is required"});}for(var i in _264){if(_264.hasOwnProperty(i)&&!(i.charAt(0)=="_"&&i.charAt(1)=="_")){var _266=_263[i];var _267=_264[i];_256(_266,_267,path,i);}}}for(i in _263){if(_263.hasOwnProperty(i)&&!(i.charAt(0)=="_"&&i.charAt(1)=="_")&&_264&&!_264[i]&&_265===false){_255.push({property:path,message:(typeof _266)+"The property "+i+" is not defined in the schema and the schema does not allow additional properties"});}var _268=_264&&_264[i]&&_264[i].requires;if(_268&&!(_268 in _263)){_255.push({property:path,message:"the presence of the property "+i+" requires that "+_268+" also be present"});}_266=_263[i];if(_264&&typeof _264=="object"&&!(i in _264)){_256(_266,_265,path,i);}if(!_254&&_266&&_266.$schema){_255=_255.concat(_256(_266,_266.$schema,path,i));}}return _255;};if(_253){_256(_252,_253,"",_254||"");}if(!_254&&_252&&_252.$schema){_256(_252,_252.$schema,"","");}return {valid:!_255.length,errors:_255};};return _24a.json.schema;});},"dojox/data/FlickrRestStore":function(){define("dojox/data/FlickrRestStore",["dojo/_base/lang","dojo/_base/declare","dojo/_base/array","dojo/io/script","dojox/data/FlickrStore","dojo/_base/connect"],function(lang,_269,_26a,_26b,_26c,_26d){var _26e=_269("dojox.data.FlickrRestStore",_26c,{constructor:function(args){if(args){if(args.label){this.label=args.label;}if(args.apikey){this._apikey=args.apikey;}}this._cache=[];this._prevRequests={};this._handlers={};this._prevRequestRanges=[];this._maxPhotosPerUser={};this._id=_26e.prototype._id++;},_id:0,_requestCount:0,_flickrRestUrl:"http://www.flickr.com/services/rest/",_apikey:null,_storeRef:"_S",_cache:null,_prevRequests:null,_handlers:null,_sortAttributes:{"date-posted":true,"date-taken":true,"interestingness":true},_fetchItems:function(_26f,_270,_271){var _272={};if(!_26f.query){_26f.query=_272={};}else{lang.mixin(_272,_26f.query);}var _273=[];var _274=[];var _275={format:"json",method:"flickr.photos.search",api_key:this._apikey,extras:"owner_name,date_upload,date_taken"};var _276=false;if(_272.userid){_276=true;_275.user_id=_26f.query.userid;_273.push("userid"+_26f.query.userid);}if(_272.groupid){_276=true;_275.group_id=_272.groupid;_273.push("groupid"+_272.groupid);}if(_272.apikey){_276=true;_275.api_key=_26f.query.apikey;_274.push("api"+_26f.query.apikey);}else{if(_275.api_key){_276=true;_26f.query.apikey=_275.api_key;_274.push("api"+_275.api_key);}else{throw Error("dojox.data.FlickrRestStore: An API key must be specified.");}}_26f._curCount=_26f.count;if(_272.page){_275.page=_26f.query.page;_274.push("page"+_275.page);}else{if(("start" in _26f)&&_26f.start!==null){if(!_26f.count){_26f.count=20;}var diff=_26f.start%_26f.count;var _277=_26f.start,_278=_26f.count;if(diff!==0){if(_277<_278/2){_278=_277+_278;_277=0;}else{var _279=20,div=2;for(var i=_279;i>0;i--){if(_277%i===0&&(_277/i)>=_278){div=i;break;}}_278=_277/div;}_26f._realStart=_26f.start;_26f._realCount=_26f.count;_26f._curStart=_277;_26f._curCount=_278;}else{_26f._realStart=_26f._realCount=null;_26f._curStart=_26f.start;_26f._curCount=_26f.count;}_275.page=(_277/_278)+1;_274.push("page"+_275.page);}}if(_26f._curCount){_275.per_page=_26f._curCount;_274.push("count"+_26f._curCount);}if(_272.lang){_275.lang=_26f.query.lang;_273.push("lang"+_26f.lang);}if(_272.setid){_275.method="flickr.photosets.getPhotos";_275.photoset_id=_26f.query.setid;_273.push("set"+_26f.query.setid);}if(_272.tags){if(_272.tags instanceof Array){_275.tags=_272.tags.join(",");}else{_275.tags=_272.tags;}_273.push("tags"+_275.tags);if(_272["tag_mode"]&&(_272.tag_mode.toLowerCase()==="any"||_272.tag_mode.toLowerCase()==="all")){_275.tag_mode=_272.tag_mode;}}if(_272.text){_275.text=_272.text;_273.push("text:"+_272.text);}if(_272.sort&&_272.sort.length>0){if(!_272.sort[0].attribute){_272.sort[0].attribute="date-posted";}if(this._sortAttributes[_272.sort[0].attribute]){if(_272.sort[0].descending){_275.sort=_272.sort[0].attribute+"-desc";}else{_275.sort=_272.sort[0].attribute+"-asc";}}}else{_275.sort="date-posted-asc";}_273.push("sort:"+_275.sort);_273=_273.join(".");_274=_274.length>0?"."+_274.join("."):"";var _27a=_273+_274;_26f={query:_272,count:_26f._curCount,start:_26f._curStart,_realCount:_26f._realCount,_realStart:_26f._realStart,onBegin:_26f.onBegin,onComplete:_26f.onComplete,onItem:_26f.onItem};var _27b={request:_26f,fetchHandler:_270,errorHandler:_271};if(this._handlers[_27a]){this._handlers[_27a].push(_27b);return;}this._handlers[_27a]=[_27b];var _27c=null;var _27d={url:this._flickrRestUrl,preventCache:this.urlPreventCache,content:_275,callbackParamName:"jsoncallback"};var _27e=lang.hitch(this,function(_27f,data,_280){var _281=_280.request.onBegin;_280.request.onBegin=null;var _282;var req=_280.request;if(("_realStart" in req)&&req._realStart!=null){req.start=req._realStart;req.count=req._realCount;req._realStart=req._realCount=null;}if(_281){var _283=null;if(data){_283=(data.photoset?data.photoset:data.photos);}if(_283&&("perpage" in _283)&&("pages" in _283)){if(_283.perpage*_283.pages<=_280.request.start+_280.request.count){_282=_280.request.start+_283.photo.length;}else{_282=_283.perpage*_283.pages;}this._maxPhotosPerUser[_273]=_282;_281(_282,_280.request);}else{if(this._maxPhotosPerUser[_273]){_281(this._maxPhotosPerUser[_273],_280.request);}}}_280.fetchHandler(_27f,_280.request);if(_281){_280.request.onBegin=_281;}});var _284=lang.hitch(this,function(data){if(data.stat!="ok"){_271(null,_26f);}else{var _285=this._handlers[_27a];if(!_285){return;}this._handlers[_27a]=null;this._prevRequests[_27a]=data;var _286=this._processFlickrData(data,_26f,_273);if(!this._prevRequestRanges[_273]){this._prevRequestRanges[_273]=[];}this._prevRequestRanges[_273].push({start:_26f.start,end:_26f.start+(data.photoset?data.photoset.photo.length:data.photos.photo.length)});_26a.forEach(_285,function(i){_27e(_286,data,i);});}});var data=this._prevRequests[_27a];if(data){this._handlers[_27a]=null;_27e(this._cache[_273],data,_27b);return;}else{if(this._checkPrevRanges(_273,_26f.start,_26f.count)){this._handlers[_27a]=null;_27e(this._cache[_273],null,_27b);return;}}var _287=_26b.get(_27d);_287.addCallback(_284);_287.addErrback(function(_288){_26d.disconnect(_27c);_271(_288,_26f);});},getAttributes:function(item){return ["title","author","imageUrl","imageUrlSmall","imageUrlMedium","imageUrlThumb","imageUrlLarge","imageUrlOriginal","link","dateTaken","datePublished"];},getValues:function(item,_289){this._assertIsItem(item);this._assertIsAttribute(_289);switch(_289){case "title":return [this._unescapeHtml(item.title)];case "author":return [item.ownername];case "imageUrlSmall":return [item.media.s];case "imageUrl":return [item.media.l];case "imageUrlOriginal":return [item.media.o];case "imageUrlLarge":return [item.media.l];case "imageUrlMedium":return [item.media.m];case "imageUrlThumb":return [item.media.t];case "link":return ["http://www.flickr.com/photos/"+item.owner+"/"+item.id];case "dateTaken":return [item.datetaken];case "datePublished":return [item.datepublished];default:return undefined;}},_processFlickrData:function(data,_28a,_28b){if(data.items){return _26c.prototype._processFlickrData.apply(this,arguments);}var _28c=["http://farm",null,".static.flickr.com/",null,"/",null,"_",null];var _28d=[];var _28e=(data.photoset?data.photoset:data.photos);if(data.stat=="ok"&&_28e&&_28e.photo){_28d=_28e.photo;for(var i=0;i<_28d.length;i++){var item=_28d[i];item[this._storeRef]=this;_28c[1]=item.farm;_28c[3]=item.server;_28c[5]=item.id;_28c[7]=item.secret;var base=_28c.join("");item.media={s:base+"_s.jpg",m:base+"_m.jpg",l:base+".jpg",t:base+"_t.jpg",o:base+"_o.jpg"};if(!item.owner&&data.photoset){item.owner=data.photoset.owner;}}}var _28f=_28a.start?_28a.start:0;var arr=this._cache[_28b];if(!arr){this._cache[_28b]=arr=[];}_26a.forEach(_28d,function(i,idx){arr[idx+_28f]=i;});return arr;},_checkPrevRanges:function(_290,_291,_292){var end=_291+_292;var arr=this._prevRequestRanges[_290];return (!!arr)&&_26a.some(arr,function(item){return ((_291>=item.start)&&(end<=item.end));});}});return _26e;});},"dojo/data/util/filter":function(){define("dojo/data/util/filter",["../../_base/lang"],function(lang){var _293=lang.getObject("dojo.data.util.filter",true);_293.patternToRegExp=function(_294,_295){var rxp="^";var c=null;for(var i=0;i<_294.length;i++){c=_294.charAt(i);switch(c){case "\\":rxp+=c;i++;rxp+=_294.charAt(i);break;case "*":rxp+=".*";break;case "?":rxp+=".";break;case "$":case "^":case "/":case "+":case ".":case "|":case "(":case ")":case "{":case "}":case "[":case "]":rxp+="\\";default:rxp+=c;}}rxp+="$";if(_295){return new RegExp(rxp,"mi");}else{return new RegExp(rxp,"m");}};return _293;});},"dojox/data/CssClassStore":function(){define("dojox/data/CssClassStore",["dojo/_base/declare","dojox/data/CssRuleStore"],function(_296,_297){return _296("dojox.data.CssClassStore",_297,{_labelAttribute:"class",_idAttribute:"class",_cName:"dojox.data.CssClassStore",getFeatures:function(){return {"dojo.data.api.Read":true,"dojo.data.api.Identity":true};},getAttributes:function(item){this._assertIsItem(item);return ["class","classSans"];},getValue:function(item,_298,_299){var _29a=this.getValues(item,_298);if(_29a&&_29a.length>0){return _29a[0];}return _299;},getValues:function(item,_29b){this._assertIsItem(item);this._assertIsAttribute(_29b);var _29c=[];if(_29b==="class"){_29c=[item.className];}else{if(_29b==="classSans"){_29c=[item.className.replace(/\./g,"")];}}return _29c;},_handleRule:function(rule,_29d,href){var obj={};var s=rule["selectorText"].split(" ");for(var j=0;j<s.length;j++){var tmp=s[j];var _29e=tmp.indexOf(".");if(tmp&&tmp.length>0&&_29e!==-1){var last=tmp.indexOf(",")||tmp.indexOf("[");tmp=tmp.substring(_29e,((last!==-1&&last>_29e)?last:tmp.length));obj[tmp]=true;}}for(var key in obj){if(!this._allItems[key]){var item={};item.className=key;item[this._storeRef]=this;this._allItems[key]=item;}}},_handleReturn:function(){var _29f=[];var _2a0={};for(var i in this._allItems){_2a0[i]=this._allItems[i];}var _2a1;while(this._pending.length){_2a1=this._pending.pop();_2a1.request._items=_2a0;_29f.push(_2a1);}while(_29f.length){_2a1=_29f.pop();if(_2a1.fetch){this._handleFetchReturn(_2a1.request);}else{this._handleFetchByIdentityReturn(_2a1.request);}}},_handleFetchByIdentityReturn:function(_2a2){var _2a3=_2a2._items;var item=_2a3[_2a2.identity];if(!this.isItem(item)){item=null;}if(_2a2.onItem){var _2a4=_2a2.scope||dojo.global;_2a2.onItem.call(_2a4,item);}},getIdentity:function(item){this._assertIsItem(item);return this.getValue(item,this._idAttribute);},getIdentityAttributes:function(item){this._assertIsItem(item);return [this._idAttribute];},fetchItemByIdentity:function(_2a5){_2a5=_2a5||{};if(!_2a5.store){_2a5.store=this;}if(this._pending&&this._pending.length>0){this._pending.push({request:_2a5});}else{this._pending=[{request:_2a5}];this._fetch(_2a5);}return _2a5;}});});},"dojox/data/RailsStore":function(){define("dojox/data/RailsStore",["dojo","dojox","dojox/data/JsonRestStore"],function(dojo,_2a6){dojo.declare("dojox.data.RailsStore",_2a6.data.JsonRestStore,{constructor:function(){},preamble:function(_2a7){if(typeof _2a7.target=="string"&&!_2a7.service){var _2a8=_2a7.target.replace(/\/$/g,"");var _2a9=function(id,args){args=args||{};var url=_2a8;var _2aa;var _2ab;if(dojo.isObject(id)){_2ab="";_2aa="?"+dojo.objectToQuery(id);}else{if(args.queryStr&&args.queryStr.indexOf("?")!=-1){_2ab=args.queryStr.replace(/\?.*/,"");_2aa=args.queryStr.replace(/[^?]*\?/g,"?");}else{if(dojo.isString(args.query)&&args.query.indexOf("?")!=-1){_2ab=args.query.replace(/\?.*/,"");_2aa=args.query.replace(/[^?]*\?/g,"?");}else{_2ab=id?id.toString():"";_2aa="";}}}if(_2ab.indexOf("=")!=-1){_2aa=_2ab;_2ab="";}if(_2ab){url=url+"/"+_2ab+".json"+_2aa;}else{url=url+".json"+_2aa;}var _2ac=_2a6.rpc._sync;_2a6.rpc._sync=false;return {url:url,handleAs:"json",contentType:"application/json",sync:_2ac,headers:{Accept:"application/json,application/javascript",Range:args&&(args.start>=0||args.count>=0)?"items="+(args.start||"0")+"-"+((args.count&&(args.count+(args.start||0)-1))||""):undefined}};};_2a7.service=_2a6.rpc.Rest(this.target,true,null,_2a9);}},fetch:function(args){args=args||{};function _2ad(obj){function _2ae(){if(args.queryStr==null){args.queryStr="";}if(dojo.isObject(args.query)){args.queryStr="?"+dojo.objectToQuery(args.query);}else{if(dojo.isString(args.query)){args.queryStr=args.query;}}};function _2af(){if(args.queryStr.indexOf("?")==-1){return "?";}else{return "&";}};if(args.queryStr==null){_2ae();}args.queryStr=args.queryStr+_2af()+dojo.objectToQuery(obj);};if(args.start||args.count){if((args.start||0)%args.count){throw new Error("The start parameter must be a multiple of the count parameter");}_2ad({page:((args.start||0)/args.count)+1,per_page:args.count});}if(args.sort){var _2b0={sortBy:[],sortDir:[]};dojo.forEach(args.sort,function(item){_2b0.sortBy.push(item.attribute);_2b0.sortDir.push(!!item.descending?"DESC":"ASC");});_2ad(_2b0);delete args.sort;}return this.inherited(arguments);},_processResults:function(_2b1,_2b2){var _2b3;if((typeof this.rootAttribute=="undefined")&&_2b1[0]){if(_2b1[0][this.idAttribute]){this.rootAttribute=false;}else{for(var _2b4 in _2b1[0]){if(_2b1[0][_2b4][this.idAttribute]){this.rootAttribute=_2b4;}}}}if(this.rootAttribute){_2b3=dojo.map(_2b1,function(item){return item[this.rootAttribute];},this);}else{_2b3=_2b1;}var _2b5=_2b1.length;return {totalCount:_2b2.fullLength||(_2b2.request.count==_2b5?(_2b2.request.start||0)+_2b5*2:_2b5),items:_2b3};}});return _2a6.data.RailsStore;});},"dojox/data/AppStore":function(){define("dojox/data/AppStore",["dojo","dojox","dojo/data/util/simpleFetch","dojo/data/util/filter","dojox/atom/io/Connection"],function(dojo,_2b6){dojo.experimental("dojox.data.AppStore");dojo.declare("dojox.data.AppStore",null,{url:"",urlPreventCache:false,xmethod:false,_atomIO:null,_feed:null,_requests:null,_processing:null,_updates:null,_adds:null,_deletes:null,constructor:function(args){if(args&&args.url){this.url=args.url;}if(args&&args.urlPreventCache){this.urlPreventCache=args.urlPreventCache;}if(!this.url){throw new Error("A URL is required to instantiate an APP Store object");}},_setFeed:function(feed,data){this._feed=feed;var i;for(i=0;i<this._feed.entries.length;i++){this._feed.entries[i].store=this;}if(this._requests){for(i=0;i<this._requests.length;i++){var _2b7=this._requests[i];if(_2b7.request&&_2b7.fh&&_2b7.eh){this._finishFetchItems(_2b7.request,_2b7.fh,_2b7.eh);}else{if(_2b7.clear){this._feed=null;}else{if(_2b7.add){this._feed.addEntry(_2b7.add);}else{if(_2b7.remove){this._feed.removeEntry(_2b7.remove);}}}}}}this._requests=null;},_getAllItems:function(){var _2b8=[];for(var i=0;i<this._feed.entries.length;i++){_2b8.push(this._feed.entries[i]);}return _2b8;},_assertIsItem:function(item){if(!this.isItem(item)){throw new Error("This error message is provided when a function is called in the following form: "+"getAttribute(argument, attributeName).  The argument variable represents the member "+"or owner of the object. The error is created when an item that does not belong "+"to this store is specified as an argument.");}},_assertIsAttribute:function(_2b9){if(typeof _2b9!=="string"){throw new Error("The attribute argument must be a string. The error is created "+"when a different type of variable is specified such as an array or object.");}for(var key in _2b6.atom.io.model._actions){if(key==_2b9){return true;}}return false;},_addUpdate:function(_2ba){if(!this._updates){this._updates=[_2ba];}else{this._updates.push(_2ba);}},getValue:function(item,_2bb,_2bc){var _2bd=this.getValues(item,_2bb);return (_2bd.length>0)?_2bd[0]:_2bc;},getValues:function(item,_2be){this._assertIsItem(item);var flag=this._assertIsAttribute(_2be);if(flag){if((_2be==="author"||_2be==="contributor"||_2be==="link")&&item[_2be+"s"]){return item[_2be+"s"];}if(_2be==="category"&&item.categories){return item.categories;}if(item[_2be]){item=item[_2be];if(item.nodeType=="Content"){return [item.value];}return [item];}}return [];},getAttributes:function(item){this._assertIsItem(item);var _2bf=[];for(var key in _2b6.atom.io.model._actions){if(this.hasAttribute(item,key)){_2bf.push(key);}}return _2bf;},hasAttribute:function(item,_2c0){return this.getValues(item,_2c0).length>0;},containsValue:function(item,_2c1,_2c2){var _2c3=undefined;if(typeof _2c2==="string"){_2c3=dojo.data.util.filter.patternToRegExp(_2c2,false);}return this._containsValue(item,_2c1,_2c2,_2c3);},_containsValue:function(item,_2c4,_2c5,_2c6,trim){var _2c7=this.getValues(item,_2c4);for(var i=0;i<_2c7.length;++i){var _2c8=_2c7[i];if(typeof _2c8==="string"&&_2c6){if(trim){_2c8=_2c8.replace(new RegExp(/^\s+/),"");_2c8=_2c8.replace(new RegExp(/\s+$/),"");}_2c8=_2c8.replace(/\r|\n|\r\n/g,"");return (_2c8.match(_2c6)!==null);}else{if(_2c5===_2c8){return true;}}}return false;},isItem:function(_2c9){return _2c9&&_2c9.store&&_2c9.store===this;},isItemLoaded:function(_2ca){return this.isItem(_2ca);},loadItem:function(_2cb){this._assertIsItem(_2cb.item);},_fetchItems:function(_2cc,_2cd,_2ce){if(this._feed){this._finishFetchItems(_2cc,_2cd,_2ce);}else{var flag=false;if(!this._requests){this._requests=[];flag=true;}this._requests.push({request:_2cc,fh:_2cd,eh:_2ce});if(flag){this._atomIO=new _2b6.atom.io.Connection(false,this.urlPreventCache);this._atomIO.getFeed(this.url,this._setFeed,null,this);}}},_finishFetchItems:function(_2cf,_2d0,_2d1){var _2d2=null;var _2d3=this._getAllItems();if(_2cf.query){var _2d4=_2cf.queryOptions?_2cf.queryOptions.ignoreCase:false;_2d2=[];var _2d5={};var key;var _2d6;for(key in _2cf.query){_2d6=_2cf.query[key]+"";if(typeof _2d6==="string"){_2d5[key]=dojo.data.util.filter.patternToRegExp(_2d6,_2d4);}}for(var i=0;i<_2d3.length;++i){var _2d7=true;var _2d8=_2d3[i];for(key in _2cf.query){_2d6=_2cf.query[key]+"";if(!this._containsValue(_2d8,key,_2d6,_2d5[key],_2cf.trim)){_2d7=false;}}if(_2d7){_2d2.push(_2d8);}}}else{if(_2d3.length>0){_2d2=_2d3.slice(0,_2d3.length);}}try{_2d0(_2d2,_2cf);}catch(e){_2d1(e,_2cf);}},getFeatures:function(){return {"dojo.data.api.Read":true,"dojo.data.api.Write":true,"dojo.data.api.Identity":true};},close:function(_2d9){this._feed=null;},getLabel:function(item){if(this.isItem(item)){return this.getValue(item,"title","No Title");}return undefined;},getLabelAttributes:function(item){return ["title"];},getIdentity:function(item){this._assertIsItem(item);return this.getValue(item,"id");},getIdentityAttributes:function(item){return ["id"];},fetchItemByIdentity:function(_2da){this._fetchItems({query:{id:_2da.identity},onItem:_2da.onItem,scope:_2da.scope},function(_2db,_2dc){var _2dd=_2dc.scope;if(!_2dd){_2dd=dojo.global;}if(_2db.length<1){_2dc.onItem.call(_2dd,null);}else{_2dc.onItem.call(_2dd,_2db[0]);}},_2da.onError);},newItem:function(_2de){var _2df=new _2b6.atom.io.model.Entry();var _2e0=null;var temp=null;var i;for(var key in _2de){if(this._assertIsAttribute(key)){_2e0=_2de[key];switch(key){case "link":for(i in _2e0){temp=_2e0[i];_2df.addLink(temp.href,temp.rel,temp.hrefLang,temp.title,temp.type);}break;case "author":for(i in _2e0){temp=_2e0[i];_2df.addAuthor(temp.name,temp.email,temp.uri);}break;case "contributor":for(i in _2e0){temp=_2e0[i];_2df.addContributor(temp.name,temp.email,temp.uri);}break;case "category":for(i in _2e0){temp=_2e0[i];_2df.addCategory(temp.scheme,temp.term,temp.label);}break;case "icon":case "id":case "logo":case "xmlBase":case "rights":_2df[key]=_2e0;break;case "updated":case "published":case "issued":case "modified":_2df[key]=_2b6.atom.io.model.util.createDate(_2e0);break;case "content":case "summary":case "title":case "subtitle":_2df[key]=new _2b6.atom.io.model.Content(key);_2df[key].value=_2e0;break;default:_2df[key]=_2e0;break;}}}_2df.store=this;_2df.isDirty=true;if(!this._adds){this._adds=[_2df];}else{this._adds.push(_2df);}if(this._feed){this._feed.addEntry(_2df);}else{if(this._requests){this._requests.push({add:_2df});}else{this._requests=[{add:_2df}];this._atomIO=new _2b6.atom.io.Connection(false,this.urlPreventCache);this._atomIO.getFeed(this.url,dojo.hitch(this,this._setFeed));}}return true;},deleteItem:function(item){this._assertIsItem(item);if(!this._deletes){this._deletes=[item];}else{this._deletes.push(item);}if(this._feed){this._feed.removeEntry(item);}else{if(this._requests){this._requests.push({remove:item});}else{this._requests=[{remove:item}];this._atomIO=new _2b6.atom.io.Connection(false,this.urlPreventCache);this._atomIO.getFeed(this.url,dojo.hitch(this,this._setFeed));}}item=null;return true;},setValue:function(item,_2e1,_2e2){this._assertIsItem(item);var _2e3={item:item};if(this._assertIsAttribute(_2e1)){switch(_2e1){case "link":_2e3.links=item.links;this._addUpdate(_2e3);item.links=null;item.addLink(_2e2.href,_2e2.rel,_2e2.hrefLang,_2e2.title,_2e2.type);item.isDirty=true;return true;case "author":_2e3.authors=item.authors;this._addUpdate(_2e3);item.authors=null;item.addAuthor(_2e2.name,_2e2.email,_2e2.uri);item.isDirty=true;return true;case "contributor":_2e3.contributors=item.contributors;this._addUpdate(_2e3);item.contributors=null;item.addContributor(_2e2.name,_2e2.email,_2e2.uri);item.isDirty=true;return true;case "category":_2e3.categories=item.categories;this._addUpdate(_2e3);item.categories=null;item.addCategory(_2e2.scheme,_2e2.term,_2e2.label);item.isDirty=true;return true;case "icon":case "id":case "logo":case "xmlBase":case "rights":_2e3[_2e1]=item[_2e1];this._addUpdate(_2e3);item[_2e1]=_2e2;item.isDirty=true;return true;case "updated":case "published":case "issued":case "modified":_2e3[_2e1]=item[_2e1];this._addUpdate(_2e3);item[_2e1]=_2b6.atom.io.model.util.createDate(_2e2);item.isDirty=true;return true;case "content":case "summary":case "title":case "subtitle":_2e3[_2e1]=item[_2e1];this._addUpdate(_2e3);item[_2e1]=new _2b6.atom.io.model.Content(_2e1);item[_2e1].value=_2e2;item.isDirty=true;return true;default:_2e3[_2e1]=item[_2e1];this._addUpdate(_2e3);item[_2e1]=_2e2;item.isDirty=true;return true;}}return false;},setValues:function(item,_2e4,_2e5){if(_2e5.length===0){return this.unsetAttribute(item,_2e4);}this._assertIsItem(item);var _2e6={item:item};var _2e7;var i;if(this._assertIsAttribute(_2e4)){switch(_2e4){case "link":_2e6.links=item.links;item.links=null;for(i in _2e5){_2e7=_2e5[i];item.addLink(_2e7.href,_2e7.rel,_2e7.hrefLang,_2e7.title,_2e7.type);}item.isDirty=true;return true;case "author":_2e6.authors=item.authors;item.authors=null;for(i in _2e5){_2e7=_2e5[i];item.addAuthor(_2e7.name,_2e7.email,_2e7.uri);}item.isDirty=true;return true;case "contributor":_2e6.contributors=item.contributors;item.contributors=null;for(i in _2e5){_2e7=_2e5[i];item.addContributor(_2e7.name,_2e7.email,_2e7.uri);}item.isDirty=true;return true;case "categories":_2e6.categories=item.categories;item.categories=null;for(i in _2e5){_2e7=_2e5[i];item.addCategory(_2e7.scheme,_2e7.term,_2e7.label);}item.isDirty=true;return true;case "icon":case "id":case "logo":case "xmlBase":case "rights":_2e6[_2e4]=item[_2e4];item[_2e4]=_2e5[0];item.isDirty=true;return true;case "updated":case "published":case "issued":case "modified":_2e6[_2e4]=item[_2e4];item[_2e4]=_2b6.atom.io.model.util.createDate(_2e5[0]);item.isDirty=true;return true;case "content":case "summary":case "title":case "subtitle":_2e6[_2e4]=item[_2e4];item[_2e4]=new _2b6.atom.io.model.Content(_2e4);item[_2e4].values[0]=_2e5[0];item.isDirty=true;return true;default:_2e6[_2e4]=item[_2e4];item[_2e4]=_2e5[0];item.isDirty=true;return true;}}this._addUpdate(_2e6);return false;},unsetAttribute:function(item,_2e8){this._assertIsItem(item);if(this._assertIsAttribute(_2e8)){if(item[_2e8]!==null){var _2e9={item:item};switch(_2e8){case "author":case "contributor":case "link":_2e9[_2e8+"s"]=item[_2e8+"s"];break;case "category":_2e9.categories=item.categories;break;default:_2e9[_2e8]=item[_2e8];break;}item.isDirty=true;item[_2e8]=null;this._addUpdate(_2e9);return true;}}return false;},save:function(_2ea){var i;for(i in this._adds){this._atomIO.addEntry(this._adds[i],null,function(){},_2ea.onError,false,_2ea.scope);}this._adds=null;for(i in this._updates){this._atomIO.updateEntry(this._updates[i].item,function(){},_2ea.onError,false,this.xmethod,_2ea.scope);}this._updates=null;for(i in this._deletes){this._atomIO.removeEntry(this._deletes[i],function(){},_2ea.onError,this.xmethod,_2ea.scope);}this._deletes=null;this._atomIO.getFeed(this.url,dojo.hitch(this,this._setFeed));if(_2ea.onComplete){var _2eb=_2ea.scope||dojo.global;_2ea.onComplete.call(_2eb);}},revert:function(){var i;for(i in this._adds){this._feed.removeEntry(this._adds[i]);}this._adds=null;var _2ec,item,key;for(i in this._updates){_2ec=this._updates[i];item=_2ec.item;for(key in _2ec){if(key!=="item"){item[key]=_2ec[key];}}}this._updates=null;for(i in this._deletes){this._feed.addEntry(this._deletes[i]);}this._deletes=null;return true;},isDirty:function(item){if(item){this._assertIsItem(item);return item.isDirty?true:false;}return (this._adds!==null||this._updates!==null);}});dojo.extend(_2b6.data.AppStore,dojo.data.util.simpleFetch);return _2b6.data.AppStore;});},"dojox/data/dom":function(){define("dojox/data/dom",["dojo/_base/kernel","dojo/_base/lang","dojox/xml/parser"],function(_2ed,lang,_2ee){dojo.deprecated("dojox.data.dom","Use dojox.xml.parser instead.","2.0");var _2ef=lang.getObject("dojox.data.dom",true);_2ef.createDocument=function(str,_2f0){dojo.deprecated("dojox.data.dom.createDocument()","Use dojox.xml.parser.parse() instead.","2.0");try{return _2ee.parse(str,_2f0);}catch(e){return null;}};_2ef.textContent=function(node,text){dojo.deprecated("dojox.data.dom.textContent()","Use dojox.xml.parser.textContent() instead.","2.0");if(arguments.length>1){return _2ee.textContent(node,text);}else{return _2ee.textContent(node);}};_2ef.replaceChildren=function(node,_2f1){dojo.deprecated("dojox.data.dom.replaceChildren()","Use dojox.xml.parser.replaceChildren() instead.","2.0");_2ee.replaceChildren(node,_2f1);};_2ef.removeChildren=function(node){dojo.deprecated("dojox.data.dom.removeChildren()","Use dojox.xml.parser.removeChildren() instead.","2.0");return dojox.xml.parser.removeChildren(node);};_2ef.innerXML=function(node){dojo.deprecated("dojox.data.dom.innerXML()","Use dojox.xml.parser.innerXML() instead.","2.0");return _2ee.innerXML(node);};return _2ef;});},"dojox/rpc/Service":function(){define("dojox/rpc/Service",["dojo","dojox","dojo/AdapterRegistry","dojo/_base/url"],function(dojo,_2f2){dojo.declare("dojox.rpc.Service",null,{constructor:function(smd,_2f3){var url;var self=this;function _2f4(smd){smd._baseUrl=new dojo._Url((dojo.isBrowser?location.href:dojo.config.baseUrl),url||".")+"";self._smd=smd;for(var _2f5 in self._smd.services){var _2f6=_2f5.split(".");var _2f7=self;for(var i=0;i<_2f6.length-1;i++){_2f7=_2f7[_2f6[i]]||(_2f7[_2f6[i]]={});}_2f7[_2f6[_2f6.length-1]]=self._generateService(_2f5,self._smd.services[_2f5]);}};if(smd){if((dojo.isString(smd))||(smd instanceof dojo._Url)){if(smd instanceof dojo._Url){url=smd+"";}else{url=smd;}var text=dojo._getText(url);if(!text){throw new Error("Unable to load SMD from "+smd);}else{_2f4(dojo.fromJson(text));}}else{_2f4(smd);}}this._options=(_2f3?_2f3:{});this._requestId=0;},_generateService:function(_2f8,_2f9){if(this[_2f9]){throw new Error("WARNING: "+_2f8+" already exists for service. Unable to generate function");}_2f9.name=_2f8;var func=dojo.hitch(this,"_executeMethod",_2f9);var _2fa=_2f2.rpc.transportRegistry.match(_2f9.transport||this._smd.transport);if(_2fa.getExecutor){func=_2fa.getExecutor(func,_2f9,this);}var _2fb=_2f9.returns||(_2f9._schema={});var _2fc="/"+_2f8+"/";_2fb._service=func;func.servicePath=_2fc;func._schema=_2fb;func.id=_2f2.rpc.Service._nextId++;return func;},_getRequest:function(_2fd,args){var smd=this._smd;var _2fe=_2f2.rpc.envelopeRegistry.match(_2fd.envelope||smd.envelope||"NONE");var _2ff=(_2fd.parameters||[]).concat(smd.parameters||[]);if(_2fe.namedParams){if((args.length==1)&&dojo.isObject(args[0])){args=args[0];}else{var data={};for(var i=0;i<_2fd.parameters.length;i++){if(typeof args[i]!="undefined"||!_2fd.parameters[i].optional){data[_2fd.parameters[i].name]=args[i];}}args=data;}if(_2fd.strictParameters||smd.strictParameters){for(i in args){var _300=false;for(var j=0;j<_2ff.length;j++){if(_2ff[i].name==i){_300=true;}}if(!_300){delete args[i];}}}for(i=0;i<_2ff.length;i++){var _301=_2ff[i];if(!_301.optional&&_301.name&&!args[_301.name]){if(_301["default"]){args[_301.name]=_301["default"];}else{if(!(_301.name in args)){throw new Error("Required parameter "+_301.name+" was omitted");}}}}}else{if(_2ff&&_2ff[0]&&_2ff[0].name&&(args.length==1)&&dojo.isObject(args[0])){if(_2fe.namedParams===false){args=_2f2.rpc.toOrdered(_2ff,args);}else{args=args[0];}}}if(dojo.isObject(this._options)){args=dojo.mixin(args,this._options);}var _302=_2fd._schema||_2fd.returns;var _303=_2fe.serialize.apply(this,[smd,_2fd,args]);_303._envDef=_2fe;var _304=(_2fd.contentType||smd.contentType||_303.contentType);return dojo.mixin(_303,{sync:_2f2.rpc._sync,contentType:_304,headers:_2fd.headers||smd.headers||_303.headers||{},target:_303.target||_2f2.rpc.getTarget(smd,_2fd),transport:_2fd.transport||smd.transport||_303.transport,envelope:_2fd.envelope||smd.envelope||_303.envelope,timeout:_2fd.timeout||smd.timeout,callbackParamName:_2fd.callbackParamName||smd.callbackParamName,rpcObjectParamName:_2fd.rpcObjectParamName||smd.rpcObjectParamName,schema:_302,handleAs:_303.handleAs||"auto",preventCache:_2fd.preventCache||smd.preventCache,frameDoc:this._options.frameDoc||undefined});},_executeMethod:function(_305){var args=[];var i;for(i=1;i<arguments.length;i++){args.push(arguments[i]);}var _306=this._getRequest(_305,args);var _307=_2f2.rpc.transportRegistry.match(_306.transport).fire(_306);_307.addBoth(function(_308){return _306._envDef.deserialize.call(this,_308);});return _307;}});_2f2.rpc.getTarget=function(smd,_309){var dest=smd._baseUrl;if(smd.target){dest=new dojo._Url(dest,smd.target)+"";}if(_309.target){dest=new dojo._Url(dest,_309.target)+"";}return dest;};_2f2.rpc.toOrdered=function(_30a,args){if(dojo.isArray(args)){return args;}var data=[];for(var i=0;i<_30a.length;i++){data.push(args[_30a[i].name]);}return data;};_2f2.rpc.transportRegistry=new dojo.AdapterRegistry(true);_2f2.rpc.envelopeRegistry=new dojo.AdapterRegistry(true);_2f2.rpc.envelopeRegistry.register("URL",function(str){return str=="URL";},{serialize:function(smd,_30b,data){var d=dojo.objectToQuery(data);return {data:d,transport:"POST"};},deserialize:function(_30c){return _30c;},namedParams:true});_2f2.rpc.envelopeRegistry.register("JSON",function(str){return str=="JSON";},{serialize:function(smd,_30d,data){var d=dojo.toJson(data);return {data:d,handleAs:"json",contentType:"application/json"};},deserialize:function(_30e){return _30e;}});_2f2.rpc.envelopeRegistry.register("PATH",function(str){return str=="PATH";},{serialize:function(smd,_30f,data){var i;var _310=_2f2.rpc.getTarget(smd,_30f);if(dojo.isArray(data)){for(i=0;i<data.length;i++){_310+="/"+data[i];}}else{for(i in data){_310+="/"+i+"/"+data[i];}}return {data:"",target:_310};},deserialize:function(_311){return _311;}});_2f2.rpc.transportRegistry.register("POST",function(str){return str=="POST";},{fire:function(r){r.url=r.target;r.postData=r.data;return dojo.rawXhrPost(r);}});_2f2.rpc.transportRegistry.register("GET",function(str){return str=="GET";},{fire:function(r){r.url=r.target+(r.data?"?"+((r.rpcObjectParamName)?r.rpcObjectParamName+"=":"")+r.data:"");return dojo.xhrGet(r);}});_2f2.rpc.transportRegistry.register("JSONP",function(str){return str=="JSONP";},{fire:function(r){r.url=r.target+((r.target.indexOf("?")==-1)?"?":"&")+((r.rpcObjectParamName)?r.rpcObjectParamName+"=":"")+r.data;r.callbackParamName=r.callbackParamName||"callback";return dojo.io.script.get(r);}});_2f2.rpc.Service._nextId=1;dojo._contentHandlers.auto=function(xhr){var _312=dojo._contentHandlers;var _313=xhr.getResponseHeader("Content-Type");var _314=!_313?_312.text(xhr):_313.match(/\/.*json/)?_312.json(xhr):_313.match(/\/javascript/)?_312.javascript(xhr):_313.match(/\/xml/)?_312.xml(xhr):_312.text(xhr);return _314;};return _2f2.rpc.Service;});},"dojox/data/PersevereStore":function(){define("dojox/data/PersevereStore",["dojo","dojox","require","dojox/data/JsonQueryRestStore","dojox/rpc/Client","dojo/_base/url"],function(dojo,_315,_316){_315.json.ref.serializeFunctions=true;dojo.declare("dojox.data.PersevereStore",_315.data.JsonQueryRestStore,{useFullIdInQueries:true,jsonQueryPagination:false});_315.data.PersevereStore.getStores=function(path,sync){path=(path&&(path.match(/\/$/)?path:(path+"/")))||"/";if(path.match(/^\w*:\/\//)){_316("dojox/io/xhrScriptPlugin");_315.io.xhrScriptPlugin(path,"callback",_315.io.xhrPlugins.fullHttpAdapter);}var _317=dojo.xhr;dojo.xhr=function(_318,args){(args.headers=args.headers||{})["Server-Methods"]="false";return _317.apply(dojo,arguments);};var _319=_315.rpc.Rest(path,true);_315.rpc._sync=sync;var dfd=_319("Class/");var _31a;var _31b={};var _31c=0;dfd.addCallback(function(_31d){_315.json.ref.resolveJson(_31d,{index:_315.rpc.Rest._index,idPrefix:"/Class/",assignAbsoluteIds:true});function _31e(_31f){if(_31f["extends"]&&_31f["extends"].prototype){if(!_31f.prototype||!_31f.prototype.isPrototypeOf(_31f["extends"].prototype)){_31e(_31f["extends"]);_315.rpc.Rest._index[_31f.prototype.__id]=_31f.prototype=dojo.mixin(dojo.delegate(_31f["extends"].prototype),_31f.prototype);}}};function _320(_321,_322){if(_321&&_322){for(var j in _321){var _323=_321[j];if(_323.runAt!="client"&&!_322[j]){_322[j]=(function(_324){return function(){var _325=dojo.rawXhrPost({url:this.__id,postData:_315.json.ref.toJson({method:_324,id:_31c++,params:dojo._toArray(arguments)}),handleAs:"json"});_325.addCallback(function(_326){return _326.error?new Error(_326.error):_326.result;});return _325;};})(j);}}}};for(var i in _31d){if(typeof _31d[i]=="object"){var _327=_31d[i];_31e(_327);_320(_327.methods,_327.prototype=_327.prototype||{});_320(_327.staticMethods,_327);_31b[_31d[i].id]=new _315.data.PersevereStore({target:new dojo._Url(path,_31d[i].id)+"/",schema:_327});}}return (_31a=_31b);});dojo.xhr=_317;return sync?_31a:dfd;};_315.data.PersevereStore.addProxy=function(){_316("dojox/io/xhrPlugins");_315.io.xhrPlugins.addProxy("/proxy/");};return _315.data.PersevereStore;});},"dojox/data/CssRuleStore":function(){define("dojox/data/CssRuleStore",["dojo/_base/lang","dojo/_base/declare","dojo/_base/array","dojo/_base/json","dojo/_base/window","dojo/_base/sniff","dojo/data/util/sorter","dojo/data/util/filter","./css"],function(lang,_328,_329,_32a,_32b,has,_32c,_32d,css){return _328("dojox.data.CssRuleStore",null,{_storeRef:"_S",_labelAttribute:"selector",_cache:null,_browserMap:null,_cName:"dojox.data.CssRuleStore",constructor:function(_32e){if(_32e){lang.mixin(this,_32e);}this._cache={};this._allItems=null;this._waiting=[];this.gatherHandle=null;var self=this;function _32f(){try{self.context=css.determineContext(self.context);if(self.gatherHandle){clearInterval(self.gatherHandle);self.gatherHandle=null;}while(self._waiting.length){var item=self._waiting.pop();css.rules.forEach(item.forFunc,null,self.context);item.finishFunc();}}catch(e){}};this.gatherHandle=setInterval(_32f,250);},setContext:function(_330){if(_330){this.close();this.context=css.determineContext(_330);}},getFeatures:function(){return {"dojo.data.api.Read":true};},isItem:function(item){if(item&&item[this._storeRef]==this){return true;}return false;},hasAttribute:function(item,_331){this._assertIsItem(item);this._assertIsAttribute(_331);var _332=this.getAttributes(item);if(_329.indexOf(_332,_331)!=-1){return true;}return false;},getAttributes:function(item){this._assertIsItem(item);var _333=["selector","classes","rule","style","cssText","styleSheet","parentStyleSheet","parentStyleSheetHref"];var _334=item.rule.style;if(_334){var key;for(key in _334){_333.push("style."+key);}}return _333;},getValue:function(item,_335,_336){var _337=this.getValues(item,_335);var _338=_336;if(_337&&_337.length>0){return _337[0];}return _336;},getValues:function(item,_339){this._assertIsItem(item);this._assertIsAttribute(_339);var _33a=null;if(_339==="selector"){_33a=item.rule["selectorText"];if(_33a&&lang.isString(_33a)){_33a=_33a.split(",");}}else{if(_339==="classes"){_33a=item.classes;}else{if(_339==="rule"){_33a=item.rule.rule;}else{if(_339==="style"){_33a=item.rule.style;}else{if(_339==="cssText"){if(has("ie")){if(item.rule.style){_33a=item.rule.style.cssText;if(_33a){_33a="{ "+_33a.toLowerCase()+" }";}}}else{_33a=item.rule.cssText;if(_33a){_33a=_33a.substring(_33a.indexOf("{"),_33a.length);}}}else{if(_339==="styleSheet"){_33a=item.rule.styleSheet;}else{if(_339==="parentStyleSheet"){_33a=item.rule.parentStyleSheet;}else{if(_339==="parentStyleSheetHref"){if(item.href){_33a=item.href;}}else{if(_339.indexOf("style.")===0){var attr=_339.substring(_339.indexOf("."),_339.length);_33a=item.rule.style[attr];}else{_33a=[];}}}}}}}}}if(_33a!==undefined){if(!lang.isArray(_33a)){_33a=[_33a];}}return _33a;},getLabel:function(item){this._assertIsItem(item);return this.getValue(item,this._labelAttribute);},getLabelAttributes:function(item){return [this._labelAttribute];},containsValue:function(item,_33b,_33c){var _33d=undefined;if(typeof _33c==="string"){_33d=_32d.patternToRegExp(_33c,false);}return this._containsValue(item,_33b,_33c,_33d);},isItemLoaded:function(_33e){return this.isItem(_33e);},loadItem:function(_33f){this._assertIsItem(_33f.item);},fetch:function(_340){_340=_340||{};if(!_340.store){_340.store=this;}var _341=_340.scope||_32b.global;if(this._pending&&this._pending.length>0){this._pending.push({request:_340,fetch:true});}else{this._pending=[{request:_340,fetch:true}];this._fetch(_340);}return _340;},_fetch:function(_342){var _343=_342.scope||_32b.global;if(this._allItems===null){this._allItems={};try{if(this.gatherHandle){this._waiting.push({"forFunc":lang.hitch(this,this._handleRule),"finishFunc":lang.hitch(this,this._handleReturn)});}else{css.rules.forEach(lang.hitch(this,this._handleRule),null,this.context);this._handleReturn();}}catch(e){if(_342.onError){_342.onError.call(_343,e,_342);}}}else{this._handleReturn();}},_handleRule:function(rule,_344,href){var _345=rule["selectorText"];var s=_345.split(" ");var _346=[];for(var j=0;j<s.length;j++){var tmp=s[j];var _347=tmp.indexOf(".");if(tmp&&tmp.length>0&&_347!==-1){var last=tmp.indexOf(",")||tmp.indexOf("[");tmp=tmp.substring(_347,((last!==-1&&last>_347)?last:tmp.length));_346.push(tmp);}}var item={};item.rule=rule;item.styleSheet=_344;item.href=href;item.classes=_346;item[this._storeRef]=this;if(!this._allItems[_345]){this._allItems[_345]=[];}this._allItems[_345].push(item);},_handleReturn:function(){var _348=[];var _349=[];var item=null;for(var i in this._allItems){item=this._allItems[i];for(var j in item){_349.push(item[j]);}}var _34a;while(this._pending.length){_34a=this._pending.pop();_34a.request._items=_349;_348.push(_34a);}while(_348.length){_34a=_348.pop();this._handleFetchReturn(_34a.request);}},_handleFetchReturn:function(_34b){var _34c=_34b.scope||_32b.global;var _34d=[];var _34e="all";var i;if(_34b.query){_34e=_32a.toJson(_34b.query);}if(this._cache[_34e]){_34d=this._cache[_34e];}else{if(_34b.query){for(i in _34b._items){var item=_34b._items[i];var _34f=(_34b.queryOptions?_34b.queryOptions.ignoreCase:false);var _350={};var key;var _351;for(key in _34b.query){_351=_34b.query[key];if(typeof _351==="string"){_350[key]=_32d.patternToRegExp(_351,_34f);}}var _352=true;for(key in _34b.query){_351=_34b.query[key];if(!this._containsValue(item,key,_351,_350[key])){_352=false;}}if(_352){_34d.push(item);}}this._cache[_34e]=_34d;}else{for(i in _34b._items){_34d.push(_34b._items[i]);}}}var _353=_34d.length;if(_34b.sort){_34d.sort(_32c.createSortFunction(_34b.sort,this));}var _354=0;var _355=_34d.length;if(_34b.start>0&&_34b.start<_34d.length){_354=_34b.start;}if(_34b.count&&_34b.count){_355=_34b.count;}var _356=_354+_355;if(_356>_34d.length){_356=_34d.length;}_34d=_34d.slice(_354,_356);if(_34b.onBegin){_34b.onBegin.call(_34c,_353,_34b);}if(_34b.onItem){if(lang.isArray(_34d)){for(i=0;i<_34d.length;i++){_34b.onItem.call(_34c,_34d[i],_34b);}if(_34b.onComplete){_34b.onComplete.call(_34c,null,_34b);}}}else{if(_34b.onComplete){_34b.onComplete.call(_34c,_34d,_34b);}}return _34b;},close:function(){this._cache={};this._allItems=null;},_assertIsItem:function(item){if(!this.isItem(item)){throw new Error(this._cName+": Invalid item argument.");}},_assertIsAttribute:function(_357){if(typeof _357!=="string"){throw new Error(this._cName+": Invalid attribute argument.");}},_containsValue:function(item,_358,_359,_35a){return _329.some(this.getValues(item,_358),function(_35b){if(_35b!==null&&!lang.isObject(_35b)&&_35a){if(_35b.toString().match(_35a)){return true;}}else{if(_359===_35b){return true;}}return false;});}});});},"dojox/data/JsonRestStore":function(){define("dojox/data/JsonRestStore",["dojo/_base/lang","dojo/_base/declare","dojo/_base/connect","dojox/rpc/Rest","dojox/rpc/JsonRest","dojox/json/schema","dojox/data/ServiceStore"],function(lang,_35c,_35d,_35e,_35f,_360,_361){var rpc=lang.getObject("dojox.rpc",true);var _362=_35c("dojox.data.JsonRestStore",_361,{constructor:function(_363){_35d.connect(_35e._index,"onUpdate",this,function(obj,_364,_365,_366){var _367=this.service.servicePath;if(!obj.__id){}else{if(obj.__id.substring(0,_367.length)==_367){this.onSet(obj,_364,_365,_366);}}});this.idAttribute=this.idAttribute||"id";if(typeof _363.target=="string"){_363.target=_363.target.match(/\/$/)||this.allowNoTrailingSlash?_363.target:(_363.target+"/");if(!this.service){this.service=_35f.services[_363.target]||_35e(_363.target,true);}}_35f.registerService(this.service,_363.target,this.schema);this.schema=this.service._schema=this.schema||this.service._schema||{};this.service._store=this;this.service.idAsRef=this.idAsRef;this.schema._idAttr=this.idAttribute;var _368=_35f.getConstructor(this.service);var self=this;this._constructor=function(data){_368.call(this,data);self.onNew(this);};this._constructor.prototype=_368.prototype;this._index=_35e._index;},loadReferencedSchema:true,idAsRef:false,referenceIntegrity:true,target:"",allowNoTrailingSlash:false,newItem:function(data,_369){data=new this._constructor(data);if(_369){var _36a=this.getValue(_369.parent,_369.attribute,[]);_36a=_36a.concat([data]);data.__parent=_36a;this.setValue(_369.parent,_369.attribute,_36a);}return data;},deleteItem:function(item){var _36b=[];var _36c=_36d._getStoreForItem(item)||this;if(this.referenceIntegrity){_35f._saveNotNeeded=true;var _36e=_35e._index;var _36f=function(_370){var _371;_36b.push(_370);_370.__checked=1;for(var i in _370){if(i.substring(0,2)!="__"){var _372=_370[i];if(_372==item){if(_370!=_36e){if(_370 instanceof Array){(_371=_371||[]).push(i);}else{(_36d._getStoreForItem(_370)||_36c).unsetAttribute(_370,i);}}}else{if((typeof _372=="object")&&_372){if(!_372.__checked){_36f(_372);}if(typeof _372.__checked=="object"&&_370!=_36e){(_36d._getStoreForItem(_370)||_36c).setValue(_370,i,_372.__checked);}}}}}if(_371){i=_371.length;_370=_370.__checked=_370.concat();while(i--){_370.splice(_371[i],1);}return _370;}return null;};_36f(_36e);_35f._saveNotNeeded=false;var i=0;while(_36b[i]){delete _36b[i++].__checked;}}_35f.deleteObject(item);_36c.onDelete(item);},changing:function(item,_373){_35f.changing(item,_373);},cancelChanging:function(_374){if(!_374.__id){return;}dirtyObjects=_375=_35f.getDirtyObjects();for(var i=0;i<dirtyObjects.length;i++){var _375=dirtyObjects[i];if(_374==_375.object){dirtyObjects.splice(i,1);return;}}},setValue:function(item,_376,_377){var old=item[_376];var _378=item.__id?_36d._getStoreForItem(item):this;if(_360&&_378.schema&&_378.schema.properties){_360.mustBeValid(_360.checkPropertyChange(_377,_378.schema.properties[_376]));}if(_376==_378.idAttribute){throw new Error("Can not change the identity attribute for an item");}_378.changing(item);item[_376]=_377;if(_377&&!_377.__parent){_377.__parent=item;}_378.onSet(item,_376,old,_377);},setValues:function(item,_379,_37a){if(!lang.isArray(_37a)){throw new Error("setValues expects to be passed an Array object as its value");}this.setValue(item,_379,_37a);},unsetAttribute:function(item,_37b){this.changing(item);var old=item[_37b];delete item[_37b];this.onSet(item,_37b,old,undefined);},save:function(_37c){if(!(_37c&&_37c.global)){(_37c=_37c||{}).service=this.service;}if("syncMode" in _37c?_37c.syncMode:this.syncMode){rpc._sync=true;}var _37d=_35f.commit(_37c);this.serverVersion=this._updates&&this._updates.length;return _37d;},revert:function(_37e){_35f.revert(_37e&&_37e.global&&this.service);},isDirty:function(item){return _35f.isDirty(item,this);},isItem:function(item,_37f){return item&&item.__id&&(_37f||this.service==_35f.getServiceAndId(item.__id).service);},_doQuery:function(args){var _380=typeof args.queryStr=="string"?args.queryStr:args.query;var _381=_35f.query(this.service,_380,args);var self=this;if(this.loadReferencedSchema){_381.addCallback(function(_382){var _383=_381.ioArgs&&_381.ioArgs.xhr&&_381.ioArgs.xhr.getResponseHeader("Content-Type");var _384=_383&&_383.match(/definedby\s*=\s*([^;]*)/);if(_383&&!_384){_384=_381.ioArgs.xhr.getResponseHeader("Link");_384=_384&&_384.match(/<([^>]*)>;\s*rel="?definedby"?/);}_384=_384&&_384[1];if(_384){var _385=_35f.getServiceAndId((self.target+_384).replace(/^(.*\/)?(\w+:\/\/)|[^\/\.]+\/\.\.\/|^.*\/(\/)/,"$2$3"));var _386=_35f.byId(_385.service,_385.id);_386.addCallbacks(function(_387){lang.mixin(self.schema,_387);return _382;},function(_388){console.error(_388);return _382;});return _386;}return undefined;});}return _381;},_processResults:function(_389,_38a){var _38b=_389.length;return {totalCount:_38a.fullLength||(_38a.request.count==_38b?(_38a.request.start||0)+_38b*2:_38b),items:_389};},getConstructor:function(){return this._constructor;},getIdentity:function(item){var id=item.__clientId||item.__id;if(!id){return id;}var _38c=this.service.servicePath.replace(/[^\/]*$/,"");return id.substring(0,_38c.length)!=_38c?id:id.substring(_38c.length);},fetchItemByIdentity:function(args){var id=args.identity;var _38d=this;if(id.toString().match(/^(\w*:)?\//)){var _38e=_35f.getServiceAndId(id);_38d=_38e.service._store;args.identity=_38e.id;}args._prefix=_38d.service.servicePath.replace(/[^\/]*$/,"");return _38d.inherited(arguments);},onSet:function(){},onNew:function(){},onDelete:function(){},getFeatures:function(){var _38f=this.inherited(arguments);_38f["dojo.data.api.Write"]=true;_38f["dojo.data.api.Notification"]=true;return _38f;},getParent:function(item){return item&&item.__parent;}});_362.getStore=function(_390,_391){if(typeof _390.target=="string"){_390.target=_390.target.match(/\/$/)||_390.allowNoTrailingSlash?_390.target:(_390.target+"/");var _392=(_35f.services[_390.target]||{})._store;if(_392){return _392;}}return new (_391||_362)(_390);};var _36d=lang.getObject("dojox.data",true);_36d._getStoreForItem=function(item){if(item.__id){var _393=_35f.getServiceAndId(item.__id);if(_393&&_393.service._store){return _393.service._store;}else{var _394=item.__id.toString().match(/.*\//)[0];return new _362({target:_394});}}return null;};var _395=lang.getObject("dojox.json.ref",true);_395._useRefs=true;return _362;});},"dojox/json/query":function(){define("dojox/json/query",["dojo/_base/kernel","dojox","dojo/_base/array"],function(dojo,_396){dojo.getObject("json",true,_396);_396.json._slice=function(obj,_397,end,step){var len=obj.length,_398=[];end=end||len;_397=(_397<0)?Math.max(0,_397+len):Math.min(len,_397);end=(end<0)?Math.max(0,end+len):Math.min(len,end);for(var i=_397;i<end;i+=step){_398.push(obj[i]);}return _398;};_396.json._find=function e(obj,name){var _399=[];function walk(obj){if(name){if(name===true&&!(obj instanceof Array)){_399.push(obj);}else{if(obj[name]){_399.push(obj[name]);}}}for(var i in obj){var val=obj[i];if(!name){_399.push(val);}else{if(val&&typeof val=="object"){walk(val);}}}};if(name instanceof Array){if(name.length==1){return obj[name[0]];}for(var i=0;i<name.length;i++){_399.push(obj[name[i]]);}}else{walk(obj);}return _399;};_396.json._distinctFilter=function(_39a,_39b){var _39c=[];var _39d={};for(var i=0,l=_39a.length;i<l;++i){var _39e=_39a[i];if(_39b(_39e,i,_39a)){if((typeof _39e=="object")&&_39e){if(!_39e.__included){_39e.__included=true;_39c.push(_39e);}}else{if(!_39d[_39e+typeof _39e]){_39d[_39e+typeof _39e]=true;_39c.push(_39e);}}}}for(i=0,l=_39c.length;i<l;++i){if(_39c[i]){delete _39c[i].__included;}}return _39c;};return _396.json.query=function(_39f,obj){var _3a0=0;var str=[];_39f=_39f.replace(/"(\\.|[^"\\])*"|'(\\.|[^'\\])*'|[\[\]]/g,function(t){_3a0+=t=="["?1:t=="]"?-1:0;return (t=="]"&&_3a0>0)?"`]":(t.charAt(0)=="\""||t.charAt(0)=="'")?"`"+(str.push(t)-1):t;});var _3a1="";function call(name){_3a1=name+"("+_3a1;};function _3a2(t,a,b,c,d,e,f,g){return str[g].match(/[\*\?]/)||f=="~"?"/^"+str[g].substring(1,str[g].length-1).replace(/\\([btnfr\\"'])|([^\w\*\?])/g,"\\$1$2").replace(/([\*\?])/g,"[\\w\\W]$1")+(f=="~"?"$/i":"$/")+".test("+a+")":t;};_39f.replace(/(\]|\)|push|pop|shift|splice|sort|reverse)\s*\(/,function(){throw new Error("Unsafe function call");});_39f=_39f.replace(/([^<>=]=)([^=])/g,"$1=$2").replace(/@|(\.\s*)?[a-zA-Z\$_]+(\s*:)?/g,function(t){return t.charAt(0)=="."?t:t=="@"?"$obj":(t.match(/:|^(\$|Math|true|false|null)$/)?"":"$obj.")+t;}).replace(/\.?\.?\[(`\]|[^\]])*\]|\?.*|\.\.([\w\$_]+)|\.\*/g,function(t,a,b){var oper=t.match(/^\.?\.?(\[\s*\^?\?|\^?\?|\[\s*==)(.*?)\]?$/);if(oper){var _3a3="";if(t.match(/^\./)){call("dojox.json._find");_3a3=",true)";}call(oper[1].match(/\=/)?"dojo.map":oper[1].match(/\^/)?"dojox.json._distinctFilter":"dojo.filter");return _3a3+",function($obj){return "+oper[2]+"})";}oper=t.match(/^\[\s*([\/\\].*)\]/);if(oper){return ".concat().sort(function(a,b){"+oper[1].replace(/\s*,?\s*([\/\\])\s*([^,\\\/]+)/g,function(t,a,b){return "var av= "+b.replace(/\$obj/,"a")+",bv= "+b.replace(/\$obj/,"b")+";if(av>bv||bv==null){return "+(a=="/"?1:-1)+";}\n"+"if(bv>av||av==null){return "+(a=="/"?-1:1)+";}\n";})+"return 0;})";}oper=t.match(/^\[(-?[0-9]*):(-?[0-9]*):?(-?[0-9]*)\]/);if(oper){call("dojox.json._slice");return ","+(oper[1]||0)+","+(oper[2]||0)+","+(oper[3]||1)+")";}if(t.match(/^\.\.|\.\*|\[\s*\*\s*\]|,/)){call("dojox.json._find");return (t.charAt(1)=="."?",'"+b+"'":t.match(/,/)?","+t:"")+")";}return t;}).replace(/(\$obj\s*((\.\s*[\w_$]+\s*)|(\[\s*`([0-9]+)\s*`\]))*)(==|~)\s*`([0-9]+)/g,_3a2).replace(/`([0-9]+)\s*(==|~)\s*(\$obj\s*((\.\s*[\w_$]+)|(\[\s*`([0-9]+)\s*`\]))*)/g,function(t,a,b,c,d,e,f,g){return _3a2(t,c,d,e,f,g,b,a);});_39f=_3a1+(_39f.charAt(0)=="$"?"":"$")+_39f.replace(/`([0-9]+|\])/g,function(t,a){return a=="]"?"]":str[a];});var _3a4=eval("1&&function($,$1,$2,$3,$4,$5,$6,$7,$8,$9){var $obj=$;return "+_39f+"}");for(var i=0;i<arguments.length-1;i++){arguments[i]=arguments[i+1];}return obj?_3a4.apply(this,arguments):_3a4;};});},"dojox/data/KeyValueStore":function(){define("dojox/data/KeyValueStore",["dojo/_base/declare","dojo/_base/lang","dojo/_base/xhr","dojo/_base/window","dojo/data/util/simpleFetch","dojo/data/util/filter"],function(_3a5,lang,xhr,_3a6,_3a7,_3a8){var _3a9=_3a5("dojox.data.KeyValueStore",null,{constructor:function(_3aa){if(_3aa.url){this.url=_3aa.url;}this._keyValueString=_3aa.data;this._keyValueVar=_3aa.dataVar;this._keyAttribute="key";this._valueAttribute="value";this._storeProp="_keyValueStore";this._features={"dojo.data.api.Read":true,"dojo.data.api.Identity":true};this._loadInProgress=false;this._queuedFetches=[];if(_3aa&&"urlPreventCache" in _3aa){this.urlPreventCache=_3aa.urlPreventCache?true:false;}},url:"",data:"",urlPreventCache:false,_assertIsItem:function(item){if(!this.isItem(item)){throw new Error("dojox.data.KeyValueStore: a function was passed an item argument that was not an item");}},_assertIsAttribute:function(item,_3ab){if(!lang.isString(_3ab)){throw new Error("dojox.data.KeyValueStore: a function was passed an attribute argument that was not an attribute object nor an attribute name string");}},getValue:function(item,_3ac,_3ad){this._assertIsItem(item);this._assertIsAttribute(item,_3ac);var _3ae;if(_3ac==this._keyAttribute){_3ae=item[this._keyAttribute];}else{_3ae=item[this._valueAttribute];}if(_3ae===undefined){_3ae=_3ad;}return _3ae;},getValues:function(item,_3af){var _3b0=this.getValue(item,_3af);return (_3b0?[_3b0]:[]);},getAttributes:function(item){return [this._keyAttribute,this._valueAttribute,item[this._keyAttribute]];},hasAttribute:function(item,_3b1){this._assertIsItem(item);this._assertIsAttribute(item,_3b1);return (_3b1==this._keyAttribute||_3b1==this._valueAttribute||_3b1==item[this._keyAttribute]);},containsValue:function(item,_3b2,_3b3){var _3b4=undefined;if(typeof _3b3==="string"){_3b4=_3a8.patternToRegExp(_3b3,false);}return this._containsValue(item,_3b2,_3b3,_3b4);},_containsValue:function(item,_3b5,_3b6,_3b7){var _3b8=this.getValues(item,_3b5);for(var i=0;i<_3b8.length;++i){var _3b9=_3b8[i];if(typeof _3b9==="string"&&_3b7){return (_3b9.match(_3b7)!==null);}else{if(_3b6===_3b9){return true;}}}return false;},isItem:function(_3ba){if(_3ba&&_3ba[this._storeProp]===this){return true;}return false;},isItemLoaded:function(_3bb){return this.isItem(_3bb);},loadItem:function(_3bc){},getFeatures:function(){return this._features;},close:function(_3bd){},getLabel:function(item){return item[this._keyAttribute];},getLabelAttributes:function(item){return [this._keyAttribute];},_fetchItems:function(_3be,_3bf,_3c0){var self=this;var _3c1=function(_3c2,_3c3){var _3c4=null;if(_3c2.query){_3c4=[];var _3c5=_3c2.queryOptions?_3c2.queryOptions.ignoreCase:false;var _3c6={};for(var key in _3c2.query){var _3c7=_3c2.query[key];if(typeof _3c7==="string"){_3c6[key]=_3a8.patternToRegExp(_3c7,_3c5);}}for(var i=0;i<_3c3.length;++i){var _3c8=true;var _3c9=_3c3[i];for(var key in _3c2.query){var _3c7=_3c2.query[key];if(!self._containsValue(_3c9,key,_3c7,_3c6[key])){_3c8=false;}}if(_3c8){_3c4.push(_3c9);}}}else{if(_3c2.identity){_3c4=[];var item;for(var key in _3c3){item=_3c3[key];if(item[self._keyAttribute]==_3c2.identity){_3c4.push(item);break;}}}else{if(_3c3.length>0){_3c4=_3c3.slice(0,_3c3.length);}}}_3bf(_3c4,_3c2);};if(this._loadFinished){_3c1(_3be,this._arrayOfAllItems);}else{if(this.url!==""){if(this._loadInProgress){this._queuedFetches.push({args:_3be,filter:_3c1});}else{this._loadInProgress=true;var _3ca={url:self.url,handleAs:"json-comment-filtered",preventCache:this.urlPreventCache};var _3cb=xhr.get(_3ca);_3cb.addCallback(function(data){self._processData(data);_3c1(_3be,self._arrayOfAllItems);self._handleQueuedFetches();});_3cb.addErrback(function(_3cc){self._loadInProgress=false;throw _3cc;});}}else{if(this._keyValueString){this._processData(eval(this._keyValueString));this._keyValueString=null;_3c1(_3be,this._arrayOfAllItems);}else{if(this._keyValueVar){this._processData(this._keyValueVar);this._keyValueVar=null;_3c1(_3be,this._arrayOfAllItems);}else{throw new Error("dojox.data.KeyValueStore: No source data was provided as either URL, String, or Javascript variable data input.");}}}}},_handleQueuedFetches:function(){if(this._queuedFetches.length>0){for(var i=0;i<this._queuedFetches.length;i++){var _3cd=this._queuedFetches[i];var _3ce=_3cd.filter;var _3cf=_3cd.args;if(_3ce){_3ce(_3cf,this._arrayOfAllItems);}else{this.fetchItemByIdentity(_3cd.args);}}this._queuedFetches=[];}},_processData:function(data){this._arrayOfAllItems=[];for(var i=0;i<data.length;i++){this._arrayOfAllItems.push(this._createItem(data[i]));}this._loadFinished=true;this._loadInProgress=false;},_createItem:function(_3d0){var item={};item[this._storeProp]=this;for(var i in _3d0){item[this._keyAttribute]=i;item[this._valueAttribute]=_3d0[i];break;}return item;},getIdentity:function(item){if(this.isItem(item)){return item[this._keyAttribute];}return null;},getIdentityAttributes:function(item){return [this._keyAttribute];},fetchItemByIdentity:function(_3d1){_3d1.oldOnItem=_3d1.onItem;_3d1.onItem=null;_3d1.onComplete=this._finishFetchItemByIdentity;this.fetch(_3d1);},_finishFetchItemByIdentity:function(_3d2,_3d3){var _3d4=_3d3.scope||_3a6.global;if(_3d2.length){_3d3.oldOnItem.call(_3d4,_3d2[0]);}else{_3d3.oldOnItem.call(_3d4,null);}}});lang.extend(_3a9,_3a7);return _3a9;});},"dojox/rpc/Rest":function(){define("dojox/rpc/Rest",["dojo","dojox"],function(dojo,_3d5){dojo.getObject("rpc.Rest",true,_3d5);if(_3d5.rpc&&_3d5.rpc.transportRegistry){_3d5.rpc.transportRegistry.register("REST",function(str){return str=="REST";},{getExecutor:function(func,_3d6,svc){return new _3d5.rpc.Rest(_3d6.name,(_3d6.contentType||svc._smd.contentType||"").match(/json|javascript/),null,function(id,args){var _3d7=svc._getRequest(_3d6,[id]);_3d7.url=_3d7.target+(_3d7.data?"?"+_3d7.data:"");if(args&&(args.start>=0||args.count>=0)){_3d7.headers=_3d7.headers||{};_3d7.headers.Range="items="+(args.start||"0")+"-"+(("count" in args&&args.count!=Infinity)?(args.count+(args.start||0)-1):"");}return _3d7;});}});}var drr;function _3d8(_3d9,_3da,_3db,id){_3d9.addCallback(function(_3dc){if(_3d9.ioArgs.xhr&&_3db){_3db=_3d9.ioArgs.xhr.getResponseHeader("Content-Range");_3d9.fullLength=_3db&&(_3db=_3db.match(/\/(.*)/))&&parseInt(_3db[1]);}return _3dc;});return _3d9;};drr=_3d5.rpc.Rest=function(path,_3dd,_3de,_3df){var _3e0;_3e0=function(id,args){return drr._get(_3e0,id,args);};_3e0.isJson=_3dd;_3e0._schema=_3de;_3e0.cache={serialize:_3dd?((_3d5.json&&_3d5.json.ref)||dojo).toJson:function(_3e1){return _3e1;}};_3e0._getRequest=_3df||function(id,args){if(dojo.isObject(id)){id=dojo.objectToQuery(id);id=id?"?"+id:"";}if(args&&args.sort&&!args.queryStr){id+=(id?"&":"?")+"sort(";for(var i=0;i<args.sort.length;i++){var sort=args.sort[i];id+=(i>0?",":"")+(sort.descending?"-":"+")+encodeURIComponent(sort.attribute);}id+=")";}var _3e2={url:path+(id==null?"":id),handleAs:_3dd?"json":"text",contentType:_3dd?"application/json":"text/plain",sync:_3d5.rpc._sync,headers:{Accept:_3dd?"application/json,application/javascript":"*/*"}};if(args&&(args.start>=0||args.count>=0)){_3e2.headers.Range="items="+(args.start||"0")+"-"+(("count" in args&&args.count!=Infinity)?(args.count+(args.start||0)-1):"");}_3d5.rpc._sync=false;return _3e2;};function _3e3(name){_3e0[name]=function(id,_3e4){return drr._change(name,_3e0,id,_3e4);};};_3e3("put");_3e3("post");_3e3("delete");_3e0.servicePath=path;return _3e0;};drr._index={};drr._timeStamps={};drr._change=function(_3e5,_3e6,id,_3e7){var _3e8=_3e6._getRequest(id);_3e8[_3e5+"Data"]=_3e7;return _3d8(dojo.xhr(_3e5.toUpperCase(),_3e8,true),_3e6);};drr._get=function(_3e9,id,args){args=args||{};return _3d8(dojo.xhrGet(_3e9._getRequest(id,args)),_3e9,(args.start>=0||args.count>=0),id);};return _3d5.rpc.Rest;});},"dojox/rpc/Client":function(){define("dojox/rpc/Client",["dojo","dojox"],function(dojo,_3ea){dojo.getObject("rpc.Client",true,_3ea);dojo._defaultXhr=dojo.xhr;dojo.xhr=function(_3eb,args){var _3ec=args.headers=args.headers||{};_3ec["Client-Id"]=_3ea.rpc.Client.clientId;_3ec["Seq-Id"]=_3ea._reqSeqId=(_3ea._reqSeqId||0)+1;return dojo._defaultXhr.apply(dojo,arguments);};_3ea.rpc.Client.clientId=(Math.random()+"").substring(2,14)+(new Date().getTime()+"").substring(8,13);return _3ea.rpc.Client;});},"dojox/rpc/JsonRest":function(){define("dojox/rpc/JsonRest",["dojo","dojox","dojox/json/ref","dojox/rpc/Rest"],function(dojo,_3ed){var _3ee=[];var Rest=_3ed.rpc.Rest;var jr;function _3ef(_3f0,_3f1,_3f2,_3f3){var _3f4=_3f1.ioArgs&&_3f1.ioArgs.xhr&&_3f1.ioArgs.xhr.getResponseHeader("Last-Modified");if(_3f4&&Rest._timeStamps){Rest._timeStamps[_3f3]=_3f4;}var _3f5=_3f0._schema&&_3f0._schema.hrefProperty;if(_3f5){_3ed.json.ref.refAttribute=_3f5;}_3f2=_3f2&&_3ed.json.ref.resolveJson(_3f2,{defaultId:_3f3,index:Rest._index,timeStamps:_3f4&&Rest._timeStamps,time:_3f4,idPrefix:_3f0.servicePath.replace(/[^\/]*$/,""),idAttribute:jr.getIdAttribute(_3f0),schemas:jr.schemas,loader:jr._loader,idAsRef:_3f0.idAsRef,assignAbsoluteIds:true});_3ed.json.ref.refAttribute="$ref";return _3f2;};jr=_3ed.rpc.JsonRest={serviceClass:_3ed.rpc.Rest,conflictDateHeader:"If-Unmodified-Since",commit:function(_3f6){_3f6=_3f6||{};var _3f7=[];var _3f8={};var _3f9=[];for(var i=0;i<_3ee.length;i++){var _3fa=_3ee[i];var _3fb=_3fa.object;var old=_3fa.old;var _3fc=false;if(!(_3f6.service&&(_3fb||old)&&(_3fb||old).__id.indexOf(_3f6.service.servicePath))&&_3fa.save){delete _3fb.__isDirty;if(_3fb){if(old){var _3fd;if((_3fd=_3fb.__id.match(/(.*)#.*/))){_3fb=Rest._index[_3fd[1]];}if(!(_3fb.__id in _3f8)){_3f8[_3fb.__id]=_3fb;if(_3f6.incrementalUpdates&&!_3fd){var _3fe=(typeof _3f6.incrementalUpdates=="function"?_3f6.incrementalUpdates:function(){_3fe={};for(var j in _3fb){if(_3fb.hasOwnProperty(j)){if(_3fb[j]!==old[j]){_3fe[j]=_3fb[j];}}else{if(old.hasOwnProperty(j)){return null;}}}return _3fe;})(_3fb,old);}if(_3fe){_3f7.push({method:"post",target:_3fb,content:_3fe});}else{_3f7.push({method:"put",target:_3fb,content:_3fb});}}}else{var _3ff=jr.getServiceAndId(_3fb.__id).service;var _400=jr.getIdAttribute(_3ff);if((_400 in _3fb)&&!_3f6.alwaysPostNewItems){_3f7.push({method:"put",target:_3fb,content:_3fb});}else{_3f7.push({method:"post",target:{__id:_3ff.servicePath},content:_3fb});}}}else{if(old){_3f7.push({method:"delete",target:old});}}_3f9.push(_3fa);_3ee.splice(i--,1);}}dojo.connect(_3f6,"onError",function(){if(_3f6.revertOnError!==false){var _401=_3ee;_3ee=_3f9;var _402=0;jr.revert();_3ee=_401;}else{_3ee=_3ee.concat(_3f9);}});jr.sendToServer(_3f7,_3f6);return _3f7;},sendToServer:function(_403,_404){var _405;var _406=dojo.xhr;var left=_403.length;var i,_407;var _408;var _409=this.conflictDateHeader;dojo.xhr=function(_40a,args){args.headers=args.headers||{};args.headers["Transaction"]=_403.length-1==i?"commit":"open";if(_409&&_408){args.headers[_409]=_408;}if(_407){args.headers["Content-ID"]="<"+_407+">";}return _406.apply(dojo,arguments);};for(i=0;i<_403.length;i++){var _40b=_403[i];_3ed.rpc.JsonRest._contentId=_40b.content&&_40b.content.__id;var _40c=_40b.method=="post";_408=_40b.method=="put"&&Rest._timeStamps[_40b.content.__id];if(_408){Rest._timeStamps[_40b.content.__id]=(new Date())+"";}_407=_40c&&_3ed.rpc.JsonRest._contentId;var _40d=jr.getServiceAndId(_40b.target.__id);var _40e=_40d.service;var dfd=_40b.deferred=_40e[_40b.method](_40d.id.replace(/#/,""),_3ed.json.ref.toJson(_40b.content,false,_40e.servicePath,true));(function(_40f,dfd,_410){dfd.addCallback(function(_411){try{var _412=dfd.ioArgs.xhr&&dfd.ioArgs.xhr.getResponseHeader("Location");if(_412){var _413=_412.match(/(^\w+:\/\/)/)&&_412.indexOf(_410.servicePath);_412=_413>0?_412.substring(_413):(_410.servicePath+_412).replace(/^(.*\/)?(\w+:\/\/)|[^\/\.]+\/\.\.\/|^.*\/(\/)/,"$2$3");_40f.__id=_412;Rest._index[_412]=_40f;}_411=_3ef(_410,dfd,_411,_40f&&_40f.__id);}catch(e){}if(!(--left)){if(_404.onComplete){_404.onComplete.call(_404.scope,_403);}}return _411;});})(_40b.content,dfd,_40e);dfd.addErrback(function(_414){left=-1;_404.onError.call(_404.scope,_414);});}dojo.xhr=_406;},getDirtyObjects:function(){return _3ee;},revert:function(_415){for(var i=_3ee.length;i>0;){i--;var _416=_3ee[i];var _417=_416.object;var old=_416.old;var _418=_3ed.data._getStoreForItem(_417||old);if(!(_415&&(_417||old)&&(_417||old).__id.indexOf(_415.servicePath))){if(_417&&old){for(var j in old){if(old.hasOwnProperty(j)&&_417[j]!==old[j]){if(_418){_418.onSet(_417,j,_417[j],old[j]);}_417[j]=old[j];}}for(j in _417){if(!old.hasOwnProperty(j)){if(_418){_418.onSet(_417,j,_417[j]);}delete _417[j];}}}else{if(!old){if(_418){_418.onDelete(_417);}}else{if(_418){_418.onNew(old);}}}delete (_417||old).__isDirty;_3ee.splice(i,1);}}},changing:function(_419,_41a){if(!_419.__id){return;}_419.__isDirty=true;for(var i=0;i<_3ee.length;i++){var _41b=_3ee[i];if(_419==_41b.object){if(_41a){_41b.object=false;if(!this._saveNotNeeded){_41b.save=true;}}return;}}var old=_419 instanceof Array?[]:{};for(i in _419){if(_419.hasOwnProperty(i)){old[i]=_419[i];}}_3ee.push({object:!_41a&&_419,old:old,save:!this._saveNotNeeded});},deleteObject:function(_41c){this.changing(_41c,true);},getConstructor:function(_41d,_41e){if(typeof _41d=="string"){var _41f=_41d;_41d=new _3ed.rpc.Rest(_41d,true);this.registerService(_41d,_41f,_41e);}if(_41d._constructor){return _41d._constructor;}_41d._constructor=function(data){var self=this;var args=arguments;var _420;var _421;function _422(_423){if(_423){_422(_423["extends"]);_420=_423.properties;for(var i in _420){var _424=_420[i];if(_424&&(typeof _424=="object")&&("default" in _424)){self[i]=_424["default"];}}}if(_423&&_423.prototype&&_423.prototype.initialize){_421=true;_423.prototype.initialize.apply(self,args);}};_422(_41d._schema);if(!_421&&data&&typeof data=="object"){dojo.mixin(self,data);}var _425=jr.getIdAttribute(_41d);Rest._index[this.__id=this.__clientId=_41d.servicePath+(this[_425]||Math.random().toString(16).substring(2,14)+"@"+((_3ed.rpc.Client&&_3ed.rpc.Client.clientId)||"client"))]=this;if(_3ed.json.schema&&_420){_3ed.json.schema.mustBeValid(_3ed.json.schema.validate(this,_41d._schema));}_3ee.push({object:this,save:true});};return dojo.mixin(_41d._constructor,_41d._schema,{load:_41d});},fetch:function(_426){var _427=jr.getServiceAndId(_426);return this.byId(_427.service,_427.id);},getIdAttribute:function(_428){var _429=_428._schema;var _42a;if(_429){if(!(_42a=_429._idAttr)){for(var i in _429.properties){if(_429.properties[i].identity||(_429.properties[i].link=="self")){_429._idAttr=_42a=i;}}}}return _42a||"id";},getServiceAndId:function(_42b){var _42c="";for(var _42d in jr.services){if((_42b.substring(0,_42d.length)==_42d)&&(_42d.length>=_42c.length)){_42c=_42d;}}if(_42c){return {service:jr.services[_42c],id:_42b.substring(_42c.length)};}var _42e=_42b.match(/^(.*\/)([^\/]*)$/);return {service:new jr.serviceClass(_42e[1],true),id:_42e[2]};},services:{},schemas:{},registerService:function(_42f,_430,_431){_430=_42f.servicePath=_430||_42f.servicePath;_42f._schema=jr.schemas[_430]=_431||_42f._schema||{};jr.services[_430]=_42f;},byId:function(_432,id){var _433,_434=Rest._index[(_432.servicePath||"")+id];if(_434&&!_434._loadObject){_433=new dojo.Deferred();_433.callback(_434);return _433;}return this.query(_432,id);},query:function(_435,id,args){var _436=_435(id,args);_436.addCallback(function(_437){if(_437.nodeType&&_437.cloneNode){return _437;}return _3ef(_435,_436,_437,typeof id!="string"||(args&&(args.start||args.count))?undefined:id);});return _436;},_loader:function(_438){var _439=jr.getServiceAndId(this.__id);var self=this;jr.query(_439.service,_439.id).addBoth(function(_43a){if(_43a==self){delete _43a.$ref;delete _43a._loadObject;}else{self._loadObject=function(_43b){_43b(_43a);};}_438(_43a);});},isDirty:function(item,_43c){if(!item){if(_43c){return dojo.some(_3ee,function(_43d){return _3ed.data._getStoreForItem(_43d.object||_43d.old)==_43c;});}return !!_3ee.length;}return item.__isDirty;}};return _3ed.rpc.JsonRest;});},"dojox/data/ClientFilter":function(){define("dojox/data/ClientFilter",["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/_base/Deferred","dojo/data/util/filter"],function(_43e,lang,_43f,_440,_441){var _442=function(_443,_444,_445){return function(item){_443._updates.push({create:_444&&item,remove:_445&&item});_446.onUpdate();};};var _446=_43e("dojox.data.ClientFilter",null,{cacheByDefault:false,constructor:function(){this.onSet=_442(this,true,true);this.onNew=_442(this,true,false);this.onDelete=_442(this,false,true);this._updates=[];this._fetchCache=[];},clearCache:function(){this._fetchCache=[];},updateResultSet:function(_447,_448){if(this.isUpdateable(_448)){for(var i=_448._version||0;i<this._updates.length;i++){var _449=this._updates[i].create;var _44a=this._updates[i].remove;if(_44a){for(var j=0;j<_447.length;j++){if(this.getIdentity(_447[j])==this.getIdentity(_44a)){_447.splice(j--,1);var _44b=true;}}}if(_449&&this.matchesQuery(_449,_448)&&_43f.indexOf(_447,_449)==-1){_447.push(_449);_44b=true;}}if(_448.sort&&_44b){_447.sort(this.makeComparator(_448.sort.concat()));}_447._fullLength=_447.length;if(_448.count&&_44b&&_448.count!==Infinity){_447.splice(_448.count,_447.length);}_448._version=this._updates.length;return _44b?2:1;}return 0;},querySuperSet:function(_44c,_44d){if(_44c.query==_44d.query){return {};}if(!(_44d.query instanceof Object&&(!_44c.query||typeof _44c.query=="object"))){return false;}var _44e=lang.mixin({},_44d.query);for(var i in _44c.query){if(_44e[i]==_44c.query[i]){delete _44e[i];}else{if(!(typeof _44c.query[i]=="string"&&_441.patternToRegExp(_44c.query[i]).test(_44e[i]))){return false;}}}return _44e;},serverVersion:0,cachingFetch:function(args){var self=this;for(var i=0;i<this._fetchCache.length;i++){var _44f=this._fetchCache[i];var _450=this.querySuperSet(_44f,args);if(_450!==false){var _451=_44f._loading;if(!_451){_451=new _440();_451.callback(_44f.cacheResults);}_451.addCallback(function(_452){_452=self.clientSideFetch(lang.mixin(lang.mixin({},args),{query:_450}),_452);_451.fullLength=_452._fullLength;return _452;});args._version=_44f._version;break;}}if(!_451){var _453=lang.mixin({},args);var _454=(args.queryOptions||0).cache;var _455=this._fetchCache;if(_454===undefined?this.cacheByDefault:_454){if(args.start||args.count){delete _453.start;delete _453.count;args.clientQuery=lang.mixin(args.clientQuery||{},{start:args.start,count:args.count});}args=_453;_455.push(args);}_451=args._loading=this._doQuery(args);_451.addErrback(function(){_455.splice(_43f.indexOf(_455,args),1);});}var _456=this.serverVersion;_451.addCallback(function(_457){delete args._loading;if(_457){args._version=typeof args._version=="number"?args._version:_456;self.updateResultSet(_457,args);args.cacheResults=_457;if(!args.count||_457.length<args.count){_451.fullLength=((args.start)?args.start:0)+_457.length;}}return _457;});return _451;},isUpdateable:function(_458){return typeof _458.query=="object";},clientSideFetch:function(_459,_45a){if(_459.queryOptions&&_459.queryOptions.results){_45a=_459.queryOptions.results;}if(_459.query){var _45b=[];for(var i=0;i<_45a.length;i++){var _45c=_45a[i];if(_45c&&this.matchesQuery(_45c,_459)){_45b.push(_45a[i]);}}}else{_45b=_459.sort?_45a.concat():_45a;}if(_459.sort){_45b.sort(this.makeComparator(_459.sort.concat()));}return this.clientSidePaging(_459,_45b);},clientSidePaging:function(_45d,_45e){var _45f=_45d.start||0;var _460=(_45f||_45d.count)?_45e.slice(_45f,_45f+(_45d.count||_45e.length)):_45e;_460._fullLength=_45e.length;return _460;},matchesQuery:function(item,_461){var _462=_461.query;var _463=_461.queryOptions&&_461.queryOptions.ignoreCase;for(var i in _462){var _464=_462[i];var _465=this.getValue(item,i);if((typeof _464=="string"&&(_464.match(/[\*\.]/)||_463))?!_441.patternToRegExp(_464,_463).test(_465):_465!=_464){return false;}}return true;},makeComparator:function(sort){var _466=sort.shift();if(!_466){return function(){return 0;};}var _467=_466.attribute;var _468=!!_466.descending;var next=this.makeComparator(sort);var _469=this;return function(a,b){var av=_469.getValue(a,_467);var bv=_469.getValue(b,_467);if(av!=bv){return av<bv==_468?1:-1;}return next(a,b);};}});_446.onUpdate=function(){};return _446;});},"dojox/atom/io/model":function(){define("dojox/atom/io/model",["dojo/_base/kernel","dojo/_base/declare","dojo/_base/lang","dojo/date/stamp","dojox/xml/parser"],function(dojo,_46a,lang,_46b,_46c){var _46d=dojo.getObject("dojox.atom.io.model",true);_46d._Constants={"ATOM_URI":"http://www.w3.org/2005/Atom","ATOM_NS":"http://www.w3.org/2005/Atom","PURL_NS":"http://purl.org/atom/app#","APP_NS":"http://www.w3.org/2007/app"};_46d._actions={"link":function(obj,node){if(obj.links===null){obj.links=[];}var link=new _46d.Link();link.buildFromDom(node);obj.links.push(link);},"author":function(obj,node){if(obj.authors===null){obj.authors=[];}var _46e=new _46d.Person("author");_46e.buildFromDom(node);obj.authors.push(_46e);},"contributor":function(obj,node){if(obj.contributors===null){obj.contributors=[];}var _46f=new _46d.Person("contributor");_46f.buildFromDom(node);obj.contributors.push(_46f);},"category":function(obj,node){if(obj.categories===null){obj.categories=[];}var cat=new _46d.Category();cat.buildFromDom(node);obj.categories.push(cat);},"icon":function(obj,node){obj.icon=_46c.textContent(node);},"id":function(obj,node){obj.id=_46c.textContent(node);},"rights":function(obj,node){obj.rights=_46c.textContent(node);},"subtitle":function(obj,node){var cnt=new _46d.Content("subtitle");cnt.buildFromDom(node);obj.subtitle=cnt;},"title":function(obj,node){var cnt=new _46d.Content("title");cnt.buildFromDom(node);obj.title=cnt;},"updated":function(obj,node){obj.updated=_46d.util.createDate(node);},"issued":function(obj,node){obj.issued=_46d.util.createDate(node);},"modified":function(obj,node){obj.modified=_46d.util.createDate(node);},"published":function(obj,node){obj.published=_46d.util.createDate(node);},"entry":function(obj,node){if(obj.entries===null){obj.entries=[];}var _470=obj.createEntry?obj.createEntry():new _46d.Entry();_470.buildFromDom(node);obj.entries.push(_470);},"content":function(obj,node){var cnt=new _46d.Content("content");cnt.buildFromDom(node);obj.content=cnt;},"summary":function(obj,node){var _471=new _46d.Content("summary");_471.buildFromDom(node);obj.summary=_471;},"name":function(obj,node){obj.name=_46c.textContent(node);},"email":function(obj,node){obj.email=_46c.textContent(node);},"uri":function(obj,node){obj.uri=_46c.textContent(node);},"generator":function(obj,node){obj.generator=new _46d.Generator();obj.generator.buildFromDom(node);}};_46d.util={createDate:function(node){var _472=_46c.textContent(node);if(_472){return _46b.fromISOString(lang.trim(_472));}return null;},escapeHtml:function(str){return str.replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;").replace(/'/gm,"&#39;");},unEscapeHtml:function(str){return str.replace(/&lt;/gm,"<").replace(/&gt;/gm,">").replace(/&quot;/gm,"\"").replace(/&#39;/gm,"'").replace(/&amp;/gm,"&");},getNodename:function(node){var name=null;if(node!==null){name=node.localName?node.localName:node.nodeName;if(name!==null){var _473=name.indexOf(":");if(_473!==-1){name=name.substring((_473+1),name.length);}}}return name;}};_46d.Node=dojo.declare(null,{constructor:function(_474,name,_475,_476,_477){this.name_space=_474;this.name=name;this.attributes=[];if(_475){this.attributes=_475;}this.content=[];this.rawNodes=[];this.textContent=null;if(_476){this.content.push(_476);}this.shortNs=_477;this._objName="Node";this.nodeType="Node";},buildFromDom:function(node){this._saveAttributes(node);this.name_space=node.namespaceURI;this.shortNs=node.prefix;this.name=_46d.util.getNodename(node);for(var x=0;x<node.childNodes.length;x++){var c=node.childNodes[x];if(_46d.util.getNodename(c)!="#text"){this.rawNodes.push(c);var n=new _46d.Node();n.buildFromDom(c,true);this.content.push(n);}else{this.content.push(c.nodeValue);}}this.textContent=_46c.textContent(node);},_saveAttributes:function(node){if(!this.attributes){this.attributes=[];}var _478=function(node){var _479=node.attributes;if(_479===null){return false;}return (_479.length!==0);};if(_478(node)&&this._getAttributeNames){var _47a=this._getAttributeNames(node);if(_47a&&_47a.length>0){for(var x in _47a){var _47b=node.getAttribute(_47a[x]);if(_47b){this.attributes[_47a[x]]=_47b;}}}}},addAttribute:function(name,_47c){this.attributes[name]=_47c;},getAttribute:function(name){return this.attributes[name];},_getAttributeNames:function(node){var _47d=[];for(var i=0;i<node.attributes.length;i++){_47d.push(node.attributes[i].nodeName);}return _47d;},toString:function(){var xml=[];var x;var name=(this.shortNs?this.shortNs+":":"")+this.name;var _47e=(this.name=="#cdata-section");if(_47e){xml.push("<![CDATA[");xml.push(this.textContent);xml.push("]]>");}else{xml.push("<");xml.push(name);if(this.name_space){xml.push(" xmlns='"+this.name_space+"'");}if(this.attributes){for(x in this.attributes){xml.push(" "+x+"='"+this.attributes[x]+"'");}}if(this.content){xml.push(">");for(x in this.content){xml.push(this.content[x]);}xml.push("</"+name+">\n");}else{xml.push("/>\n");}}return xml.join("");},addContent:function(_47f){this.content.push(_47f);}});_46d.AtomItem=dojo.declare(_46d.Node,{constructor:function(args){this.ATOM_URI=_46d._Constants.ATOM_URI;this.links=null;this.authors=null;this.categories=null;this.contributors=null;this.icon=this.id=this.logo=this.xmlBase=this.rights=null;this.subtitle=this.title=null;this.updated=this.published=null;this.issued=this.modified=null;this.content=null;this.extensions=null;this.entries=null;this.name_spaces={};this._objName="AtomItem";this.nodeType="AtomItem";},_getAttributeNames:function(){return null;},_accepts:{},accept:function(tag){return Boolean(this._accepts[tag]);},_postBuild:function(){},buildFromDom:function(node){var i,c,n;for(i=0;i<node.attributes.length;i++){c=node.attributes.item(i);n=_46d.util.getNodename(c);if(c.prefix=="xmlns"&&c.prefix!=n){this.addNamespace(c.nodeValue,n);}}c=node.childNodes;for(i=0;i<c.length;i++){if(c[i].nodeType==1){var name=_46d.util.getNodename(c[i]);if(!name){continue;}if(c[i].namespaceURI!=_46d._Constants.ATOM_NS&&name!="#text"){if(!this.extensions){this.extensions=[];}var _480=new _46d.Node();_480.buildFromDom(c[i]);this.extensions.push(_480);}if(!this.accept(name.toLowerCase())){continue;}var fn=_46d._actions[name];if(fn){fn(this,c[i]);}}}this._saveAttributes(node);if(this._postBuild){this._postBuild();}},addNamespace:function(_481,_482){if(_481&&_482){this.name_spaces[_482]=_481;}},addAuthor:function(name,_483,uri){if(!this.authors){this.authors=[];}this.authors.push(new _46d.Person("author",name,_483,uri));},addContributor:function(name,_484,uri){if(!this.contributors){this.contributors=[];}this.contributors.push(new _46d.Person("contributor",name,_484,uri));},addLink:function(href,rel,_485,_486,type){if(!this.links){this.links=[];}this.links.push(new _46d.Link(href,rel,_485,_486,type));},removeLink:function(href,rel){if(!this.links||!lang.isArray(this.links)){return;}var _487=0;for(var i=0;i<this.links.length;i++){if((!href||this.links[i].href===href)&&(!rel||this.links[i].rel===rel)){this.links.splice(i,1);_487++;}}return _487;},removeBasicLinks:function(){if(!this.links){return;}var _488=0;for(var i=0;i<this.links.length;i++){if(!this.links[i].rel){this.links.splice(i,1);_488++;i--;}}return _488;},addCategory:function(_489,term,_48a){if(!this.categories){this.categories=[];}this.categories.push(new _46d.Category(_489,term,_48a));},getCategories:function(_48b){if(!_48b){return this.categories;}var arr=[];for(var x in this.categories){if(this.categories[x].scheme===_48b){arr.push(this.categories[x]);}}return arr;},removeCategories:function(_48c,term){if(!this.categories){return;}var _48d=0;for(var i=0;i<this.categories.length;i++){if((!_48c||this.categories[i].scheme===_48c)&&(!term||this.categories[i].term===term)){this.categories.splice(i,1);_48d++;i--;}}return _48d;},setTitle:function(str,type){if(!str){return;}this.title=new _46d.Content("title");this.title.value=str;if(type){this.title.type=type;}},addExtension:function(_48e,name,_48f,_490,_491){if(!this.extensions){this.extensions=[];}this.extensions.push(new _46d.Node(_48e,name,_48f,_490,_491||"ns"+this.extensions.length));},getExtensions:function(_492,name){var arr=[];if(!this.extensions){return arr;}for(var x in this.extensions){if((this.extensions[x].name_space===_492||this.extensions[x].shortNs===_492)&&(!name||this.extensions[x].name===name)){arr.push(this.extensions[x]);}}return arr;},removeExtensions:function(_493,name){if(!this.extensions){return;}for(var i=0;i<this.extensions.length;i++){if((this.extensions[i].name_space==_493||this.extensions[i].shortNs===_493)&&this.extensions[i].name===name){this.extensions.splice(i,1);i--;}}},destroy:function(){this.links=null;this.authors=null;this.categories=null;this.contributors=null;this.icon=this.id=this.logo=this.xmlBase=this.rights=null;this.subtitle=this.title=null;this.updated=this.published=null;this.issued=this.modified=null;this.content=null;this.extensions=null;this.entries=null;}});_46d.Category=dojo.declare(_46d.Node,{constructor:function(_494,term,_495){this.scheme=_494;this.term=term;this.label=_495;this._objName="Category";this.nodeType="Category";},_postBuild:function(){},_getAttributeNames:function(){return ["label","scheme","term"];},toString:function(){var s=[];s.push("<category ");if(this.label){s.push(" label=\""+this.label+"\" ");}if(this.scheme){s.push(" scheme=\""+this.scheme+"\" ");}if(this.term){s.push(" term=\""+this.term+"\" ");}s.push("/>\n");return s.join("");},buildFromDom:function(node){this._saveAttributes(node);this.label=this.attributes.label;this.scheme=this.attributes.scheme;this.term=this.attributes.term;if(this._postBuild){this._postBuild();}}});_46d.Content=dojo.declare(_46d.Node,{constructor:function(_496,_497,src,type,_498){this.tagName=_496;this.value=_497;this.src=src;this.type=type;this.xmlLang=_498;this.HTML="html";this.TEXT="text";this.XHTML="xhtml";this.XML="xml";this._useTextContent="true";this.nodeType="Content";},_getAttributeNames:function(){return ["type","src"];},_postBuild:function(){},buildFromDom:function(node){var type=node.getAttribute("type");if(type){type=type.toLowerCase();if(type=="xml"||"text/xml"){type=this.XML;}}else{type="text";}if(type===this.XML){if(node.firstChild){var i;this.value="";for(i=0;i<node.childNodes.length;i++){var c=node.childNodes[i];if(c){this.value+=_46c.innerXML(c);}}}}else{if(node.innerHTML){this.value=node.innerHTML;}else{this.value=_46c.textContent(node);}}this._saveAttributes(node);if(this.attributes){this.type=this.attributes.type;this.scheme=this.attributes.scheme;this.term=this.attributes.term;}if(!this.type){this.type="text";}var _499=this.type.toLowerCase();if(_499==="html"||_499==="text/html"||_499==="xhtml"||_499==="text/xhtml"){this.value=this.value?_46d.util.unEscapeHtml(this.value):"";}if(this._postBuild){this._postBuild();}},toString:function(){var s=[];s.push("<"+this.tagName+" ");if(!this.type){this.type="text";}if(this.type){s.push(" type=\""+this.type+"\" ");}if(this.xmlLang){s.push(" xml:lang=\""+this.xmlLang+"\" ");}if(this.xmlBase){s.push(" xml:base=\""+this.xmlBase+"\" ");}if(this.type.toLowerCase()==this.HTML){s.push(">"+_46d.util.escapeHtml(this.value)+"</"+this.tagName+">\n");}else{s.push(">"+this.value+"</"+this.tagName+">\n");}var ret=s.join("");return ret;}});_46d.Link=dojo.declare(_46d.Node,{constructor:function(href,rel,_49a,_49b,type){this.href=href;this.hrefLang=_49a;this.rel=rel;this.title=_49b;this.type=type;this.nodeType="Link";},_getAttributeNames:function(){return ["href","jrefLang","rel","title","type"];},_postBuild:function(){},buildFromDom:function(node){this._saveAttributes(node);this.href=this.attributes.href;this.hrefLang=this.attributes.hreflang;this.rel=this.attributes.rel;this.title=this.attributes.title;this.type=this.attributes.type;if(this._postBuild){this._postBuild();}},toString:function(){var s=[];s.push("<link ");if(this.href){s.push(" href=\""+this.href+"\" ");}if(this.hrefLang){s.push(" hrefLang=\""+this.hrefLang+"\" ");}if(this.rel){s.push(" rel=\""+this.rel+"\" ");}if(this.title){s.push(" title=\""+this.title+"\" ");}if(this.type){s.push(" type = \""+this.type+"\" ");}s.push("/>\n");return s.join("");}});_46d.Person=dojo.declare(_46d.Node,{constructor:function(_49c,name,_49d,uri){this.author="author";this.contributor="contributor";if(!_49c){_49c=this.author;}this.personType=_49c;this.name=name||"";this.email=_49d||"";this.uri=uri||"";this._objName="Person";this.nodeType="Person";},_getAttributeNames:function(){return null;},_postBuild:function(){},accept:function(tag){return Boolean(this._accepts[tag]);},buildFromDom:function(node){var c=node.childNodes;for(var i=0;i<c.length;i++){var name=_46d.util.getNodename(c[i]);if(!name){continue;}if(c[i].namespaceURI!=_46d._Constants.ATOM_NS&&name!="#text"){if(!this.extensions){this.extensions=[];}var _49e=new _46d.Node();_49e.buildFromDom(c[i]);this.extensions.push(_49e);}if(!this.accept(name.toLowerCase())){continue;}var fn=_46d._actions[name];if(fn){fn(this,c[i]);}}this._saveAttributes(node);if(this._postBuild){this._postBuild();}},_accepts:{"name":true,"uri":true,"email":true},toString:function(){var s=[];s.push("<"+this.personType+">\n");if(this.name){s.push("\t<name>"+this.name+"</name>\n");}if(this.email){s.push("\t<email>"+this.email+"</email>\n");}if(this.uri){s.push("\t<uri>"+this.uri+"</uri>\n");}s.push("</"+this.personType+">\n");return s.join("");}});_46d.Generator=dojo.declare(_46d.Node,{constructor:function(uri,_49f,_4a0){this.uri=uri;this.version=_49f;this.value=_4a0;},_postBuild:function(){},buildFromDom:function(node){this.value=_46c.textContent(node);this._saveAttributes(node);this.uri=this.attributes.uri;this.version=this.attributes.version;if(this._postBuild){this._postBuild();}},toString:function(){var s=[];s.push("<generator ");if(this.uri){s.push(" uri=\""+this.uri+"\" ");}if(this.version){s.push(" version=\""+this.version+"\" ");}s.push(">"+this.value+"</generator>\n");var ret=s.join("");return ret;}});_46d.Entry=dojo.declare(_46d.AtomItem,{constructor:function(id){this.id=id;this._objName="Entry";this.feedUrl=null;},_getAttributeNames:function(){return null;},_accepts:{"author":true,"content":true,"category":true,"contributor":true,"created":true,"id":true,"link":true,"published":true,"rights":true,"summary":true,"title":true,"updated":true,"xmlbase":true,"issued":true,"modified":true},toString:function(_4a1){var s=[];var i;if(_4a1){s.push("<?xml version='1.0' encoding='UTF-8'?>");s.push("<entry xmlns='"+_46d._Constants.ATOM_URI+"'");}else{s.push("<entry");}if(this.xmlBase){s.push(" xml:base=\""+this.xmlBase+"\" ");}for(i in this.name_spaces){s.push(" xmlns:"+i+"=\""+this.name_spaces[i]+"\"");}s.push(">\n");s.push("<id>"+(this.id?this.id:"")+"</id>\n");if(this.issued&&!this.published){this.published=this.issued;}if(this.published){s.push("<published>"+_46b.toISOString(this.published)+"</published>\n");}if(this.created){s.push("<created>"+_46b.toISOString(this.created)+"</created>\n");}if(this.issued){s.push("<issued>"+_46b.toISOString(this.issued)+"</issued>\n");}if(this.modified){s.push("<modified>"+_46b.toISOString(this.modified)+"</modified>\n");}if(this.modified&&!this.updated){this.updated=this.modified;}if(this.updated){s.push("<updated>"+_46b.toISOString(this.updated)+"</updated>\n");}if(this.rights){s.push("<rights>"+this.rights+"</rights>\n");}if(this.title){s.push(this.title.toString());}if(this.summary){s.push(this.summary.toString());}var _4a2=[this.authors,this.categories,this.links,this.contributors,this.extensions];for(var x in _4a2){if(_4a2[x]){for(var y in _4a2[x]){s.push(_4a2[x][y]);}}}if(this.content){s.push(this.content.toString());}s.push("</entry>\n");return s.join("");},getEditHref:function(){if(this.links===null||this.links.length===0){return null;}for(var x in this.links){if(this.links[x].rel&&this.links[x].rel=="edit"){return this.links[x].href;}}return null;},setEditHref:function(url){if(this.links===null){this.links=[];}for(var x in this.links){if(this.links[x].rel&&this.links[x].rel=="edit"){this.links[x].href=url;return;}}this.addLink(url,"edit");}});_46d.Feed=dojo.declare(_46d.AtomItem,{_accepts:{"author":true,"content":true,"category":true,"contributor":true,"created":true,"id":true,"link":true,"published":true,"rights":true,"summary":true,"title":true,"updated":true,"xmlbase":true,"entry":true,"logo":true,"issued":true,"modified":true,"icon":true,"subtitle":true},addEntry:function(_4a3){if(!_4a3.id){throw new Error("The entry object must be assigned an ID attribute.");}if(!this.entries){this.entries=[];}_4a3.feedUrl=this.getSelfHref();this.entries.push(_4a3);},getFirstEntry:function(){if(!this.entries||this.entries.length===0){return null;}return this.entries[0];},getEntry:function(_4a4){if(!this.entries){return null;}for(var x in this.entries){if(this.entries[x].id==_4a4){return this.entries[x];}}return null;},removeEntry:function(_4a5){if(!this.entries){return;}var _4a6=0;for(var i=0;i<this.entries.length;i++){if(this.entries[i]===_4a5){this.entries.splice(i,1);_4a6++;}}return _4a6;},setEntries:function(_4a7){for(var x in _4a7){this.addEntry(_4a7[x]);}},toString:function(){var s=[];var i;s.push("<?xml version=\"1.0\" encoding=\"utf-8\"?>\n");s.push("<feed xmlns=\""+_46d._Constants.ATOM_URI+"\"");if(this.xmlBase){s.push(" xml:base=\""+this.xmlBase+"\"");}for(i in this.name_spaces){s.push(" xmlns:"+i+"=\""+this.name_spaces[i]+"\"");}s.push(">\n");s.push("<id>"+(this.id?this.id:"")+"</id>\n");if(this.title){s.push(this.title);}if(this.copyright&&!this.rights){this.rights=this.copyright;}if(this.rights){s.push("<rights>"+this.rights+"</rights>\n");}if(this.issued){s.push("<issued>"+_46b.toISOString(this.issued)+"</issued>\n");}if(this.modified){s.push("<modified>"+_46b.toISOString(this.modified)+"</modified>\n");}if(this.modified&&!this.updated){this.updated=this.modified;}if(this.updated){s.push("<updated>"+_46b.toISOString(this.updated)+"</updated>\n");}if(this.published){s.push("<published>"+_46b.toISOString(this.published)+"</published>\n");}if(this.icon){s.push("<icon>"+this.icon+"</icon>\n");}if(this.language){s.push("<language>"+this.language+"</language>\n");}if(this.logo){s.push("<logo>"+this.logo+"</logo>\n");}if(this.subtitle){s.push(this.subtitle.toString());}if(this.tagline){s.push(this.tagline.toString());}var _4a8=[this.alternateLinks,this.authors,this.categories,this.contributors,this.otherLinks,this.extensions,this.entries];for(i in _4a8){if(_4a8[i]){for(var x in _4a8[i]){s.push(_4a8[i][x]);}}}s.push("</feed>");return s.join("");},createEntry:function(){var _4a9=new _46d.Entry();_4a9.feedUrl=this.getSelfHref();return _4a9;},getSelfHref:function(){if(this.links===null||this.links.length===0){return null;}for(var x in this.links){if(this.links[x].rel&&this.links[x].rel=="self"){return this.links[x].href;}}return null;}});_46d.Service=dojo.declare(_46d.AtomItem,{constructor:function(href){this.href=href;},buildFromDom:function(node){var i;this.workspaces=[];if(node.tagName!="service"){return;}if(node.namespaceURI!=_46d._Constants.PURL_NS&&node.namespaceURI!=_46d._Constants.APP_NS){return;}var ns=node.namespaceURI;this.name_space=node.namespaceURI;var _4aa;if(typeof (node.getElementsByTagNameNS)!="undefined"){_4aa=node.getElementsByTagNameNS(ns,"workspace");}else{_4aa=[];var temp=node.getElementsByTagName("workspace");for(i=0;i<temp.length;i++){if(temp[i].namespaceURI==ns){_4aa.push(temp[i]);}}}if(_4aa&&_4aa.length>0){var _4ab=0;var _4ac;for(i=0;i<_4aa.length;i++){_4ac=(typeof (_4aa.item)==="undefined"?_4aa[i]:_4aa.item(i));var _4ad=new _46d.Workspace();_4ad.buildFromDom(_4ac);this.workspaces[_4ab++]=_4ad;}}},getCollection:function(url){for(var i=0;i<this.workspaces.length;i++){var coll=this.workspaces[i].collections;for(var j=0;j<coll.length;j++){if(coll[j].href==url){return coll;}}}return null;}});_46d.Workspace=dojo.declare(_46d.AtomItem,{constructor:function(_4ae){this.title=_4ae;this.collections=[];},buildFromDom:function(node){var name=_46d.util.getNodename(node);if(name!="workspace"){return;}var c=node.childNodes;var len=0;for(var i=0;i<c.length;i++){var _4af=c[i];if(_4af.nodeType===1){name=_46d.util.getNodename(_4af);if(_4af.namespaceURI==_46d._Constants.PURL_NS||_4af.namespaceURI==_46d._Constants.APP_NS){if(name==="collection"){var coll=new _46d.Collection();coll.buildFromDom(_4af);this.collections[len++]=coll;}}else{if(_4af.namespaceURI===_46d._Constants.ATOM_NS){if(name==="title"){this.title=_46c.textContent(_4af);}}}}}}});_46d.Collection=dojo.declare(_46d.AtomItem,{constructor:function(href,_4b0){this.href=href;this.title=_4b0;this.attributes=[];this.features=[];this.children=[];this.memberType=null;this.id=null;},buildFromDom:function(node){this.href=node.getAttribute("href");var c=node.childNodes;for(var i=0;i<c.length;i++){var _4b1=c[i];if(_4b1.nodeType===1){var name=_46d.util.getNodename(_4b1);if(_4b1.namespaceURI==_46d._Constants.PURL_NS||_4b1.namespaceURI==_46d._Constants.APP_NS){if(name==="member-type"){this.memberType=_46c.textContent(_4b1);}else{if(name=="feature"){if(_4b1.getAttribute("id")){this.features.push(_4b1.getAttribute("id"));}}else{var _4b2=new _46d.Node();_4b2.buildFromDom(_4b1);this.children.push(_4b2);}}}else{if(_4b1.namespaceURI===_46d._Constants.ATOM_NS){if(name==="id"){this.id=_46c.textContent(_4b1);}else{if(name==="title"){this.title=_46c.textContent(_4b1);}}}}}}}});return _46d;});},"dojo/AdapterRegistry":function(){define("dojo/AdapterRegistry",["./_base/kernel","./_base/lang"],function(dojo,lang){var _4b3=dojo.AdapterRegistry=function(_4b4){this.pairs=[];this.returnWrappers=_4b4||false;};lang.extend(_4b3,{register:function(name,_4b5,wrap,_4b6,_4b7){this.pairs[((_4b7)?"unshift":"push")]([name,_4b5,wrap,_4b6]);},match:function(){for(var i=0;i<this.pairs.length;i++){var pair=this.pairs[i];if(pair[1].apply(this,arguments)){if((pair[3])||(this.returnWrappers)){return pair[2];}else{return pair[2].apply(this,arguments);}}}throw new Error("No match found");},unregister:function(name){for(var i=0;i<this.pairs.length;i++){var pair=this.pairs[i];if(pair[0]==name){this.pairs.splice(i,1);return true;}}return false;}});return _4b3;});},"dojo/date/stamp":function(){define("dojo/date/stamp",["../_base/kernel","../_base/lang","../_base/array"],function(dojo,lang,_4b8){lang.getObject("date.stamp",true,dojo);dojo.date.stamp.fromISOString=function(_4b9,_4ba){if(!dojo.date.stamp._isoRegExp){dojo.date.stamp._isoRegExp=/^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(.\d+)?)?((?:[+-](\d{2}):(\d{2}))|Z)?)?$/;}var _4bb=dojo.date.stamp._isoRegExp.exec(_4b9),_4bc=null;if(_4bb){_4bb.shift();if(_4bb[1]){_4bb[1]--;}if(_4bb[6]){_4bb[6]*=1000;}if(_4ba){_4ba=new Date(_4ba);_4b8.forEach(_4b8.map(["FullYear","Month","Date","Hours","Minutes","Seconds","Milliseconds"],function(prop){return _4ba["get"+prop]();}),function(_4bd,_4be){_4bb[_4be]=_4bb[_4be]||_4bd;});}_4bc=new Date(_4bb[0]||1970,_4bb[1]||0,_4bb[2]||1,_4bb[3]||0,_4bb[4]||0,_4bb[5]||0,_4bb[6]||0);if(_4bb[0]<100){_4bc.setFullYear(_4bb[0]||1970);}var _4bf=0,_4c0=_4bb[7]&&_4bb[7].charAt(0);if(_4c0!="Z"){_4bf=((_4bb[8]||0)*60)+(Number(_4bb[9])||0);if(_4c0!="-"){_4bf*=-1;}}if(_4c0){_4bf-=_4bc.getTimezoneOffset();}if(_4bf){_4bc.setTime(_4bc.getTime()+_4bf*60000);}}return _4bc;};dojo.date.stamp.toISOString=function(_4c1,_4c2){var _4c3=function(n){return (n<10)?"0"+n:n;};_4c2=_4c2||{};var _4c4=[],_4c5=_4c2.zulu?"getUTC":"get",date="";if(_4c2.selector!="time"){var year=_4c1[_4c5+"FullYear"]();date=["0000".substr((year+"").length)+year,_4c3(_4c1[_4c5+"Month"]()+1),_4c3(_4c1[_4c5+"Date"]())].join("-");}_4c4.push(date);if(_4c2.selector!="date"){var time=[_4c3(_4c1[_4c5+"Hours"]()),_4c3(_4c1[_4c5+"Minutes"]()),_4c3(_4c1[_4c5+"Seconds"]())].join(":");var _4c6=_4c1[_4c5+"Milliseconds"]();if(_4c2.milliseconds){time+="."+(_4c6<100?"0":"")+_4c3(_4c6);}if(_4c2.zulu){time+="Z";}else{if(_4c2.selector!="time"){var _4c7=_4c1.getTimezoneOffset();var _4c8=Math.abs(_4c7);time+=(_4c7>0?"-":"+")+_4c3(Math.floor(_4c8/60))+":"+_4c3(_4c8%60);}}_4c4.push(time);}return _4c4.join("T");};return dojo.date.stamp;});},"dojox/data/AndOrReadStore":function(){define("dojox/data/AndOrReadStore",["dojo/_base/kernel","dojo/_base/declare","dojo/_base/lang","dojo/data/util/filter","dojo/data/util/simpleFetch","dojo/_base/array","dojo/date/stamp","dojo/_base/json","dojo/_base/window","dojo/_base/xhr"],function(_4c9,_4ca,lang,_4cb,_4cc,_4cd,_4ce,json,_4cf,xhr){var _4d0=_4ca("dojox.data.AndOrReadStore",null,{constructor:function(_4d1){this._arrayOfAllItems=[];this._arrayOfTopLevelItems=[];this._loadFinished=false;this._jsonFileUrl=_4d1.url;this._ccUrl=_4d1.url;this.url=_4d1.url;this._jsonData=_4d1.data;this.data=null;this._datatypeMap=_4d1.typeMap||{};if(!this._datatypeMap["Date"]){this._datatypeMap["Date"]={type:Date,deserialize:function(_4d2){return _4ce.fromISOString(_4d2);}};}this._features={"dojo.data.api.Read":true,"dojo.data.api.Identity":true};this._itemsByIdentity=null;this._storeRefPropName="_S";this._itemNumPropName="_0";this._rootItemPropName="_RI";this._reverseRefMap="_RRM";this._loadInProgress=false;this._queuedFetches=[];if(_4d1.urlPreventCache!==undefined){this.urlPreventCache=_4d1.urlPreventCache?true:false;}if(_4d1.hierarchical!==undefined){this.hierarchical=_4d1.hierarchical?true:false;}if(_4d1.clearOnClose){this.clearOnClose=true;}},url:"",_ccUrl:"",data:null,typeMap:null,clearOnClose:false,urlPreventCache:false,hierarchical:true,_assertIsItem:function(item){if(!this.isItem(item)){throw new Error("dojox.data.AndOrReadStore: Invalid item argument.");}},_assertIsAttribute:function(_4d3){if(typeof _4d3!=="string"){throw new Error("dojox.data.AndOrReadStore: Invalid attribute argument.");}},getValue:function(item,_4d4,_4d5){var _4d6=this.getValues(item,_4d4);return (_4d6.length>0)?_4d6[0]:_4d5;},getValues:function(item,_4d7){this._assertIsItem(item);this._assertIsAttribute(_4d7);var arr=item[_4d7]||[];return arr.slice(0,arr.length);},getAttributes:function(item){this._assertIsItem(item);var _4d8=[];for(var key in item){if((key!==this._storeRefPropName)&&(key!==this._itemNumPropName)&&(key!==this._rootItemPropName)&&(key!==this._reverseRefMap)){_4d8.push(key);}}return _4d8;},hasAttribute:function(item,_4d9){this._assertIsItem(item);this._assertIsAttribute(_4d9);return (_4d9 in item);},containsValue:function(item,_4da,_4db){var _4dc=undefined;if(typeof _4db==="string"){_4dc=_4cb.patternToRegExp(_4db,false);}return this._containsValue(item,_4da,_4db,_4dc);},_containsValue:function(item,_4dd,_4de,_4df){return _4cd.some(this.getValues(item,_4dd),function(_4e0){if(_4e0!==null&&!lang.isObject(_4e0)&&_4df){if(_4e0.toString().match(_4df)){return true;}}else{if(_4de===_4e0){return true;}else{return false;}}});},isItem:function(_4e1){if(_4e1&&_4e1[this._storeRefPropName]===this){if(this._arrayOfAllItems[_4e1[this._itemNumPropName]]===_4e1){return true;}}return false;},isItemLoaded:function(_4e2){return this.isItem(_4e2);},loadItem:function(_4e3){this._assertIsItem(_4e3.item);},getFeatures:function(){return this._features;},getLabel:function(item){if(this._labelAttr&&this.isItem(item)){return this.getValue(item,this._labelAttr);}return undefined;},getLabelAttributes:function(item){if(this._labelAttr){return [this._labelAttr];}return null;},_fetchItems:function(_4e4,_4e5,_4e6){var self=this;var _4e7=function(_4e8,_4e9){var _4ea=[];if(_4e8.query){var _4eb=json.fromJson(json.toJson(_4e8.query));if(typeof _4eb=="object"){var _4ec=0;var p;for(p in _4eb){_4ec++;}if(_4ec>1&&_4eb.complexQuery){var cq=_4eb.complexQuery;var _4ed=false;for(p in _4eb){if(p!=="complexQuery"){if(!_4ed){cq="( "+cq+" )";_4ed=true;}var v=_4e8.query[p];if(lang.isString(v)){v="'"+v+"'";}cq+=" AND "+p+":"+v;delete _4eb[p];}}_4eb.complexQuery=cq;}}var _4ee=_4e8.queryOptions?_4e8.queryOptions.ignoreCase:false;if(typeof _4eb!="string"){_4eb=json.toJson(_4eb);_4eb=_4eb.replace(/\\\\/g,"\\");}_4eb=_4eb.replace(/\\"/g,"\"");var _4ef=lang.trim(_4eb.replace(/{|}/g,""));var pos2,i;if(_4ef.match(/"? *complexQuery *"?:/)){_4ef=lang.trim(_4ef.replace(/"?\s*complexQuery\s*"?:/,""));var _4f0=["'","\""];var pos1,_4f1;var flag=false;for(i=0;i<_4f0.length;i++){pos1=_4ef.indexOf(_4f0[i]);pos2=_4ef.indexOf(_4f0[i],1);_4f1=_4ef.indexOf(":",1);if(pos1===0&&pos2!=-1&&_4f1<pos2){flag=true;break;}}if(flag){_4ef=_4ef.replace(/^\"|^\'|\"$|\'$/g,"");}}var _4f2=_4ef;var _4f3=/^,|^NOT |^AND |^OR |^\(|^\)|^!|^&&|^\|\|/i;var _4f4="";var op="";var val="";var pos=-1;var err=false;var key="";var _4f5="";var tok="";pos2=-1;for(i=0;i<_4e9.length;++i){var _4f6=true;var _4f7=_4e9[i];if(_4f7===null){_4f6=false;}else{_4ef=_4f2;_4f4="";while(_4ef.length>0&&!err){op=_4ef.match(_4f3);while(op&&!err){_4ef=lang.trim(_4ef.replace(op[0],""));op=lang.trim(op[0]).toUpperCase();op=op=="NOT"?"!":op=="AND"||op==","?"&&":op=="OR"?"||":op;op=" "+op+" ";_4f4+=op;op=_4ef.match(_4f3);}if(_4ef.length>0){pos=_4ef.indexOf(":");if(pos==-1){err=true;break;}else{key=lang.trim(_4ef.substring(0,pos).replace(/\"|\'/g,""));_4ef=lang.trim(_4ef.substring(pos+1));tok=_4ef.match(/^\'|^\"/);if(tok){tok=tok[0];pos=_4ef.indexOf(tok);pos2=_4ef.indexOf(tok,pos+1);if(pos2==-1){err=true;break;}_4f5=_4ef.substring(pos+1,pos2);if(pos2==_4ef.length-1){_4ef="";}else{_4ef=lang.trim(_4ef.substring(pos2+1));}_4f4+=self._containsValue(_4f7,key,_4f5,_4cb.patternToRegExp(_4f5,_4ee));}else{tok=_4ef.match(/\s|\)|,/);if(tok){var pos3=new Array(tok.length);for(var j=0;j<tok.length;j++){pos3[j]=_4ef.indexOf(tok[j]);}pos=pos3[0];if(pos3.length>1){for(var j=1;j<pos3.length;j++){pos=Math.min(pos,pos3[j]);}}_4f5=lang.trim(_4ef.substring(0,pos));_4ef=lang.trim(_4ef.substring(pos));}else{_4f5=lang.trim(_4ef);_4ef="";}_4f4+=self._containsValue(_4f7,key,_4f5,_4cb.patternToRegExp(_4f5,_4ee));}}}}_4f6=eval(_4f4);}if(_4f6){_4ea.push(_4f7);}}if(err){_4ea=[];}_4e5(_4ea,_4e8);}else{for(var i=0;i<_4e9.length;++i){var item=_4e9[i];if(item!==null){_4ea.push(item);}}_4e5(_4ea,_4e8);}};if(this._loadFinished){_4e7(_4e4,this._getItemsArray(_4e4.queryOptions));}else{if(this._jsonFileUrl!==this._ccUrl){_4c9.deprecated("dojox.data.AndOrReadStore: ","To change the url, set the url property of the store,"+" not _jsonFileUrl.  _jsonFileUrl support will be removed in 2.0");this._ccUrl=this._jsonFileUrl;this.url=this._jsonFileUrl;}else{if(this.url!==this._ccUrl){this._jsonFileUrl=this.url;this._ccUrl=this.url;}}if(this.data!=null&&this._jsonData==null){this._jsonData=this.data;this.data=null;}if(this._jsonFileUrl){if(this._loadInProgress){this._queuedFetches.push({args:_4e4,filter:_4e7});}else{this._loadInProgress=true;var _4f8={url:self._jsonFileUrl,handleAs:"json-comment-optional",preventCache:this.urlPreventCache};var _4f9=xhr.get(_4f8);_4f9.addCallback(function(data){try{self._getItemsFromLoadedData(data);self._loadFinished=true;self._loadInProgress=false;_4e7(_4e4,self._getItemsArray(_4e4.queryOptions));self._handleQueuedFetches();}catch(e){self._loadFinished=true;self._loadInProgress=false;_4e6(e,_4e4);}});_4f9.addErrback(function(_4fa){self._loadInProgress=false;_4e6(_4fa,_4e4);});var _4fb=null;if(_4e4.abort){_4fb=_4e4.abort;}_4e4.abort=function(){var df=_4f9;if(df&&df.fired===-1){df.cancel();df=null;}if(_4fb){_4fb.call(_4e4);}};}}else{if(this._jsonData){try{this._loadFinished=true;this._getItemsFromLoadedData(this._jsonData);this._jsonData=null;_4e7(_4e4,this._getItemsArray(_4e4.queryOptions));}catch(e){_4e6(e,_4e4);}}else{_4e6(new Error("dojox.data.AndOrReadStore: No JSON source data was provided as either URL or a nested Javascript object."),_4e4);}}}},_handleQueuedFetches:function(){if(this._queuedFetches.length>0){for(var i=0;i<this._queuedFetches.length;i++){var _4fc=this._queuedFetches[i];var _4fd=_4fc.args;var _4fe=_4fc.filter;if(_4fe){_4fe(_4fd,this._getItemsArray(_4fd.queryOptions));}else{this.fetchItemByIdentity(_4fd);}}this._queuedFetches=[];}},_getItemsArray:function(_4ff){if(_4ff&&_4ff.deep){return this._arrayOfAllItems;}return this._arrayOfTopLevelItems;},close:function(_500){if(this.clearOnClose&&this._loadFinished&&!this._loadInProgress){if(((this._jsonFileUrl==""||this._jsonFileUrl==null)&&(this.url==""||this.url==null))&&this.data==null){}this._arrayOfAllItems=[];this._arrayOfTopLevelItems=[];this._loadFinished=false;this._itemsByIdentity=null;this._loadInProgress=false;this._queuedFetches=[];}},_getItemsFromLoadedData:function(_501){var self=this;function _502(_503){var _504=((_503!==null)&&(typeof _503==="object")&&(!lang.isArray(_503))&&(!lang.isFunction(_503))&&(_503.constructor==Object)&&(typeof _503._reference==="undefined")&&(typeof _503._type==="undefined")&&(typeof _503._value==="undefined")&&self.hierarchical);return _504;};function _505(_506){self._arrayOfAllItems.push(_506);for(var _507 in _506){var _508=_506[_507];if(_508){if(lang.isArray(_508)){var _509=_508;for(var k=0;k<_509.length;++k){var _50a=_509[k];if(_502(_50a)){_505(_50a);}}}else{if(_502(_508)){_505(_508);}}}}};this._labelAttr=_501.label;var i;var item;this._arrayOfAllItems=[];this._arrayOfTopLevelItems=_501.items;for(i=0;i<this._arrayOfTopLevelItems.length;++i){item=this._arrayOfTopLevelItems[i];_505(item);item[this._rootItemPropName]=true;}var _50b={};var key;for(i=0;i<this._arrayOfAllItems.length;++i){item=this._arrayOfAllItems[i];for(key in item){if(key!==this._rootItemPropName){var _50c=item[key];if(_50c!==null){if(!lang.isArray(_50c)){item[key]=[_50c];}}else{item[key]=[null];}}_50b[key]=key;}}while(_50b[this._storeRefPropName]){this._storeRefPropName+="_";}while(_50b[this._itemNumPropName]){this._itemNumPropName+="_";}while(_50b[this._reverseRefMap]){this._reverseRefMap+="_";}var _50d;var _50e=_501.identifier;if(_50e){this._itemsByIdentity={};this._features["dojo.data.api.Identity"]=_50e;for(i=0;i<this._arrayOfAllItems.length;++i){item=this._arrayOfAllItems[i];_50d=item[_50e];var _50f=_50d[0];if(!this._itemsByIdentity[_50f]){this._itemsByIdentity[_50f]=item;}else{if(this._jsonFileUrl){throw new Error("dojox.data.AndOrReadStore:  The json data as specified by: ["+this._jsonFileUrl+"] is malformed.  Items within the list have identifier: ["+_50e+"].  Value collided: ["+_50f+"]");}else{if(this._jsonData){throw new Error("dojox.data.AndOrReadStore:  The json data provided by the creation arguments is malformed.  Items within the list have identifier: ["+_50e+"].  Value collided: ["+_50f+"]");}}}}}else{this._features["dojo.data.api.Identity"]=Number;}for(i=0;i<this._arrayOfAllItems.length;++i){item=this._arrayOfAllItems[i];item[this._storeRefPropName]=this;item[this._itemNumPropName]=i;}for(i=0;i<this._arrayOfAllItems.length;++i){item=this._arrayOfAllItems[i];for(key in item){_50d=item[key];for(var j=0;j<_50d.length;++j){_50c=_50d[j];if(_50c!==null&&typeof _50c=="object"){if(("_type" in _50c)&&("_value" in _50c)){var type=_50c._type;var _510=this._datatypeMap[type];if(!_510){throw new Error("dojox.data.AndOrReadStore: in the typeMap constructor arg, no object class was specified for the datatype '"+type+"'");}else{if(lang.isFunction(_510)){_50d[j]=new _510(_50c._value);}else{if(lang.isFunction(_510.deserialize)){_50d[j]=_510.deserialize(_50c._value);}else{throw new Error("dojox.data.AndOrReadStore: Value provided in typeMap was neither a constructor, nor a an object with a deserialize function");}}}}if(_50c._reference){var _511=_50c._reference;if(!lang.isObject(_511)){_50d[j]=this._getItemByIdentity(_511);}else{for(var k=0;k<this._arrayOfAllItems.length;++k){var _512=this._arrayOfAllItems[k];var _513=true;for(var _514 in _511){if(_512[_514]!=_511[_514]){_513=false;}}if(_513){_50d[j]=_512;}}}if(this.referenceIntegrity){var _515=_50d[j];if(this.isItem(_515)){this._addReferenceToMap(_515,item,key);}}}else{if(this.isItem(_50c)){if(this.referenceIntegrity){this._addReferenceToMap(_50c,item,key);}}}}}}}},_addReferenceToMap:function(_516,_517,_518){},getIdentity:function(item){var _519=this._features["dojo.data.api.Identity"];if(_519===Number){return item[this._itemNumPropName];}else{var _51a=item[_519];if(_51a){return _51a[0];}}return null;},fetchItemByIdentity:function(_51b){if(!this._loadFinished){var self=this;if(this._jsonFileUrl!==this._ccUrl){_4c9.deprecated("dojox.data.AndOrReadStore: ","To change the url, set the url property of the store,"+" not _jsonFileUrl.  _jsonFileUrl support will be removed in 2.0");this._ccUrl=this._jsonFileUrl;this.url=this._jsonFileUrl;}else{if(this.url!==this._ccUrl){this._jsonFileUrl=this.url;this._ccUrl=this.url;}}if(this.data!=null&&this._jsonData==null){this._jsonData=this.data;this.data=null;}if(this._jsonFileUrl){if(this._loadInProgress){this._queuedFetches.push({args:_51b});}else{this._loadInProgress=true;var _51c={url:self._jsonFileUrl,handleAs:"json-comment-optional",preventCache:this.urlPreventCache};var _51d=xhr.get(_51c);_51d.addCallback(function(data){var _51e=_51b.scope?_51b.scope:_4cf.global;try{self._getItemsFromLoadedData(data);self._loadFinished=true;self._loadInProgress=false;var item=self._getItemByIdentity(_51b.identity);if(_51b.onItem){_51b.onItem.call(_51e,item);}self._handleQueuedFetches();}catch(error){self._loadInProgress=false;if(_51b.onError){_51b.onError.call(_51e,error);}}});_51d.addErrback(function(_51f){self._loadInProgress=false;if(_51b.onError){var _520=_51b.scope?_51b.scope:_4cf.global;_51b.onError.call(_520,_51f);}});}}else{if(this._jsonData){self._getItemsFromLoadedData(self._jsonData);self._jsonData=null;self._loadFinished=true;var item=self._getItemByIdentity(_51b.identity);if(_51b.onItem){var _521=_51b.scope?_51b.scope:_4cf.global;_51b.onItem.call(_521,item);}}}}else{var item=this._getItemByIdentity(_51b.identity);if(_51b.onItem){var _521=_51b.scope?_51b.scope:_4cf.global;_51b.onItem.call(_521,item);}}},_getItemByIdentity:function(_522){var item=null;if(this._itemsByIdentity){item=this._itemsByIdentity[_522];}else{item=this._arrayOfAllItems[_522];}if(item===undefined){item=null;}return item;},getIdentityAttributes:function(item){var _523=this._features["dojo.data.api.Identity"];if(_523===Number){return null;}else{return [_523];}},_forceLoad:function(){var self=this;if(this._jsonFileUrl!==this._ccUrl){_4c9.deprecated("dojox.data.AndOrReadStore: ","To change the url, set the url property of the store,"+" not _jsonFileUrl.  _jsonFileUrl support will be removed in 2.0");this._ccUrl=this._jsonFileUrl;this.url=this._jsonFileUrl;}else{if(this.url!==this._ccUrl){this._jsonFileUrl=this.url;this._ccUrl=this.url;}}if(this.data!=null&&this._jsonData==null){this._jsonData=this.data;this.data=null;}if(this._jsonFileUrl){var _524={url:self._jsonFileUrl,handleAs:"json-comment-optional",preventCache:this.urlPreventCache,sync:true};var _525=xhr.get(_524);_525.addCallback(function(data){try{if(self._loadInProgress!==true&&!self._loadFinished){self._getItemsFromLoadedData(data);self._loadFinished=true;}else{if(self._loadInProgress){throw new Error("dojox.data.AndOrReadStore:  Unable to perform a synchronous load, an async load is in progress.");}}}catch(e){throw e;}});_525.addErrback(function(_526){throw _526;});}else{if(this._jsonData){self._getItemsFromLoadedData(self._jsonData);self._jsonData=null;self._loadFinished=true;}}}});lang.extend(_4d0,_4cc);return _4d0;});},"dojox/data/OpenSearchStore":function(){define("dojox/data/OpenSearchStore",["dojo/_base/kernel","dojo/_base/lang","dojo/_base/declare","dojo/_base/xhr","dojo/_base/array","dojo/_base/window","dojo/query","dojo/data/util/simpleFetch","dojox/xml/parser"],function(_527,lang,_528,dxhr,_529,_52a,_52b,_52c,_52d){_527.experimental("dojox.data.OpenSearchStore");var _52e=_528("dojox.data.OpenSearchStore",null,{constructor:function(args){if(args){this.label=args.label;this.url=args.url;this.itemPath=args.itemPath;if("urlPreventCache" in args){this.urlPreventCache=args.urlPreventCache?true:false;}}var def=dxhr.get({url:this.url,handleAs:"xml",sync:true,preventCache:this.urlPreventCache});def.addCallback(this,"_processOsdd");def.addErrback(function(){throw new Error("Unable to load OpenSearch Description document from ".args.url);});},url:"",itemPath:"",_storeRef:"_S",urlElement:null,iframeElement:null,urlPreventCache:true,ATOM_CONTENT_TYPE:3,ATOM_CONTENT_TYPE_STRING:"atom",RSS_CONTENT_TYPE:2,RSS_CONTENT_TYPE_STRING:"rss",XML_CONTENT_TYPE:1,XML_CONTENT_TYPE_STRING:"xml",_assertIsItem:function(item){if(!this.isItem(item)){throw new Error("dojox.data.OpenSearchStore: a function was passed an item argument that was not an item");}},_assertIsAttribute:function(_52f){if(typeof _52f!=="string"){throw new Error("dojox.data.OpenSearchStore: a function was passed an attribute argument that was not an attribute name string");}},getFeatures:function(){return {"dojo.data.api.Read":true};},getValue:function(item,_530,_531){var _532=this.getValues(item,_530);if(_532){return _532[0];}return _531;},getAttributes:function(item){return ["content"];},hasAttribute:function(item,_533){if(this.getValue(item,_533)){return true;}return false;},isItemLoaded:function(item){return this.isItem(item);},loadItem:function(_534){},getLabel:function(item){return undefined;},getLabelAttributes:function(item){return null;},containsValue:function(item,_535,_536){var _537=this.getValues(item,_535);for(var i=0;i<_537.length;i++){if(_537[i]===_536){return true;}}return false;},getValues:function(item,_538){this._assertIsItem(item);this._assertIsAttribute(_538);var _539=this.processItem(item,_538);if(_539){return [_539];}return undefined;},isItem:function(item){if(item&&item[this._storeRef]===this){return true;}return false;},close:function(_53a){},process:function(data){return this["_processOSD"+this.contentType](data);},processItem:function(item,_53b){return this["_processItem"+this.contentType](item.node,_53b);},_createSearchUrl:function(_53c){var _53d=this.urlElement.attributes.getNamedItem("template").nodeValue;var _53e=this.urlElement.attributes;var _53f=_53d.indexOf("{searchTerms}");_53d=_53d.substring(0,_53f)+_53c.query.searchTerms+_53d.substring(_53f+13);_529.forEach([{"name":"count","test":_53c.count,"def":"10"},{"name":"startIndex","test":_53c.start,"def":this.urlElement.attributes.getNamedItem("indexOffset")?this.urlElement.attributes.getNamedItem("indexOffset").nodeValue:0},{"name":"startPage","test":_53c.startPage,"def":this.urlElement.attributes.getNamedItem("pageOffset")?this.urlElement.attributes.getNamedItem("pageOffset").nodeValue:0},{"name":"language","test":_53c.language,"def":"*"},{"name":"inputEncoding","test":_53c.inputEncoding,"def":"UTF-8"},{"name":"outputEncoding","test":_53c.outputEncoding,"def":"UTF-8"}],function(item){_53d=_53d.replace("{"+item.name+"}",item.test||item.def);_53d=_53d.replace("{"+item.name+"?}",item.test||item.def);});return _53d;},_fetchItems:function(_540,_541,_542){if(!_540.query){_540.query={};}var self=this;var url=this._createSearchUrl(_540);var _543={url:url,preventCache:this.urlPreventCache};var xhr=dxhr.get(_543);xhr.addErrback(function(_544){_542(_544,_540);});xhr.addCallback(function(data){var _545=[];if(data){_545=self.process(data);for(var i=0;i<_545.length;i++){_545[i]={node:_545[i]};_545[i][self._storeRef]=self;}}_541(_545,_540);});},_processOSDxml:function(data){var div=_52a.doc.createElement("div");div.innerHTML=data;return _52b(this.itemPath,div);},_processItemxml:function(item,_546){if(_546==="content"){return item.innerHTML;}return undefined;},_processOSDatom:function(data){return this._processOSDfeed(data,"entry");},_processItematom:function(item,_547){return this._processItemfeed(item,_547,"content");},_processOSDrss:function(data){return this._processOSDfeed(data,"item");},_processItemrss:function(item,_548){return this._processItemfeed(item,_548,"description");},_processOSDfeed:function(data,type){data=dojox.xml.parser.parse(data);var _549=[];var _54a=data.getElementsByTagName(type);for(var i=0;i<_54a.length;i++){_549.push(_54a.item(i));}return _549;},_processItemfeed:function(item,_54b,type){if(_54b==="content"){var _54c=item.getElementsByTagName(type).item(0);return this._getNodeXml(_54c,true);}return undefined;},_getNodeXml:function(node,_54d){var i;switch(node.nodeType){case 1:var xml=[];if(!_54d){xml.push("<"+node.tagName);var attr;for(i=0;i<node.attributes.length;i++){attr=node.attributes.item(i);xml.push(" "+attr.nodeName+"=\""+attr.nodeValue+"\"");}xml.push(">");}for(i=0;i<node.childNodes.length;i++){xml.push(this._getNodeXml(node.childNodes.item(i)));}if(!_54d){xml.push("</"+node.tagName+">\n");}return xml.join("");case 3:case 4:return node.nodeValue;}return undefined;},_processOsdd:function(doc){var _54e=doc.getElementsByTagName("Url");var _54f=[];var _550;var i;for(i=0;i<_54e.length;i++){_550=_54e[i].attributes.getNamedItem("type").nodeValue;switch(_550){case "application/rss+xml":_54f[i]=this.RSS_CONTENT_TYPE;break;case "application/atom+xml":_54f[i]=this.ATOM_CONTENT_TYPE;break;default:_54f[i]=this.XML_CONTENT_TYPE;break;}}var _551=0;var _552=_54f[0];for(i=1;i<_54e.length;i++){if(_54f[i]>_552){_551=i;_552=_54f[i];}}var _553=_54e[_551].nodeName.toLowerCase();if(_553=="url"){var _554=_54e[_551].attributes;this.urlElement=_54e[_551];switch(_54f[_551]){case this.ATOM_CONTENT_TYPE:this.contentType=this.ATOM_CONTENT_TYPE_STRING;break;case this.RSS_CONTENT_TYPE:this.contentType=this.RSS_CONTENT_TYPE_STRING;break;case this.XML_CONTENT_TYPE:this.contentType=this.XML_CONTENT_TYPE_STRING;break;}}}});return lang.extend(_52e,_52c);});},"dojox/data/SnapLogicStore":function(){define("dojox/data/SnapLogicStore",["dojo","dojox","dojo/io/script","dojo/data/util/sorter"],function(dojo,_555){dojo.declare("dojox.data.SnapLogicStore",null,{Parts:{DATA:"data",COUNT:"count"},url:"",constructor:function(args){if(args.url){this.url=args.url;}this._parameters=args.parameters;},_assertIsItem:function(item){if(!this.isItem(item)){throw new Error("dojox.data.SnapLogicStore: a function was passed an item argument that was not an item");}},_assertIsAttribute:function(_556){if(typeof _556!=="string"){throw new Error("dojox.data.SnapLogicStore: a function was passed an attribute argument that was not an attribute name string");}},getFeatures:function(){return {"dojo.data.api.Read":true};},getValue:function(item,_557,_558){this._assertIsItem(item);this._assertIsAttribute(_557);var i=dojo.indexOf(item.attributes,_557);if(i!==-1){return item.values[i];}return _558;},getAttributes:function(item){this._assertIsItem(item);return item.attributes;},hasAttribute:function(item,_559){this._assertIsItem(item);this._assertIsAttribute(_559);for(var i=0;i<item.attributes.length;++i){if(_559==item.attributes[i]){return true;}}return false;},isItemLoaded:function(item){return this.isItem(item);},loadItem:function(_55a){},getLabel:function(item){return undefined;},getLabelAttributes:function(item){return null;},containsValue:function(item,_55b,_55c){return this.getValue(item,_55b)===_55c;},getValues:function(item,_55d){this._assertIsItem(item);this._assertIsAttribute(_55d);var i=dojo.indexOf(item.attributes,_55d);if(i!==-1){return [item.values[i]];}return [];},isItem:function(item){if(item&&item._store===this){return true;}return false;},close:function(_55e){},_fetchHandler:function(_55f){var _560=_55f.scope||dojo.global;if(_55f.onBegin){_55f.onBegin.call(_560,_55f._countResponse[0],_55f);}if(_55f.onItem||_55f.onComplete){var _561=_55f._dataResponse;if(!_561.length){_55f.onError.call(_560,new Error("dojox.data.SnapLogicStore: invalid response of length 0"),_55f);return;}else{if(_55f.query!="record count"){var _562=_561.shift();var _563=[];for(var i=0;i<_561.length;++i){if(_55f._aborted){break;}_563.push({attributes:_562,values:_561[i],_store:this});}if(_55f.sort&&!_55f._aborted){_563.sort(dojo.data.util.sorter.createSortFunction(_55f.sort,self));}}else{_563=[({attributes:["count"],values:_561,_store:this})];}}if(_55f.onItem){for(var i=0;i<_563.length;++i){if(_55f._aborted){break;}_55f.onItem.call(_560,_563[i],_55f);}_563=null;}if(_55f.onComplete&&!_55f._aborted){_55f.onComplete.call(_560,_563,_55f);}}},_partHandler:function(_564,part,_565){if(_565 instanceof Error){if(part==this.Parts.DATA){_564._dataHandle=null;}else{_564._countHandle=null;}_564._aborted=true;if(_564.onError){_564.onError.call(_564.scope,_565,_564);}}else{if(_564._aborted){return;}if(part==this.Parts.DATA){_564._dataResponse=_565;}else{_564._countResponse=_565;}if((!_564._dataHandle||_564._dataResponse!==null)&&(!_564._countHandle||_564._countResponse!==null)){this._fetchHandler(_564);}}},fetch:function(_566){_566._countResponse=null;_566._dataResponse=null;_566._aborted=false;_566.abort=function(){if(!_566._aborted){_566._aborted=true;if(_566._dataHandle&&_566._dataHandle.cancel){_566._dataHandle.cancel();}if(_566._countHandle&&_566._countHandle.cancel){_566._countHandle.cancel();}}};if(_566.onItem||_566.onComplete){var _567=this._parameters||{};if(_566.start){if(_566.start<0){throw new Error("dojox.data.SnapLogicStore: request start value must be 0 or greater");}_567["sn.start"]=_566.start+1;}if(_566.count){if(_566.count<0){throw new Error("dojox.data.SnapLogicStore: request count value 0 or greater");}_567["sn.limit"]=_566.count;}_567["sn.content_type"]="application/javascript";var _568=this;var _569=function(_56a,_56b){if(_56a instanceof Error){_568._fetchHandler(_56a,_566);}};var _56c={url:this.url,content:_567,timeout:60000,callbackParamName:"sn.stream_header",handle:dojo.hitch(this,"_partHandler",_566,this.Parts.DATA)};_566._dataHandle=dojo.io.script.get(_56c);}if(_566.onBegin){var _567={};_567["sn.count"]="records";_567["sn.content_type"]="application/javascript";var _56c={url:this.url,content:_567,timeout:60000,callbackParamName:"sn.stream_header",handle:dojo.hitch(this,"_partHandler",_566,this.Parts.COUNT)};_566._countHandle=dojo.io.script.get(_56c);}return _566;}});return _555.data.SnapLogicStore;});},"dojox/data/S3Store":function(){define("dojox/data/S3Store",["dojo/_base/declare","dojox/data/JsonRestStore","dojox/rpc/ProxiedPath"],function(_56d,_56e,_56f){return _56d("dojox.data.S3Store",_56e,{_processResults:function(_570){var _571=_570.getElementsByTagName("Key");var _572=[];var self=this;for(var i=0;i<_571.length;i++){var _573=_571[i];var val={_loadObject:(function(key,val){return function(_574){delete this._loadObject;self.service(key).addCallback(_574);};})(_573.firstChild.nodeValue,val)};_572.push(val);}return {totalCount:_572.length,items:_572};}});});},"dojox/data/OpmlStore":function(){define("dojox/data/OpmlStore",["dojo/_base/declare","dojo/_base/lang","dojo/_base/xhr","dojo/data/util/simpleFetch","dojo/data/util/filter","dojo/_base/window"],function(_575,lang,xhr,_576,_577,_578){var _579=_575("dojox.data.OpmlStore",null,{constructor:function(_57a){this._xmlData=null;this._arrayOfTopLevelItems=[];this._arrayOfAllItems=[];this._metadataNodes=null;this._loadFinished=false;this.url=_57a.url;this._opmlData=_57a.data;if(_57a.label){this.label=_57a.label;}this._loadInProgress=false;this._queuedFetches=[];this._identityMap={};this._identCount=0;this._idProp="_I";if(_57a&&"urlPreventCache" in _57a){this.urlPreventCache=_57a.urlPreventCache?true:false;}},label:"text",url:"",urlPreventCache:false,_assertIsItem:function(item){if(!this.isItem(item)){throw new Error("dojo.data.OpmlStore: a function was passed an item argument that was not an item");}},_assertIsAttribute:function(_57b){if(!lang.isString(_57b)){throw new Error("dojox.data.OpmlStore: a function was passed an attribute argument that was not an attribute object nor an attribute name string");}},_removeChildNodesThatAreNotElementNodes:function(node,_57c){var _57d=node.childNodes;if(_57d.length===0){return;}var _57e=[];var i,_57f;for(i=0;i<_57d.length;++i){_57f=_57d[i];if(_57f.nodeType!=1){_57e.push(_57f);}}for(i=0;i<_57e.length;++i){_57f=_57e[i];node.removeChild(_57f);}if(_57c){for(i=0;i<_57d.length;++i){_57f=_57d[i];this._removeChildNodesThatAreNotElementNodes(_57f,_57c);}}},_processRawXmlTree:function(_580){this._loadFinished=true;this._xmlData=_580;var _581=_580.getElementsByTagName("head");var _582=_581[0];if(_582){this._removeChildNodesThatAreNotElementNodes(_582);this._metadataNodes=_582.childNodes;}var _583=_580.getElementsByTagName("body");var _584=_583[0];if(_584){this._removeChildNodesThatAreNotElementNodes(_584,true);var _585=_583[0].childNodes;for(var i=0;i<_585.length;++i){var node=_585[i];if(node.tagName=="outline"){this._identityMap[this._identCount]=node;this._identCount++;this._arrayOfTopLevelItems.push(node);this._arrayOfAllItems.push(node);this._checkChildNodes(node);}}}},_checkChildNodes:function(node){if(node.firstChild){for(var i=0;i<node.childNodes.length;i++){var _586=node.childNodes[i];if(_586.tagName=="outline"){this._identityMap[this._identCount]=_586;this._identCount++;this._arrayOfAllItems.push(_586);this._checkChildNodes(_586);}}}},_getItemsArray:function(_587){if(_587&&_587.deep){return this._arrayOfAllItems;}return this._arrayOfTopLevelItems;},getValue:function(item,_588,_589){this._assertIsItem(item);this._assertIsAttribute(_588);if(_588=="children"){return (item.firstChild||_589);}else{var _58a=item.getAttribute(_588);return (_58a!==undefined)?_58a:_589;}},getValues:function(item,_58b){this._assertIsItem(item);this._assertIsAttribute(_58b);var _58c=[];if(_58b=="children"){for(var i=0;i<item.childNodes.length;++i){_58c.push(item.childNodes[i]);}}else{if(item.getAttribute(_58b)!==null){_58c.push(item.getAttribute(_58b));}}return _58c;},getAttributes:function(item){this._assertIsItem(item);var _58d=[];var _58e=item;var _58f=_58e.attributes;for(var i=0;i<_58f.length;++i){var _590=_58f.item(i);_58d.push(_590.nodeName);}if(_58e.childNodes.length>0){_58d.push("children");}return _58d;},hasAttribute:function(item,_591){return (this.getValues(item,_591).length>0);},containsValue:function(item,_592,_593){var _594=undefined;if(typeof _593==="string"){_594=_577.patternToRegExp(_593,false);}return this._containsValue(item,_592,_593,_594);},_containsValue:function(item,_595,_596,_597){var _598=this.getValues(item,_595);for(var i=0;i<_598.length;++i){var _599=_598[i];if(typeof _599==="string"&&_597){return (_599.match(_597)!==null);}else{if(_596===_599){return true;}}}return false;},isItem:function(_59a){return (_59a&&_59a.nodeType==1&&_59a.tagName=="outline"&&_59a.ownerDocument===this._xmlData);},isItemLoaded:function(_59b){return this.isItem(_59b);},loadItem:function(item){},getLabel:function(item){if(this.isItem(item)){return this.getValue(item,this.label);}return undefined;},getLabelAttributes:function(item){return [this.label];},_fetchItems:function(_59c,_59d,_59e){var self=this;var _59f=function(_5a0,_5a1){var _5a2=null;if(_5a0.query){_5a2=[];var _5a3=_5a0.queryOptions?_5a0.queryOptions.ignoreCase:false;var _5a4={};for(var key in _5a0.query){var _5a5=_5a0.query[key];if(typeof _5a5==="string"){_5a4[key]=_577.patternToRegExp(_5a5,_5a3);}}for(var i=0;i<_5a1.length;++i){var _5a6=true;var _5a7=_5a1[i];for(var key in _5a0.query){var _5a5=_5a0.query[key];if(!self._containsValue(_5a7,key,_5a5,_5a4[key])){_5a6=false;}}if(_5a6){_5a2.push(_5a7);}}}else{if(_5a1.length>0){_5a2=_5a1.slice(0,_5a1.length);}}_59d(_5a2,_5a0);};if(this._loadFinished){_59f(_59c,this._getItemsArray(_59c.queryOptions));}else{if(this._loadInProgress){this._queuedFetches.push({args:_59c,filter:_59f});}else{if(this.url!==""){this._loadInProgress=true;var _5a8={url:self.url,handleAs:"xml",preventCache:self.urlPreventCache};var _5a9=xhr.get(_5a8);_5a9.addCallback(function(data){self._processRawXmlTree(data);_59f(_59c,self._getItemsArray(_59c.queryOptions));self._handleQueuedFetches();});_5a9.addErrback(function(_5aa){throw _5aa;});}else{if(this._opmlData){this._processRawXmlTree(this._opmlData);this._opmlData=null;_59f(_59c,this._getItemsArray(_59c.queryOptions));}else{throw new Error("dojox.data.OpmlStore: No OPML source data was provided as either URL or XML data input.");}}}}},getFeatures:function(){var _5ab={"dojo.data.api.Read":true,"dojo.data.api.Identity":true};return _5ab;},getIdentity:function(item){if(this.isItem(item)){for(var i in this._identityMap){if(this._identityMap[i]===item){return i;}}}return null;},fetchItemByIdentity:function(_5ac){if(!this._loadFinished){var self=this;if(this.url!==""){if(this._loadInProgress){this._queuedFetches.push({args:_5ac});}else{this._loadInProgress=true;var _5ad={url:self.url,handleAs:"xml"};var _5ae=xhr.get(_5ad);_5ae.addCallback(function(data){var _5af=_5ac.scope?_5ac.scope:_578.global;try{self._processRawXmlTree(data);var item=self._identityMap[_5ac.identity];if(!self.isItem(item)){item=null;}if(_5ac.onItem){_5ac.onItem.call(_5af,item);}self._handleQueuedFetches();}catch(error){if(_5ac.onError){_5ac.onError.call(_5af,error);}}});_5ae.addErrback(function(_5b0){this._loadInProgress=false;if(_5ac.onError){var _5b1=_5ac.scope?_5ac.scope:_578.global;_5ac.onError.call(_5b1,_5b0);}});}}else{if(this._opmlData){this._processRawXmlTree(this._opmlData);this._opmlData=null;var item=this._identityMap[_5ac.identity];if(!self.isItem(item)){item=null;}if(_5ac.onItem){var _5b2=_5ac.scope?_5ac.scope:_578.global;_5ac.onItem.call(_5b2,item);}}}}else{var item=this._identityMap[_5ac.identity];if(!this.isItem(item)){item=null;}if(_5ac.onItem){var _5b2=_5ac.scope?_5ac.scope:_578.global;_5ac.onItem.call(_5b2,item);}}},getIdentityAttributes:function(item){return null;},_handleQueuedFetches:function(){if(this._queuedFetches.length>0){for(var i=0;i<this._queuedFetches.length;i++){var _5b3=this._queuedFetches[i];var _5b4=_5b3.args;var _5b5=_5b3.filter;if(_5b5){_5b5(_5b4,this._getItemsArray(_5b4.queryOptions));}else{this.fetchItemByIdentity(_5b4);}}this._queuedFetches=[];}},close:function(_5b6){}});lang.extend(_579,_576);return _579;});},"dojox/json/ref":function(){define("dojox/json/ref",["dojo/_base/kernel","dojox","dojo/date/stamp","dojo/_base/array","dojo/_base/json"],function(dojo,_5b7){dojo.getObject("json",true,_5b7);return _5b7.json.ref={resolveJson:function(root,args){args=args||{};var _5b8=args.idAttribute||"id";var _5b9=this.refAttribute;var _5ba=args.idAsRef;var _5bb=args.idPrefix||"";var _5bc=args.assignAbsoluteIds;var _5bd=args.index||{};var _5be=args.timeStamps;var ref,_5bf=[];var _5c0=/^(.*\/)?(\w+:\/\/)|[^\/\.]+\/\.\.\/|^.*\/(\/)/;var _5c1=this._addProp;var F=function(){};function walk(it,stop,_5c2,_5c3,_5c4,_5c5){var i,_5c6,val,id=_5b8 in it?it[_5b8]:_5c2;if(_5b8 in it||((id!==undefined)&&_5c3)){id=(_5bb+id).replace(_5c0,"$2$3");}var _5c7=_5c5||it;if(id!==undefined){if(_5bc){it.__id=id;}if(args.schemas&&(!(it instanceof Array))&&(val=id.match(/^(.+\/)[^\.\[]*$/))){_5c4=args.schemas[val[1]];}if(_5bd[id]&&((it instanceof Array)==(_5bd[id] instanceof Array))){_5c7=_5bd[id];delete _5c7.$ref;delete _5c7._loadObject;_5c6=true;}else{var _5c8=_5c4&&_5c4.prototype;if(_5c8){F.prototype=_5c8;_5c7=new F();}}_5bd[id]=_5c7;if(_5be){_5be[id]=args.time;}}while(_5c4){var _5c9=_5c4.properties;if(_5c9){for(i in it){var _5ca=_5c9[i];if(_5ca&&_5ca.format=="date-time"&&typeof it[i]=="string"){it[i]=dojo.date.stamp.fromISOString(it[i]);}}}_5c4=_5c4["extends"];}var _5cb=it.length;for(i in it){if(i==_5cb){break;}if(it.hasOwnProperty(i)){val=it[i];if((typeof val=="object")&&val&&!(val instanceof Date)&&i!="__parent"){ref=val[_5b9]||(_5ba&&val[_5b8]);if(!ref||!val.__parent){if(it!=_5bf){val.__parent=_5c7;}}if(ref){delete it[i];var path=ref.toString().replace(/(#)([^\.\[])/,"$1.$2").match(/(^([^\[]*\/)?[^#\.\[]*)#?([\.\[].*)?/);if(_5bd[(_5bb+ref).replace(_5c0,"$2$3")]){ref=_5bd[(_5bb+ref).replace(_5c0,"$2$3")];}else{if((ref=(path[1]=="$"||path[1]=="this"||path[1]=="")?root:_5bd[(_5bb+path[1]).replace(_5c0,"$2$3")])){if(path[3]){path[3].replace(/(\[([^\]]+)\])|(\.?([^\.\[]+))/g,function(t,a,b,c,d){ref=ref&&ref[b?b.replace(/[\"\'\\]/,""):d];});}}}if(ref){val=ref;}else{if(!stop){var _5cc;if(!_5cc){_5bf.push(_5c7);}_5cc=true;val=walk(val,false,val[_5b9],true,_5ca);val._loadObject=args.loader;}}}else{if(!stop){val=walk(val,_5bf==it,id===undefined?undefined:_5c1(id,i),false,_5ca,_5c7!=it&&typeof _5c7[i]=="object"&&_5c7[i]);}}}it[i]=val;if(_5c7!=it&&!_5c7.__isDirty){var old=_5c7[i];_5c7[i]=val;if(_5c6&&val!==old&&!_5c7._loadObject&&!(i.charAt(0)=="_"&&i.charAt(1)=="_")&&i!="$ref"&&!(val instanceof Date&&old instanceof Date&&val.getTime()==old.getTime())&&!(typeof val=="function"&&typeof old=="function"&&val.toString()==old.toString())&&_5bd.onUpdate){_5bd.onUpdate(_5c7,i,old,val);}}}}if(_5c6&&(_5b8 in it||_5c7 instanceof Array)){for(i in _5c7){if(!_5c7.__isDirty&&_5c7.hasOwnProperty(i)&&!it.hasOwnProperty(i)&&!(i.charAt(0)=="_"&&i.charAt(1)=="_")&&!(_5c7 instanceof Array&&isNaN(i))){if(_5bd.onUpdate&&i!="_loadObject"&&i!="_idAttr"){_5bd.onUpdate(_5c7,i,_5c7[i],undefined);}delete _5c7[i];while(_5c7 instanceof Array&&_5c7.length&&_5c7[_5c7.length-1]===undefined){_5c7.length--;}}}}else{if(_5bd.onLoad){_5bd.onLoad(_5c7);}}return _5c7;};if(root&&typeof root=="object"){root=walk(root,false,args.defaultId,true);walk(_5bf,false);}return root;},fromJson:function(str,args){function ref(_5cd){var _5ce={};_5ce[this.refAttribute]=_5cd;return _5ce;};try{var root=eval("("+str+")");}catch(e){throw new SyntaxError("Invalid JSON string: "+e.message+" parsing: "+str);}if(root){return this.resolveJson(root,args);}return root;},toJson:function(it,_5cf,_5d0,_5d1){var _5d2=this._useRefs;var _5d3=this._addProp;var _5d4=this.refAttribute;_5d0=_5d0||"";var _5d5={};var _5d6={};function _5d7(it,path,_5d8){if(typeof it=="object"&&it){var _5d9;if(it instanceof Date){return "\""+dojo.date.stamp.toISOString(it,{zulu:true})+"\"";}var id=it.__id;if(id){if(path!="#"&&((_5d2&&!id.match(/#/))||_5d5[id])){var ref=id;if(id.charAt(0)!="#"){if(it.__clientId==id){ref="cid:"+id;}else{if(id.substring(0,_5d0.length)==_5d0){ref=id.substring(_5d0.length);}else{ref=id;}}}var _5da={};_5da[_5d4]=ref;return _5d7(_5da,"#");}path=id;}else{it.__id=path;_5d6[path]=it;}_5d5[path]=it;_5d8=_5d8||"";var _5db=_5cf?_5d8+dojo.toJsonIndentStr:"";var _5dc=_5cf?"\n":"";var sep=_5cf?" ":"";if(it instanceof Array){var res=dojo.map(it,function(obj,i){var val=_5d7(obj,_5d3(path,i),_5db);if(typeof val!="string"){val="undefined";}return _5dc+_5db+val;});return "["+res.join(","+sep)+_5dc+_5d8+"]";}var _5dd=[];for(var i in it){if(it.hasOwnProperty(i)){var _5de;if(typeof i=="number"){_5de="\""+i+"\"";}else{if(typeof i=="string"&&(i.charAt(0)!="_"||i.charAt(1)!="_")){_5de=dojo._escapeString(i);}else{continue;}}var val=_5d7(it[i],_5d3(path,i),_5db);if(typeof val!="string"){continue;}_5dd.push(_5dc+_5db+_5de+":"+sep+val);}}return "{"+_5dd.join(","+sep)+_5dc+_5d8+"}";}else{if(typeof it=="function"&&_5b7.json.ref.serializeFunctions){return it.toString();}}return dojo.toJson(it);};var json=_5d7(it,"#","");if(!_5d1){for(var i in _5d6){delete _5d6[i].__id;}}return json;},_addProp:function(id,prop){return id+(id.match(/#/)?id.length==1?"":".":"#")+prop;},refAttribute:"$ref",_useRefs:false,serializeFunctions:false};});},"dojox/data/AtomReadStore":function(){define("dojox/data/AtomReadStore",["dojo","dojox","dojo/data/util/filter","dojo/data/util/simpleFetch","dojo/date/stamp"],function(dojo,_5df){dojo.experimental("dojox.data.AtomReadStore");dojo.declare("dojox.data.AtomReadStore",null,{constructor:function(args){if(args){this.url=args.url;this.rewriteUrl=args.rewriteUrl;this.label=args.label||this.label;this.sendQuery=(args.sendQuery||args.sendquery||this.sendQuery);this.unescapeHTML=args.unescapeHTML;if("urlPreventCache" in args){this.urlPreventCache=args.urlPreventCache?true:false;}}if(!this.url){throw new Error("AtomReadStore: a URL must be specified when creating the data store");}},url:"",label:"title",sendQuery:false,unescapeHTML:false,urlPreventCache:false,getValue:function(item,_5e0,_5e1){this._assertIsItem(item);this._assertIsAttribute(_5e0);this._initItem(item);_5e0=_5e0.toLowerCase();if(!item._attribs[_5e0]&&!item._parsed){this._parseItem(item);item._parsed=true;}var _5e2=item._attribs[_5e0];if(!_5e2&&_5e0=="summary"){var _5e3=this.getValue(item,"content");var _5e4=new RegExp("/(<([^>]+)>)/g","i");var text=_5e3.text.replace(_5e4,"");_5e2={text:text.substring(0,Math.min(400,text.length)),type:"text"};item._attribs[_5e0]=_5e2;}if(_5e2&&this.unescapeHTML){if((_5e0=="content"||_5e0=="summary"||_5e0=="subtitle")&&!item["_"+_5e0+"Escaped"]){_5e2.text=this._unescapeHTML(_5e2.text);item["_"+_5e0+"Escaped"]=true;}}return _5e2?dojo.isArray(_5e2)?_5e2[0]:_5e2:_5e1;},getValues:function(item,_5e5){this._assertIsItem(item);this._assertIsAttribute(_5e5);this._initItem(item);_5e5=_5e5.toLowerCase();if(!item._attribs[_5e5]){this._parseItem(item);}var _5e6=item._attribs[_5e5];return _5e6?((_5e6.length!==undefined&&typeof (_5e6)!=="string")?_5e6:[_5e6]):undefined;},getAttributes:function(item){this._assertIsItem(item);if(!item._attribs){this._initItem(item);this._parseItem(item);}var _5e7=[];for(var x in item._attribs){_5e7.push(x);}return _5e7;},hasAttribute:function(item,_5e8){return (this.getValue(item,_5e8)!==undefined);},containsValue:function(item,_5e9,_5ea){var _5eb=this.getValues(item,_5e9);for(var i=0;i<_5eb.length;i++){if((typeof _5ea==="string")){if(_5eb[i].toString&&_5eb[i].toString()===_5ea){return true;}}else{if(_5eb[i]===_5ea){return true;}}}return false;},isItem:function(_5ec){if(_5ec&&_5ec.element&&_5ec.store&&_5ec.store===this){return true;}return false;},isItemLoaded:function(_5ed){return this.isItem(_5ed);},loadItem:function(_5ee){},getFeatures:function(){var _5ef={"dojo.data.api.Read":true};return _5ef;},getLabel:function(item){if((this.label!=="")&&this.isItem(item)){var _5f0=this.getValue(item,this.label);if(_5f0&&_5f0.text){return _5f0.text;}else{if(_5f0){return _5f0.toString();}else{return undefined;}}}return undefined;},getLabelAttributes:function(item){if(this.label!==""){return [this.label];}return null;},getFeedValue:function(_5f1,_5f2){var _5f3=this.getFeedValues(_5f1,_5f2);if(dojo.isArray(_5f3)){return _5f3[0];}return _5f3;},getFeedValues:function(_5f4,_5f5){if(!this.doc){return _5f5;}if(!this._feedMetaData){this._feedMetaData={element:this.doc.getElementsByTagName("feed")[0],store:this,_attribs:{}};this._parseItem(this._feedMetaData);}return this._feedMetaData._attribs[_5f4]||_5f5;},_initItem:function(item){if(!item._attribs){item._attribs={};}},_fetchItems:function(_5f6,_5f7,_5f8){var url=this._getFetchUrl(_5f6);if(!url){_5f8(new Error("No URL specified."));return;}var _5f9=(!this.sendQuery?_5f6:null);var _5fa=this;var _5fb=function(data){_5fa.doc=data;var _5fc=_5fa._getItems(data,_5f9);var _5fd=_5f6.query;if(_5fd){if(_5fd.id){_5fc=dojo.filter(_5fc,function(item){return (_5fa.getValue(item,"id")==_5fd.id);});}else{if(_5fd.category){_5fc=dojo.filter(_5fc,function(_5fe){var cats=_5fa.getValues(_5fe,"category");if(!cats){return false;}return dojo.some(cats,"return item.term=='"+_5fd.category+"'");});}}}if(_5fc&&_5fc.length>0){_5f7(_5fc,_5f6);}else{_5f7([],_5f6);}};if(this.doc){_5fb(this.doc);}else{var _5ff={url:url,handleAs:"xml",preventCache:this.urlPreventCache};var _600=dojo.xhrGet(_5ff);_600.addCallback(_5fb);_600.addErrback(function(data){_5f8(data,_5f6);});}},_getFetchUrl:function(_601){if(!this.sendQuery){return this.url;}var _602=_601.query;if(!_602){return this.url;}if(dojo.isString(_602)){return this.url+_602;}var _603="";for(var name in _602){var _604=_602[name];if(_604){if(_603){_603+="&";}_603+=(name+"="+_604);}}if(!_603){return this.url;}var _605=this.url;if(_605.indexOf("?")<0){_605+="?";}else{_605+="&";}return _605+_603;},_getItems:function(_606,_607){if(this._items){return this._items;}var _608=[];var _609=[];if(_606.childNodes.length<1){this._items=_608;return _608;}var _60a=dojo.filter(_606.childNodes,"return item.tagName && item.tagName.toLowerCase() == 'feed'");var _60b=_607.query;if(!_60a||_60a.length!=1){return _608;}_609=dojo.filter(_60a[0].childNodes,"return item.tagName && item.tagName.toLowerCase() == 'entry'");if(_607.onBegin){_607.onBegin(_609.length,this.sendQuery?_607:{});}for(var i=0;i<_609.length;i++){var node=_609[i];if(node.nodeType!=1){continue;}_608.push(this._getItem(node));}this._items=_608;return _608;},close:function(_60c){},_getItem:function(_60d){return {element:_60d,store:this};},_parseItem:function(item){var _60e=item._attribs;var _60f=this;var text,type;function _610(node){var txt=node.textContent||node.innerHTML||node.innerXML;if(!txt&&node.childNodes[0]){var _611=node.childNodes[0];if(_611&&(_611.nodeType==3||_611.nodeType==4)){txt=node.childNodes[0].nodeValue;}}return txt;};function _612(node){return {text:_610(node),type:node.getAttribute("type")};};dojo.forEach(item.element.childNodes,function(node){var _613=node.tagName?node.tagName.toLowerCase():"";switch(_613){case "title":_60e[_613]={text:_610(node),type:node.getAttribute("type")};break;case "subtitle":case "summary":case "content":_60e[_613]=_612(node);break;case "author":var _614,_615;dojo.forEach(node.childNodes,function(_616){if(!_616.tagName){return;}switch(_616.tagName.toLowerCase()){case "name":_614=_616;break;case "uri":_615=_616;break;}});var _617={};if(_614&&_614.length==1){_617.name=_610(_614[0]);}if(_615&&_615.length==1){_617.uri=_610(_615[0]);}_60e[_613]=_617;break;case "id":_60e[_613]=_610(node);break;case "updated":_60e[_613]=dojo.date.stamp.fromISOString(_610(node));break;case "published":_60e[_613]=dojo.date.stamp.fromISOString(_610(node));break;case "category":if(!_60e[_613]){_60e[_613]=[];}_60e[_613].push({scheme:node.getAttribute("scheme"),term:node.getAttribute("term")});break;case "link":if(!_60e[_613]){_60e[_613]=[];}var link={rel:node.getAttribute("rel"),href:node.getAttribute("href"),type:node.getAttribute("type")};_60e[_613].push(link);if(link.rel=="alternate"){_60e["alternate"]=link;}break;default:break;}});},_unescapeHTML:function(text){text=text.replace(/&#8217;/m,"'").replace(/&#8243;/m,"\"").replace(/&#60;/m,">").replace(/&#62;/m,"<").replace(/&#38;/m,"&");return text;},_assertIsItem:function(item){if(!this.isItem(item)){throw new Error("dojox.data.AtomReadStore: Invalid item argument.");}},_assertIsAttribute:function(_618){if(typeof _618!=="string"){throw new Error("dojox.data.AtomReadStore: Invalid attribute argument.");}}});dojo.extend(_5df.data.AtomReadStore,dojo.data.util.simpleFetch);return _5df.data.AtomReadStore;});},"dojo/data/util/simpleFetch":function(){define("dojo/data/util/simpleFetch",["../../_base/lang","../../_base/window","./sorter"],function(lang,_619,_61a){var _61b=lang.getObject("dojo.data.util.simpleFetch",true);_61b.fetch=function(_61c){_61c=_61c||{};if(!_61c.store){_61c.store=this;}var self=this;var _61d=function(_61e,_61f){if(_61f.onError){var _620=_61f.scope||_619.global;_61f.onError.call(_620,_61e,_61f);}};var _621=function(_622,_623){var _624=_623.abort||null;var _625=false;var _626=_623.start?_623.start:0;var _627=(_623.count&&(_623.count!==Infinity))?(_626+_623.count):_622.length;_623.abort=function(){_625=true;if(_624){_624.call(_623);}};var _628=_623.scope||_619.global;if(!_623.store){_623.store=self;}if(_623.onBegin){_623.onBegin.call(_628,_622.length,_623);}if(_623.sort){_622.sort(_61a.createSortFunction(_623.sort,self));}if(_623.onItem){for(var i=_626;(i<_622.length)&&(i<_627);++i){var item=_622[i];if(!_625){_623.onItem.call(_628,item,_623);}}}if(_623.onComplete&&!_625){var _629=null;if(!_623.onItem){_629=_622.slice(_626,_627);}_623.onComplete.call(_628,_629,_623);}};this._fetchItems(_61c,_621,_61d);return _61c;};return _61b;});},"dojox/data/PicasaStore":function(){define("dojox/data/PicasaStore",["dojo/_base/lang","dojo/_base/declare","dojo/_base/connect","dojo/io/script","dojo/data/util/simpleFetch","dojo/date/stamp"],function(lang,_62a,_62b,_62c,_62d,_62e){var _62f=_62a("dojox.data.PicasaStore",null,{constructor:function(args){if(args&&args.label){this.label=args.label;}if(args&&"urlPreventCache" in args){this.urlPreventCache=args.urlPreventCache?true:false;}if(args&&"maxResults" in args){this.maxResults=parseInt(args.maxResults);if(!this.maxResults){this.maxResults=20;}}},_picasaUrl:"http://picasaweb.google.com/data/feed/api/all",_storeRef:"_S",label:"title",urlPreventCache:false,maxResults:20,_assertIsItem:function(item){if(!this.isItem(item)){throw new Error("dojox.data.PicasaStore: a function was passed an item argument that was not an item");}},_assertIsAttribute:function(_630){if(typeof _630!=="string"){throw new Error("dojox.data.PicasaStore: a function was passed an attribute argument that was not an attribute name string");}},getFeatures:function(){return {"dojo.data.api.Read":true};},getValue:function(item,_631,_632){var _633=this.getValues(item,_631);if(_633&&_633.length>0){return _633[0];}return _632;},getAttributes:function(item){return ["id","published","updated","category","title$type","title","summary$type","summary","rights$type","rights","link","author","gphoto$id","gphoto$name","location","imageUrlSmall","imageUrlMedium","imageUrl","datePublished","dateTaken","description"];},hasAttribute:function(item,_634){if(this.getValue(item,_634)){return true;}return false;},isItemLoaded:function(item){return this.isItem(item);},loadItem:function(_635){},getLabel:function(item){return this.getValue(item,this.label);},getLabelAttributes:function(item){return [this.label];},containsValue:function(item,_636,_637){var _638=this.getValues(item,_636);for(var i=0;i<_638.length;i++){if(_638[i]===_637){return true;}}return false;},getValues:function(item,_639){this._assertIsItem(item);this._assertIsAttribute(_639);if(_639==="title"){return [this._unescapeHtml(item.title)];}else{if(_639==="author"){return [this._unescapeHtml(item.author[0].name)];}else{if(_639==="datePublished"){return [dateAtamp.fromISOString(item.published)];}else{if(_639==="dateTaken"){return [_62e.fromISOString(item.published)];}else{if(_639==="updated"){return [_62e.fromISOString(item.updated)];}else{if(_639==="imageUrlSmall"){return [item.media.thumbnail[1].url];}else{if(_639==="imageUrl"){return [item.content$src];}else{if(_639==="imageUrlMedium"){return [item.media.thumbnail[2].url];}else{if(_639==="link"){return [item.link[1]];}else{if(_639==="tags"){return item.tags.split(" ");}else{if(_639==="description"){return [this._unescapeHtml(item.summary)];}}}}}}}}}}}return [];},isItem:function(item){if(item&&item[this._storeRef]===this){return true;}return false;},close:function(_63a){},_fetchItems:function(_63b,_63c,_63d){if(!_63b.query){_63b.query={};}var _63e={alt:"jsonm",pp:"1",psc:"G"};_63e["start-index"]="1";if(_63b.query.start){_63e["start-index"]=_63b.query.start;}if(_63b.query.tags){_63e.q=_63b.query.tags;}if(_63b.query.userid){_63e.uname=_63b.query.userid;}if(_63b.query.userids){_63e.ids=_63b.query.userids;}if(_63b.query.lang){_63e.hl=_63b.query.lang;}_63e["max-results"]=this.maxResults;var self=this;var _63f=null;var _640=function(data){if(_63f!==null){_62b.disconnect(_63f);}_63c(self._processPicasaData(data),_63b);};var _641={url:this._picasaUrl,preventCache:this.urlPreventCache,content:_63e,callbackParamName:"callback",handle:_640};var _642=_62c.get(_641);_642.addErrback(function(_643){_62b.disconnect(_63f);_63d(_643,_63b);});},_processPicasaData:function(data){var _644=[];if(data.feed){_644=data.feed.entry;for(var i=0;i<_644.length;i++){var item=_644[i];item[this._storeRef]=this;}}return _644;},_unescapeHtml:function(str){if(str){str=str.replace(/&amp;/gm,"&").replace(/&lt;/gm,"<").replace(/&gt;/gm,">").replace(/&quot;/gm,"\"");str=str.replace(/&#39;/gm,"'");}return str;}});lang.extend(_62f,_62d);return _62f;});},"dojox/data/ServiceStore":function(){define("dojox/data/ServiceStore",["dojo/_base/declare","dojo/_base/lang","dojo/_base/array"],function(_645,lang,_646){return _645("dojox.data.ServiceStore",lang.getObject("dojox.data.ClientFilter",0)||null,{service:null,constructor:function(_647){this.byId=this.fetchItemByIdentity;this._index={};if(_647){lang.mixin(this,_647);}this.idAttribute=(_647&&_647.idAttribute)||(this.schema&&this.schema._idAttr);},schema:null,idAttribute:"id",labelAttribute:"label",syncMode:false,estimateCountFactor:1,getSchema:function(){return this.schema;},loadLazyValues:true,getValue:function(item,_648,_649){var _64a=item[_648];return _64a||(_648 in item?_64a:item._loadObject?(dojox.rpc._sync=true)&&arguments.callee.call(this,dojox.data.ServiceStore.prototype.loadItem({item:item})||{},_648,_649):_649);},getValues:function(item,_64b){var val=this.getValue(item,_64b);return val instanceof Array?val:val===undefined?[]:[val];},getAttributes:function(item){var res=[];for(var i in item){if(item.hasOwnProperty(i)&&!(i.charAt(0)=="_"&&i.charAt(1)=="_")){res.push(i);}}return res;},hasAttribute:function(item,_64c){return _64c in item;},containsValue:function(item,_64d,_64e){return _646.indexOf(this.getValues(item,_64d),_64e)>-1;},isItem:function(item){return (typeof item=="object")&&item&&!(item instanceof Date);},isItemLoaded:function(item){return item&&!item._loadObject;},loadItem:function(args){var item;if(args.item._loadObject){args.item._loadObject(function(_64f){item=_64f;delete item._loadObject;var func=_64f instanceof Error?args.onError:args.onItem;if(func){func.call(args.scope,_64f);}});}else{if(args.onItem){args.onItem.call(args.scope,args.item);}}return item;},_currentId:0,_processResults:function(_650,_651){if(_650&&typeof _650=="object"){var id=_650.__id;if(!id){if(this.idAttribute){id=_650[this.idAttribute];}else{id=this._currentId++;}if(id!==undefined){var _652=this._index[id];if(_652){for(var j in _652){delete _652[j];}_650=lang.mixin(_652,_650);}_650.__id=id;this._index[id]=_650;}}for(var i in _650){_650[i]=this._processResults(_650[i],_651).items;}var _653=_650.length;}return {totalCount:_651.request.count==_653?(_651.request.start||0)+_653*this.estimateCountFactor:_653,items:_650};},close:function(_654){return _654&&_654.abort&&_654.abort();},fetch:function(args){args=args||{};if("syncMode" in args?args.syncMode:this.syncMode){dojox.rpc._sync=true;}var self=this;var _655=args.scope||self;var _656=this.cachingFetch?this.cachingFetch(args):this._doQuery(args);_656.request=args;_656.addCallback(function(_657){if(args.clientFetch){_657=self.clientSideFetch({query:args.clientFetch,sort:args.sort,start:args.start,count:args.count},_657);}var _658=self._processResults(_657,_656);_657=args.results=_658.items;if(args.onBegin){args.onBegin.call(_655,_658.totalCount,args);}if(args.onItem){for(var i=0;i<_657.length;i++){args.onItem.call(_655,_657[i],args);}}if(args.onComplete){args.onComplete.call(_655,args.onItem?null:_657,args);}return _657;});_656.addErrback(args.onError&&function(err){return args.onError.call(_655,err,args);});args.abort=function(){_656.cancel();};args.store=this;return args;},_doQuery:function(args){var _659=typeof args.queryStr=="string"?args.queryStr:args.query;return this.service(_659);},getFeatures:function(){return {"dojo.data.api.Read":true,"dojo.data.api.Identity":true,"dojo.data.api.Schema":this.schema};},getLabel:function(item){return this.getValue(item,this.labelAttribute);},getLabelAttributes:function(item){return [this.labelAttribute];},getIdentity:function(item){return item.__id;},getIdentityAttributes:function(item){return [this.idAttribute];},fetchItemByIdentity:function(args){var item=this._index[(args._prefix||"")+args.identity];if(item){if(item._loadObject){args.item=item;return this.loadItem(args);}else{if(args.onItem){args.onItem.call(args.scope,item);}}}else{return this.fetch({query:args.identity,onComplete:args.onItem,onError:args.onError,scope:args.scope}).results;}return item;}});});},"dojox/data/util/JsonQuery":function(){define("dojox/data/util/JsonQuery",["dojo","dojox"],function(dojo,_65a){dojo.declare("dojox.data.util.JsonQuery",null,{useFullIdInQueries:false,_toJsonQuery:function(args,_65b){var _65c=true;var self=this;function _65d(path,_65e){var _65f=_65e.__id;if(_65f){var _660={};_660[self.idAttribute]=self.useFullIdInQueries?_65e.__id:_65e[self.idAttribute];_65e=_660;}for(var i in _65e){var _661=_65e[i];var _662=path+(/^[a-zA-Z_][\w_]*$/.test(i)?"."+i:"["+dojo._escapeString(i)+"]");if(_661&&typeof _661=="object"){_65d(_662,_661);}else{if(_661!="*"){_663+=(_65c?"":"&")+_662+((!_65f&&typeof _661=="string"&&args.queryOptions&&args.queryOptions.ignoreCase)?"~":"=")+(self.simplifiedQuery?encodeURIComponent(_661):dojo.toJson(_661));_65c=false;}}}};if(args.query&&typeof args.query=="object"){var _663="[?(";_65d("@",args.query);if(!_65c){_663+=")]";}else{_663="";}args.queryStr=_663.replace(/\\"|"/g,function(t){return t=="\""?"'":t;});}else{if(!args.query||args.query=="*"){args.query="";}}var sort=args.sort;if(sort){args.queryStr=args.queryStr||(typeof args.query=="string"?args.query:"");_65c=true;for(i=0;i<sort.length;i++){args.queryStr+=(_65c?"[":",")+(sort[i].descending?"\\":"/")+"@["+dojo._escapeString(sort[i].attribute)+"]";_65c=false;}args.queryStr+="]";}if(_65b&&(args.start||args.count)){args.queryStr=(args.queryStr||(typeof args.query=="string"?args.query:""))+"["+(args.start||"")+":"+(args.count?(args.start||0)+args.count:"")+"]";}if(typeof args.queryStr=="string"){args.queryStr=args.queryStr.replace(/\\"|"/g,function(t){return t=="\""?"'":t;});return args.queryStr;}return args.query;},jsonQueryPagination:true,fetch:function(args){this._toJsonQuery(args,this.jsonQueryPagination);return this.inherited(arguments);},isUpdateable:function(){return true;},matchesQuery:function(item,_664){_664._jsonQuery=_664._jsonQuery||_65a.json.query(this._toJsonQuery(_664));return _664._jsonQuery([item]).length;},clientSideFetch:function(_665,_666){_665._jsonQuery=_665._jsonQuery||_65a.json.query(this._toJsonQuery(_665));return this.clientSidePaging(_665,_665._jsonQuery(_666));},querySuperSet:function(_667,_668){if(!_667.query){return _668.query;}return this.inherited(arguments);}});return _65a.data.util.JsonQuery;});},"dojox/data/GoogleSearchStore":function(){define("dojox/data/GoogleSearchStore",["dojo/_base/kernel","dojo/_base/lang","dojo/_base/declare","dojo/_base/window","dojo/_base/query","dojo/dom-construct","dojo/io/script"],function(dojo,lang,_669,_66a,_66b,_66c,_66d){dojo.experimental("dojox.data.GoogleSearchStore");var _66e=_669("dojox.data.GoogleSearchStore",null,{constructor:function(args){if(args){if(args.label){this.label=args.label;}if(args.key){this._key=args.key;}if(args.lang){this._lang=args.lang;}if("urlPreventCache" in args){this.urlPreventCache=args.urlPreventCache?true:false;}}this._id=dojox.data.GoogleSearchStore.prototype._id++;},_id:0,_requestCount:0,_googleUrl:"http://ajax.googleapis.com/ajax/services/search/",_storeRef:"_S",_attributes:["unescapedUrl","url","visibleUrl","cacheUrl","title","titleNoFormatting","content","estimatedResultCount"],_aggregatedAttributes:{estimatedResultCount:"cursor.estimatedResultCount"},label:"titleNoFormatting",_type:"web",urlPreventCache:true,_queryAttrs:{text:"q"},_assertIsItem:function(item){if(!this.isItem(item)){throw new Error("dojox.data.GoogleSearchStore: a function was passed an item argument that was not an item");}},_assertIsAttribute:function(_66f){if(typeof _66f!=="string"){throw new Error("dojox.data.GoogleSearchStore: a function was passed an attribute argument that was not an attribute name string");}},getFeatures:function(){return {"dojo.data.api.Read":true};},getValue:function(item,_670,_671){var _672=this.getValues(item,_670);if(_672&&_672.length>0){return _672[0];}return _671;},getAttributes:function(item){return this._attributes;},hasAttribute:function(item,_673){if(this.getValue(item,_673)){return true;}return false;},isItemLoaded:function(item){return this.isItem(item);},loadItem:function(_674){},getLabel:function(item){return this.getValue(item,this.label);},getLabelAttributes:function(item){return [this.label];},containsValue:function(item,_675,_676){var _677=this.getValues(item,_675);for(var i=0;i<_677.length;i++){if(_677[i]===_676){return true;}}return false;},getValues:function(item,_678){this._assertIsItem(item);this._assertIsAttribute(_678);var val=item[_678];if(lang.isArray(val)){return val;}else{if(val!==undefined){return [val];}else{return [];}}},isItem:function(item){if(item&&item[this._storeRef]===this){return true;}return false;},close:function(_679){},_format:function(item,name){return item;},fetch:function(_67a){_67a=_67a||{};var _67b=_67a.scope||_66a.global;if(!_67a.query){if(_67a.onError){_67a.onError.call(_67b,new Error(this.declaredClass+": A query must be specified."));return;}}var _67c={};for(var attr in this._queryAttrs){_67c[attr]=_67a.query[attr];}_67a={query:_67c,onComplete:_67a.onComplete,onError:_67a.onError,onItem:_67a.onItem,onBegin:_67a.onBegin,start:_67a.start,count:_67a.count};var _67d=8;var _67e="GoogleSearchStoreCallback_"+this._id+"_"+(++this._requestCount);var _67f=this._createContent(_67c,_67e,_67a);var _680;if(typeof (_67a.start)==="undefined"||_67a.start===null){_67a.start=0;}if(!_67a.count){_67a.count=_67d;}_680={start:_67a.start-_67a.start%_67d};var _681=this;var _682=this._googleUrl+this._type;var _683={url:_682,preventCache:this.urlPreventCache,content:_67f};var _684=[];var _685=0;var _686=false;var _687=_67a.start-1;var _688=0;var _689=[];function _68a(req){_688++;_683.content.context=_683.content.start=req.start;var _68b=_66d.get(_683);_689.push(_68b.ioArgs.id);_68b.addErrback(function(_68c){if(_67a.onError){_67a.onError.call(_67b,_68c,_67a);}});};var _68d=function(_68e,data){if(_689.length>0){_66b("#"+_689.splice(0,1)).forEach(_66c.destroy);}if(_686){return;}var _68f=_681._getItems(data);var _690=data?data["cursor"]:null;if(_68f){for(var i=0;i<_68f.length&&i+_68e<_67a.count+_67a.start;i++){_681._processItem(_68f[i],data);_684[i+_68e]=_68f[i];}_685++;if(_685==1){var _691=_690?_690.pages:null;var _692=_691?Number(_691[_691.length-1].start):0;if(_67a.onBegin){var est=_690?_690.estimatedResultCount:_68f.length;var _693=est?Math.min(est,_692+_68f.length):_692+_68f.length;_67a.onBegin.call(_67b,_693,_67a);}var _694=(_67a.start-_67a.start%_67d)+_67d;var page=1;while(_691){if(!_691[page]||Number(_691[page].start)>=_67a.start+_67a.count){break;}if(Number(_691[page].start)>=_694){_68a({start:_691[page].start});}page++;}}if(_67a.onItem&&_684[_687+1]){do{_687++;_67a.onItem.call(_67b,_684[_687],_67a);}while(_684[_687+1]&&_687<_67a.start+_67a.count);}if(_685==_688){_686=true;_66a.global[_67e]=null;if(_67a.onItem){_67a.onComplete.call(_67b,null,_67a);}else{_684=_684.slice(_67a.start,_67a.start+_67a.count);_67a.onComplete.call(_67b,_684,_67a);}}}};var _695=[];var _696=_680.start-1;_66a.global[_67e]=function(_697,data,_698,_699){try{if(_698!=200){if(_67a.onError){_67a.onError.call(_67b,new Error("Response from Google was: "+_698),_67a);}_66a.global[_67e]=function(){};return;}if(_697==_696+1){_68d(Number(_697),data);_696+=_67d;if(_695.length>0){_695.sort(_681._getSort());while(_695.length>0&&_695[0].start==_696+1){_68d(Number(_695[0].start),_695[0].data);_695.splice(0,1);_696+=_67d;}}}else{_695.push({start:_697,data:data});}}catch(e){_67a.onError.call(_67b,e,_67a);}};_68a(_680);},_getSort:function(){return function(a,b){if(a.start<b.start){return -1;}if(b.start<a.start){return 1;}return 0;};},_processItem:function(item,data){item[this._storeRef]=this;for(var _69a in this._aggregatedAttributes){item[_69a]=lang.getObject(this._aggregatedAttributes[_69a],false,data);}},_getItems:function(data){return data["results"]||data;},_createContent:function(_69b,_69c,_69d){var _69e={v:"1.0",rsz:"large",callback:_69c,key:this._key,hl:this._lang};for(var attr in this._queryAttrs){_69e[this._queryAttrs[attr]]=_69b[attr];}return _69e;}});var _69f=_669("dojox.data.GoogleWebSearchStore",_66e,{});var _6a0=_669("dojox.data.GoogleBlogSearchStore",_66e,{_type:"blogs",_attributes:["blogUrl","postUrl","title","titleNoFormatting","content","author","publishedDate"],_aggregatedAttributes:{}});var _6a1=_669("dojox.data.GoogleLocalSearchStore",_66e,{_type:"local",_attributes:["title","titleNoFormatting","url","lat","lng","streetAddress","city","region","country","phoneNumbers","ddUrl","ddUrlToHere","ddUrlFromHere","staticMapUrl","viewport"],_aggregatedAttributes:{viewport:"viewport"},_queryAttrs:{text:"q",centerLatLong:"sll",searchSpan:"sspn"}});var _6a2=_669("dojox.data.GoogleVideoSearchStore",_66e,{_type:"video",_attributes:["title","titleNoFormatting","content","url","published","publisher","duration","tbWidth","tbHeight","tbUrl","playUrl"],_aggregatedAttributes:{}});var _6a3=_669("dojox.data.GoogleNewsSearchStore",_66e,{_type:"news",_attributes:["title","titleNoFormatting","content","url","unescapedUrl","publisher","clusterUrl","location","publishedDate","relatedStories"],_aggregatedAttributes:{}});var _6a4=_669("dojox.data.GoogleBookSearchStore",_66e,{_type:"books",_attributes:["title","titleNoFormatting","authors","url","unescapedUrl","bookId","pageCount","publishedYear"],_aggregatedAttributes:{}});var _6a5=_669("dojox.data.GoogleImageSearchStore",_66e,{_type:"images",_attributes:["title","titleNoFormatting","visibleUrl","url","unescapedUrl","originalContextUrl","width","height","tbWidth","tbHeight","tbUrl","content","contentNoFormatting"],_aggregatedAttributes:{}});return {Search:_66e,ImageSearch:_6a5,BookSearch:_6a4,NewsSearch:_6a3,VideoSearch:_6a2,LocalSearch:_6a1,BlogSearch:_6a0,WebSearch:_69f};});},"dojo/io/script":function(){define("dojo/io/script",["../main"],function(dojo){dojo.getObject("io",true,dojo);var _6a6=dojo.isIE?"onreadystatechange":"load",_6a7=/complete|loaded/;dojo.io.script={get:function(args){var dfd=this._makeScriptDeferred(args);var _6a8=dfd.ioArgs;dojo._ioAddQueryToUrl(_6a8);dojo._ioNotifyStart(dfd);if(this._canAttach(_6a8)){var node=this.attach(_6a8.id,_6a8.url,args.frameDoc);if(!_6a8.jsonp&&!_6a8.args.checkString){var _6a9=dojo.connect(node,_6a6,function(evt){if(evt.type=="load"||_6a7.test(node.readyState)){dojo.disconnect(_6a9);_6a8.scriptLoaded=evt;}});}}dojo._ioWatch(dfd,this._validCheck,this._ioCheck,this._resHandle);return dfd;},attach:function(id,url,_6aa){var doc=(_6aa||dojo.doc);var _6ab=doc.createElement("script");_6ab.type="text/javascript";_6ab.src=url;_6ab.id=id;_6ab.async=true;_6ab.charset="utf-8";return doc.getElementsByTagName("head")[0].appendChild(_6ab);},remove:function(id,_6ac){dojo.destroy(dojo.byId(id,_6ac));if(this["jsonp_"+id]){delete this["jsonp_"+id];}},_makeScriptDeferred:function(args){var dfd=dojo._ioSetArgs(args,this._deferredCancel,this._deferredOk,this._deferredError);var _6ad=dfd.ioArgs;_6ad.id=dojo._scopeName+"IoScript"+(this._counter++);_6ad.canDelete=false;_6ad.jsonp=args.callbackParamName||args.jsonp;if(_6ad.jsonp){_6ad.query=_6ad.query||"";if(_6ad.query.length>0){_6ad.query+="&";}_6ad.query+=_6ad.jsonp+"="+(args.frameDoc?"parent.":"")+dojo._scopeName+".io.script.jsonp_"+_6ad.id+"._jsonpCallback";_6ad.frameDoc=args.frameDoc;_6ad.canDelete=true;dfd._jsonpCallback=this._jsonpCallback;this["jsonp_"+_6ad.id]=dfd;}return dfd;},_deferredCancel:function(dfd){dfd.canceled=true;if(dfd.ioArgs.canDelete){dojo.io.script._addDeadScript(dfd.ioArgs);}},_deferredOk:function(dfd){var _6ae=dfd.ioArgs;if(_6ae.canDelete){dojo.io.script._addDeadScript(_6ae);}return _6ae.json||_6ae.scriptLoaded||_6ae;},_deferredError:function(_6af,dfd){if(dfd.ioArgs.canDelete){if(_6af.dojoType=="timeout"){dojo.io.script.remove(dfd.ioArgs.id,dfd.ioArgs.frameDoc);}else{dojo.io.script._addDeadScript(dfd.ioArgs);}}return _6af;},_deadScripts:[],_counter:1,_addDeadScript:function(_6b0){dojo.io.script._deadScripts.push({id:_6b0.id,frameDoc:_6b0.frameDoc});_6b0.frameDoc=null;},_validCheck:function(dfd){var _6b1=dojo.io.script;var _6b2=_6b1._deadScripts;if(_6b2&&_6b2.length>0){for(var i=0;i<_6b2.length;i++){_6b1.remove(_6b2[i].id,_6b2[i].frameDoc);_6b2[i].frameDoc=null;}dojo.io.script._deadScripts=[];}return true;},_ioCheck:function(dfd){var _6b3=dfd.ioArgs;if(_6b3.json||(_6b3.scriptLoaded&&!_6b3.args.checkString)){return true;}var _6b4=_6b3.args.checkString;return _6b4&&eval("typeof("+_6b4+") != 'undefined'");},_resHandle:function(dfd){if(dojo.io.script._ioCheck(dfd)){dfd.callback(dfd);}else{dfd.errback(new Error("inconceivable dojo.io.script._resHandle error"));}},_canAttach:function(_6b5){return true;},_jsonpCallback:function(json){this.ioArgs.json=json;}};return dojo.io.script;});},"*noref":1}});define("dojox/_dojox_data_all",[],1);require(["dojox/data/AndOrReadStore","dojox/data/AndOrWriteStore","dojox/data/AppStore","dojox/data/AtomReadStore","dojox/data/CdfStore","dojox/data/ClientFilter","dojox/data/CouchDBRestStore","dojox/data/css","dojox/data/CssClassStore","dojox/data/CssRuleStore","dojox/data/CsvStore","dojox/data/dom","dojox/data/FileStore","dojox/data/FlickrRestStore","dojox/data/FlickrStore","dojox/data/GoogleFeedStore","dojox/data/GoogleSearchStore","dojox/data/HtmlStore","dojox/data/HtmlTableStore","dojox/data/KeyValueStore","dojox/data/OpenSearchStore","dojox/data/OpmlStore","dojox/data/PersevereStore","dojox/data/PicasaStore","dojox/data/QueryReadStore","dojox/data/RailsStore","dojox/data/S3Store","dojox/data/ServiceStore","dojox/data/SnapLogicStore","dojox/data/WikipediaStore","dojox/data/XmlItem","dojox/data/XmlStore"]);
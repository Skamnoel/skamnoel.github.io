/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/

/*
	This is an optimized version of Dojo, built for deployment and not for
	development. To get sources and documentation, please visit:

		http://dojotoolkit.org
*/

//>>built
require({cache:{"dojox/gfx/arc":function(){define("dojox/gfx/arc",["./_base","dojo/_base/lang","./matrix"],function(g,_1,m){var _2=2*Math.PI,_3=Math.PI/4,_4=Math.PI/8,_5=_3+_4,_6=_7(_4);function _7(_8){var _9=Math.cos(_8),_a=Math.sin(_8),p2={x:_9+(4/3)*(1-_9),y:_a-(4/3)*_9*(1-_9)/_a};return {s:{x:_9,y:-_a},c1:{x:p2.x,y:-p2.y},c2:p2,e:{x:_9,y:_a}};};var _b=g.arc={unitArcAsBezier:_7,curvePI4:_6,arcAsBezier:function(_c,rx,ry,_d,_e,_f,x,y){_e=Boolean(_e);_f=Boolean(_f);var _10=m._degToRad(_d),rx2=rx*rx,ry2=ry*ry,pa=m.multiplyPoint(m.rotate(-_10),{x:(_c.x-x)/2,y:(_c.y-y)/2}),_11=pa.x*pa.x,_12=pa.y*pa.y,c1=Math.sqrt((rx2*ry2-rx2*_12-ry2*_11)/(rx2*_12+ry2*_11));if(isNaN(c1)){c1=0;}var ca={x:c1*rx*pa.y/ry,y:-c1*ry*pa.x/rx};if(_e==_f){ca={x:-ca.x,y:-ca.y};}var c=m.multiplyPoint([m.translate((_c.x+x)/2,(_c.y+y)/2),m.rotate(_10)],ca);var _13=m.normalize([m.translate(c.x,c.y),m.rotate(_10),m.scale(rx,ry)]);var _14=m.invert(_13),sp=m.multiplyPoint(_14,_c),ep=m.multiplyPoint(_14,x,y),_15=Math.atan2(sp.y,sp.x),_16=Math.atan2(ep.y,ep.x),_17=_15-_16;if(_f){_17=-_17;}if(_17<0){_17+=_2;}else{if(_17>_2){_17-=_2;}}var _18=_4,_19=_6,_1a=_f?_18:-_18,_1b=[];for(var _1c=_17;_1c>0;_1c-=_3){if(_1c<_5){_18=_1c/2;_19=_7(_18);_1a=_f?_18:-_18;_1c=0;}var c2,e,M=m.normalize([_13,m.rotate(_15+_1a)]);if(_f){c1=m.multiplyPoint(M,_19.c1);c2=m.multiplyPoint(M,_19.c2);e=m.multiplyPoint(M,_19.e);}else{c1=m.multiplyPoint(M,_19.c2);c2=m.multiplyPoint(M,_19.c1);e=m.multiplyPoint(M,_19.s);}_1b.push([c1.x,c1.y,c2.x,c2.y,e.x,e.y]);_15+=2*_1a;}return _1b;}};return _b;});},"dojox/gfx":function(){define("dojox/gfx",["dojo/_base/lang","./gfx/_base","./gfx/renderer!"],function(_1d,_1e,_1f){_1e.switchTo(_1f);return _1e;});},"dojox/gfx/gradient":function(){define("dojox/gfx/gradient",["dojo/_base/lang","./matrix","dojo/_base/Color"],function(_20,m,_21){var _22=_20.getObject("dojox.gfx.gradient",true);var C=_21;_22.rescale=function(_23,_24,to){var len=_23.length,_25=(to<_24),_26;if(_25){var tmp=_24;_24=to;to=tmp;}if(!len){return [];}if(to<=_23[0].offset){_26=[{offset:0,color:_23[0].color},{offset:1,color:_23[0].color}];}else{if(_24>=_23[len-1].offset){_26=[{offset:0,color:_23[len-1].color},{offset:1,color:_23[len-1].color}];}else{var _27=to-_24,_28,_29,i;_26=[];if(_24<0){_26.push({offset:0,color:new C(_23[0].color)});}for(i=0;i<len;++i){_28=_23[i];if(_28.offset>=_24){break;}}if(i){_29=_23[i-1];_26.push({offset:0,color:_21.blendColors(new C(_29.color),new C(_28.color),(_24-_29.offset)/(_28.offset-_29.offset))});}else{_26.push({offset:0,color:new C(_28.color)});}for(;i<len;++i){_28=_23[i];if(_28.offset>=to){break;}_26.push({offset:(_28.offset-_24)/_27,color:new C(_28.color)});}if(i<len){_29=_23[i-1];_26.push({offset:1,color:_21.blendColors(new C(_29.color),new C(_28.color),(to-_29.offset)/(_28.offset-_29.offset))});}else{_26.push({offset:1,color:new C(_23[len-1].color)});}}}if(_25){_26.reverse();for(i=0,len=_26.length;i<len;++i){_28=_26[i];_28.offset=1-_28.offset;}}return _26;};function _2a(x,y,_2b,_2c,_2d,_2e){var r=m.multiplyPoint(_2b,x,y),p=m.multiplyPoint(_2c,r);return {r:r,p:p,o:m.multiplyPoint(_2d,p).x/_2e};};function _2f(a,b){return a.o-b.o;};_22.project=function(_30,_31,tl,rb,ttl,trb){_30=_30||m.identity;var f1=m.multiplyPoint(_30,_31.x1,_31.y1),f2=m.multiplyPoint(_30,_31.x2,_31.y2),_32=Math.atan2(f2.y-f1.y,f2.x-f1.x),_33=m.project(f2.x-f1.x,f2.y-f1.y),pf1=m.multiplyPoint(_33,f1),pf2=m.multiplyPoint(_33,f2),_34=new m.Matrix2D([m.rotate(-_32),{dx:-pf1.x,dy:-pf1.y}]),_35=m.multiplyPoint(_34,pf2).x,_36=[_2a(tl.x,tl.y,_30,_33,_34,_35),_2a(rb.x,rb.y,_30,_33,_34,_35),_2a(tl.x,rb.y,_30,_33,_34,_35),_2a(rb.x,tl.y,_30,_33,_34,_35)].sort(_2f),_37=_36[0].o,to=_36[3].o,_38=_22.rescale(_31.colors,_37,to),_39=Math.atan2(_36[3].r.y-_36[0].r.y,_36[3].r.x-_36[0].r.x);return {type:"linear",x1:_36[0].p.x,y1:_36[0].p.y,x2:_36[3].p.x,y2:_36[3].p.y,colors:_38,angle:_32};};return _22;});},"dojox/gfx/svg":function(){define("dojox/gfx/svg",["dojo/_base/lang","dojo/_base/sniff","dojo/_base/window","dojo/dom","dojo/_base/declare","dojo/_base/array","dojo/dom-geometry","dojo/_base/Color","./_base","./shape","./path"],function(_3a,has,win,dom,_3b,arr,_3c,_3d,g,gs,_3e){var svg=g.svg={};svg.useSvgWeb=(typeof window.svgweb!="undefined");var _3f=has("ios"),_40=has("android"),_41=has("chrome")||(_40&&_40>=4)?"auto":"optimizeLegibility";function _42(ns,_43){if(win.doc.createElementNS){return win.doc.createElementNS(ns,_43);}else{return win.doc.createElement(_43);}};function _44(_45){if(svg.useSvgWeb){return win.doc.createTextNode(_45,true);}else{return win.doc.createTextNode(_45);}};function _46(){if(svg.useSvgWeb){return win.doc.createDocumentFragment(true);}else{return win.doc.createDocumentFragment();}};svg.xmlns={xlink:"http://www.w3.org/1999/xlink",svg:"http://www.w3.org/2000/svg"};svg.getRef=function(_47){if(!_47||_47=="none"){return null;}if(_47.match(/^url\(#.+\)$/)){return dom.byId(_47.slice(5,-1));}if(_47.match(/^#dojoUnique\d+$/)){return dom.byId(_47.slice(1));}return null;};svg.dasharray={solid:"none",shortdash:[4,1],shortdot:[1,1],shortdashdot:[4,1,1,1],shortdashdotdot:[4,1,1,1,1,1],dot:[1,3],dash:[4,3],longdash:[8,3],dashdot:[4,3,1,3],longdashdot:[8,3,1,3],longdashdotdot:[8,3,1,3,1,3]};_3b("dojox.gfx.svg.Shape",gs.Shape,{setFill:function(_48){if(!_48){this.fillStyle=null;this.rawNode.setAttribute("fill","none");this.rawNode.setAttribute("fill-opacity",0);return this;}var f;var _49=function(x){this.setAttribute(x,f[x].toFixed(8));};if(typeof (_48)=="object"&&"type" in _48){switch(_48.type){case "linear":f=g.makeParameters(g.defaultLinearGradient,_48);var _4a=this._setFillObject(f,"linearGradient");arr.forEach(["x1","y1","x2","y2"],_49,_4a);break;case "radial":f=g.makeParameters(g.defaultRadialGradient,_48);var _4b=this._setFillObject(f,"radialGradient");arr.forEach(["cx","cy","r"],_49,_4b);break;case "pattern":f=g.makeParameters(g.defaultPattern,_48);var _4c=this._setFillObject(f,"pattern");arr.forEach(["x","y","width","height"],_49,_4c);break;}this.fillStyle=f;return this;}f=g.normalizeColor(_48);this.fillStyle=f;this.rawNode.setAttribute("fill",f.toCss());this.rawNode.setAttribute("fill-opacity",f.a);this.rawNode.setAttribute("fill-rule","evenodd");return this;},setStroke:function(_4d){var rn=this.rawNode;if(!_4d){this.strokeStyle=null;rn.setAttribute("stroke","none");rn.setAttribute("stroke-opacity",0);return this;}if(typeof _4d=="string"||_3a.isArray(_4d)||_4d instanceof _3d){_4d={color:_4d};}var s=this.strokeStyle=g.makeParameters(g.defaultStroke,_4d);s.color=g.normalizeColor(s.color);if(s){rn.setAttribute("stroke",s.color.toCss());rn.setAttribute("stroke-opacity",s.color.a);rn.setAttribute("stroke-width",s.width);rn.setAttribute("stroke-linecap",s.cap);if(typeof s.join=="number"){rn.setAttribute("stroke-linejoin","miter");rn.setAttribute("stroke-miterlimit",s.join);}else{rn.setAttribute("stroke-linejoin",s.join);}var da=s.style.toLowerCase();if(da in svg.dasharray){da=svg.dasharray[da];}if(da instanceof Array){da=_3a._toArray(da);for(var i=0;i<da.length;++i){da[i]*=s.width;}if(s.cap!="butt"){for(var i=0;i<da.length;i+=2){da[i]-=s.width;if(da[i]<1){da[i]=1;}}for(var i=1;i<da.length;i+=2){da[i]+=s.width;}}da=da.join(",");}rn.setAttribute("stroke-dasharray",da);rn.setAttribute("dojoGfxStrokeStyle",s.style);}return this;},_getParentSurface:function(){var _4e=this.parent;for(;_4e&&!(_4e instanceof g.Surface);_4e=_4e.parent){}return _4e;},_setFillObject:function(f,_4f){var _50=svg.xmlns.svg;this.fillStyle=f;var _51=this._getParentSurface(),_52=_51.defNode,_53=this.rawNode.getAttribute("fill"),ref=svg.getRef(_53);if(ref){_53=ref;if(_53.tagName.toLowerCase()!=_4f.toLowerCase()){var id=_53.id;_53.parentNode.removeChild(_53);_53=_42(_50,_4f);_53.setAttribute("id",id);_52.appendChild(_53);}else{while(_53.childNodes.length){_53.removeChild(_53.lastChild);}}}else{_53=_42(_50,_4f);_53.setAttribute("id",g._base._getUniqueId());_52.appendChild(_53);}if(_4f=="pattern"){_53.setAttribute("patternUnits","userSpaceOnUse");var img=_42(_50,"image");img.setAttribute("x",0);img.setAttribute("y",0);img.setAttribute("width",f.width.toFixed(8));img.setAttribute("height",f.height.toFixed(8));img.setAttributeNS(svg.xmlns.xlink,"xlink:href",f.src);_53.appendChild(img);}else{_53.setAttribute("gradientUnits","userSpaceOnUse");for(var i=0;i<f.colors.length;++i){var c=f.colors[i],t=_42(_50,"stop"),cc=c.color=g.normalizeColor(c.color);t.setAttribute("offset",c.offset.toFixed(8));t.setAttribute("stop-color",cc.toCss());t.setAttribute("stop-opacity",cc.a);_53.appendChild(t);}}this.rawNode.setAttribute("fill","url(#"+_53.getAttribute("id")+")");this.rawNode.removeAttribute("fill-opacity");this.rawNode.setAttribute("fill-rule","evenodd");return _53;},_applyTransform:function(){var _54=this.matrix;if(_54){var tm=this.matrix;this.rawNode.setAttribute("transform","matrix("+tm.xx.toFixed(8)+","+tm.yx.toFixed(8)+","+tm.xy.toFixed(8)+","+tm.yy.toFixed(8)+","+tm.dx.toFixed(8)+","+tm.dy.toFixed(8)+")");}else{this.rawNode.removeAttribute("transform");}return this;},setRawNode:function(_55){var r=this.rawNode=_55;if(this.shape.type!="image"){r.setAttribute("fill","none");}r.setAttribute("fill-opacity",0);r.setAttribute("stroke","none");r.setAttribute("stroke-opacity",0);r.setAttribute("stroke-width",1);r.setAttribute("stroke-linecap","butt");r.setAttribute("stroke-linejoin","miter");r.setAttribute("stroke-miterlimit",4);r.__gfxObject__=this.getUID();},setShape:function(_56){this.shape=g.makeParameters(this.shape,_56);for(var i in this.shape){if(i!="type"){this.rawNode.setAttribute(i,this.shape[i]);}}this.bbox=null;return this;},_moveToFront:function(){this.rawNode.parentNode.appendChild(this.rawNode);return this;},_moveToBack:function(){this.rawNode.parentNode.insertBefore(this.rawNode,this.rawNode.parentNode.firstChild);return this;}});_3b("dojox.gfx.svg.Group",svg.Shape,{constructor:function(){gs.Container._init.call(this);},setRawNode:function(_57){this.rawNode=_57;this.rawNode.__gfxObject__=this.getUID();}});svg.Group.nodeType="g";_3b("dojox.gfx.svg.Rect",[svg.Shape,gs.Rect],{setShape:function(_58){this.shape=g.makeParameters(this.shape,_58);this.bbox=null;for(var i in this.shape){if(i!="type"&&i!="r"){this.rawNode.setAttribute(i,this.shape[i]);}}if(this.shape.r!=null){this.rawNode.setAttribute("ry",this.shape.r);this.rawNode.setAttribute("rx",this.shape.r);}return this;}});svg.Rect.nodeType="rect";_3b("dojox.gfx.svg.Ellipse",[svg.Shape,gs.Ellipse],{});svg.Ellipse.nodeType="ellipse";_3b("dojox.gfx.svg.Circle",[svg.Shape,gs.Circle],{});svg.Circle.nodeType="circle";_3b("dojox.gfx.svg.Line",[svg.Shape,gs.Line],{});svg.Line.nodeType="line";_3b("dojox.gfx.svg.Polyline",[svg.Shape,gs.Polyline],{setShape:function(_59,_5a){if(_59&&_59 instanceof Array){this.shape=g.makeParameters(this.shape,{points:_59});if(_5a&&this.shape.points.length){this.shape.points.push(this.shape.points[0]);}}else{this.shape=g.makeParameters(this.shape,_59);}this.bbox=null;this._normalizePoints();var _5b=[],p=this.shape.points;for(var i=0;i<p.length;++i){_5b.push(p[i].x.toFixed(8),p[i].y.toFixed(8));}this.rawNode.setAttribute("points",_5b.join(" "));return this;}});svg.Polyline.nodeType="polyline";_3b("dojox.gfx.svg.Image",[svg.Shape,gs.Image],{setShape:function(_5c){this.shape=g.makeParameters(this.shape,_5c);this.bbox=null;var _5d=this.rawNode;for(var i in this.shape){if(i!="type"&&i!="src"){_5d.setAttribute(i,this.shape[i]);}}_5d.setAttribute("preserveAspectRatio","none");_5d.setAttributeNS(svg.xmlns.xlink,"xlink:href",this.shape.src);_5d.__gfxObject__=this.getUID();return this;}});svg.Image.nodeType="image";_3b("dojox.gfx.svg.Text",[svg.Shape,gs.Text],{setShape:function(_5e){this.shape=g.makeParameters(this.shape,_5e);this.bbox=null;var r=this.rawNode,s=this.shape;r.setAttribute("x",s.x);r.setAttribute("y",s.y);r.setAttribute("text-anchor",s.align);r.setAttribute("text-decoration",s.decoration);r.setAttribute("rotate",s.rotated?90:0);r.setAttribute("kerning",s.kerning?"auto":0);r.setAttribute("text-rendering",_41);if(r.firstChild){r.firstChild.nodeValue=s.text;}else{r.appendChild(_44(s.text));}return this;},getTextWidth:function(){var _5f=this.rawNode,_60=_5f.parentNode,_61=_5f.cloneNode(true);_61.style.visibility="hidden";var _62=0,_63=_61.firstChild.nodeValue;_60.appendChild(_61);if(_63!=""){while(!_62){if(_61.getBBox){_62=parseInt(_61.getBBox().width);}else{_62=68;}}}_60.removeChild(_61);return _62;}});svg.Text.nodeType="text";_3b("dojox.gfx.svg.Path",[svg.Shape,_3e.Path],{_updateWithSegment:function(_64){this.inherited(arguments);if(typeof (this.shape.path)=="string"){this.rawNode.setAttribute("d",this.shape.path);}},setShape:function(_65){this.inherited(arguments);if(this.shape.path){this.rawNode.setAttribute("d",this.shape.path);}else{this.rawNode.removeAttribute("d");}return this;}});svg.Path.nodeType="path";_3b("dojox.gfx.svg.TextPath",[svg.Shape,_3e.TextPath],{_updateWithSegment:function(_66){this.inherited(arguments);this._setTextPath();},setShape:function(_67){this.inherited(arguments);this._setTextPath();return this;},_setTextPath:function(){if(typeof this.shape.path!="string"){return;}var r=this.rawNode;if(!r.firstChild){var tp=_42(svg.xmlns.svg,"textPath"),tx=_44("");tp.appendChild(tx);r.appendChild(tp);}var ref=r.firstChild.getAttributeNS(svg.xmlns.xlink,"href"),_68=ref&&svg.getRef(ref);if(!_68){var _69=this._getParentSurface();if(_69){var _6a=_69.defNode;_68=_42(svg.xmlns.svg,"path");var id=g._base._getUniqueId();_68.setAttribute("id",id);_6a.appendChild(_68);r.firstChild.setAttributeNS(svg.xmlns.xlink,"xlink:href","#"+id);}}if(_68){_68.setAttribute("d",this.shape.path);}},_setText:function(){var r=this.rawNode;if(!r.firstChild){var tp=_42(svg.xmlns.svg,"textPath"),tx=_44("");tp.appendChild(tx);r.appendChild(tp);}r=r.firstChild;var t=this.text;r.setAttribute("alignment-baseline","middle");switch(t.align){case "middle":r.setAttribute("text-anchor","middle");r.setAttribute("startOffset","50%");break;case "end":r.setAttribute("text-anchor","end");r.setAttribute("startOffset","100%");break;default:r.setAttribute("text-anchor","start");r.setAttribute("startOffset","0%");break;}r.setAttribute("baseline-shift","0.5ex");r.setAttribute("text-decoration",t.decoration);r.setAttribute("rotate",t.rotated?90:0);r.setAttribute("kerning",t.kerning?"auto":0);r.firstChild.data=t.text;}});svg.TextPath.nodeType="text";_3b("dojox.gfx.svg.Surface",gs.Surface,{constructor:function(){gs.Container._init.call(this);},destroy:function(){this.defNode=null;this.inherited(arguments);},setDimensions:function(_6b,_6c){if(!this.rawNode){return this;}this.rawNode.setAttribute("width",_6b);this.rawNode.setAttribute("height",_6c);return this;},getDimensions:function(){var t=this.rawNode?{width:g.normalizedLength(this.rawNode.getAttribute("width")),height:g.normalizedLength(this.rawNode.getAttribute("height"))}:null;return t;}});svg.createSurface=function(_6d,_6e,_6f){var s=new svg.Surface();s.rawNode=_42(svg.xmlns.svg,"svg");s.rawNode.setAttribute("overflow","hidden");if(_6e){s.rawNode.setAttribute("width",_6e);}if(_6f){s.rawNode.setAttribute("height",_6f);}var _70=_42(svg.xmlns.svg,"defs");s.rawNode.appendChild(_70);s.defNode=_70;s._parent=dom.byId(_6d);s._parent.appendChild(s.rawNode);return s;};var _71={_setFont:function(){var f=this.fontStyle;this.rawNode.setAttribute("font-style",f.style);this.rawNode.setAttribute("font-variant",f.variant);this.rawNode.setAttribute("font-weight",f.weight);this.rawNode.setAttribute("font-size",f.size);this.rawNode.setAttribute("font-family",f.family);}};var C=gs.Container,_72={openBatch:function(){this.fragment=_46();},closeBatch:function(){if(this.fragment){this.rawNode.appendChild(this.fragment);delete this.fragment;}},add:function(_73){if(this!=_73.getParent()){if(this.fragment){this.fragment.appendChild(_73.rawNode);}else{this.rawNode.appendChild(_73.rawNode);}C.add.apply(this,arguments);}return this;},remove:function(_74,_75){if(this==_74.getParent()){if(this.rawNode==_74.rawNode.parentNode){this.rawNode.removeChild(_74.rawNode);}if(this.fragment&&this.fragment==_74.rawNode.parentNode){this.fragment.removeChild(_74.rawNode);}C.remove.apply(this,arguments);}return this;},clear:function(){var r=this.rawNode;while(r.lastChild){r.removeChild(r.lastChild);}var _76=this.defNode;if(_76){while(_76.lastChild){_76.removeChild(_76.lastChild);}r.appendChild(_76);}return C.clear.apply(this,arguments);},_moveChildToFront:C._moveChildToFront,_moveChildToBack:C._moveChildToBack};var _77={createObject:function(_78,_79){if(!this.rawNode){return null;}var _7a=new _78(),_7b=_42(svg.xmlns.svg,_78.nodeType);_7a.setRawNode(_7b);_7a.setShape(_79);this.add(_7a);return _7a;}};_3a.extend(svg.Text,_71);_3a.extend(svg.TextPath,_71);_3a.extend(svg.Group,_72);_3a.extend(svg.Group,gs.Creator);_3a.extend(svg.Group,_77);_3a.extend(svg.Surface,_72);_3a.extend(svg.Surface,gs.Creator);_3a.extend(svg.Surface,_77);svg.fixTarget=function(_7c,_7d){if(!_7c.gfxTarget){if(_3f&&_7c.target.wholeText){_7c.gfxTarget=gs.byId(_7c.target.parentElement.__gfxObject__);}else{_7c.gfxTarget=gs.byId(_7c.target.__gfxObject__);}}return true;};if(svg.useSvgWeb){svg.createSurface=function(_7e,_7f,_80){var s=new svg.Surface();if(!_7f||!_80){var pos=_3c.position(_7e);_7f=_7f||pos.w;_80=_80||pos.h;}_7e=dom.byId(_7e);var id=_7e.id?_7e.id+"_svgweb":g._base._getUniqueId();var _81=_42(svg.xmlns.svg,"svg");_81.id=id;_81.setAttribute("width",_7f);_81.setAttribute("height",_80);svgweb.appendChild(_81,_7e);_81.addEventListener("SVGLoad",function(){s.rawNode=this;s.isLoaded=true;var _82=_42(svg.xmlns.svg,"defs");s.rawNode.appendChild(_82);s.defNode=_82;if(s.onLoad){s.onLoad(s);}},false);s.isLoaded=false;return s;};svg.Surface.extend({destroy:function(){var _83=this.rawNode;svgweb.removeChild(_83,_83.parentNode);}});var _84={connect:function(_85,_86,_87){if(_85.substring(0,2)==="on"){_85=_85.substring(2);}if(arguments.length==2){_87=_86;}else{_87=_3a.hitch(_86,_87);}this.getEventSource().addEventListener(_85,_87,false);return [this,_85,_87];},disconnect:function(_88){this.getEventSource().removeEventListener(_88[1],_88[2],false);delete _88[0];}};_3a.extend(svg.Shape,_84);_3a.extend(svg.Surface,_84);}return svg;});},"dojox/gfx/path":function(){define("dojox/gfx/path",["./_base","dojo/_base/lang","dojo/_base/declare","./matrix","./shape"],function(g,_89,_8a,_8b,_8c){var _8d=g.path={};var _8e=_8a("dojox.gfx.path.Path",_8c.Shape,{constructor:function(_8f){this.shape=_89.clone(g.defaultPath);this.segments=[];this.tbbox=null;this.absolute=true;this.last={};this.rawNode=_8f;this.segmented=false;},setAbsoluteMode:function(_90){this._confirmSegmented();this.absolute=typeof _90=="string"?(_90=="absolute"):_90;return this;},getAbsoluteMode:function(){this._confirmSegmented();return this.absolute;},getBoundingBox:function(){this._confirmSegmented();return (this.bbox&&("l" in this.bbox))?{x:this.bbox.l,y:this.bbox.t,width:this.bbox.r-this.bbox.l,height:this.bbox.b-this.bbox.t}:null;},_getRealBBox:function(){this._confirmSegmented();if(this.tbbox){return this.tbbox;}var _91=this.bbox,_8b=this._getRealMatrix();this.bbox=null;for(var i=0,len=this.segments.length;i<len;++i){this._updateWithSegment(this.segments[i],_8b);}var t=this.bbox;this.bbox=_91;this.tbbox=t?[{x:t.l,y:t.t},{x:t.r,y:t.t},{x:t.r,y:t.b},{x:t.l,y:t.b}]:null;return this.tbbox;},getLastPosition:function(){this._confirmSegmented();return "x" in this.last?this.last:null;},_applyTransform:function(){this.tbbox=null;return this.inherited(arguments);},_updateBBox:function(x,y,m){if(m){var t=_8b.multiplyPoint(m,x,y);x=t.x;y=t.y;}if(this.bbox&&("l" in this.bbox)){if(this.bbox.l>x){this.bbox.l=x;}if(this.bbox.r<x){this.bbox.r=x;}if(this.bbox.t>y){this.bbox.t=y;}if(this.bbox.b<y){this.bbox.b=y;}}else{this.bbox={l:x,b:y,r:x,t:y};}},_updateWithSegment:function(_92,_93){var n=_92.args,l=n.length,i;switch(_92.action){case "M":case "L":case "C":case "S":case "Q":case "T":for(i=0;i<l;i+=2){this._updateBBox(n[i],n[i+1],_93);}this.last.x=n[l-2];this.last.y=n[l-1];this.absolute=true;break;case "H":for(i=0;i<l;++i){this._updateBBox(n[i],this.last.y,_93);}this.last.x=n[l-1];this.absolute=true;break;case "V":for(i=0;i<l;++i){this._updateBBox(this.last.x,n[i],_93);}this.last.y=n[l-1];this.absolute=true;break;case "m":var _94=0;if(!("x" in this.last)){this._updateBBox(this.last.x=n[0],this.last.y=n[1],_93);_94=2;}for(i=_94;i<l;i+=2){this._updateBBox(this.last.x+=n[i],this.last.y+=n[i+1],_93);}this.absolute=false;break;case "l":case "t":for(i=0;i<l;i+=2){this._updateBBox(this.last.x+=n[i],this.last.y+=n[i+1],_93);}this.absolute=false;break;case "h":for(i=0;i<l;++i){this._updateBBox(this.last.x+=n[i],this.last.y,_93);}this.absolute=false;break;case "v":for(i=0;i<l;++i){this._updateBBox(this.last.x,this.last.y+=n[i],_93);}this.absolute=false;break;case "c":for(i=0;i<l;i+=6){this._updateBBox(this.last.x+n[i],this.last.y+n[i+1],_93);this._updateBBox(this.last.x+n[i+2],this.last.y+n[i+3],_93);this._updateBBox(this.last.x+=n[i+4],this.last.y+=n[i+5],_93);}this.absolute=false;break;case "s":case "q":for(i=0;i<l;i+=4){this._updateBBox(this.last.x+n[i],this.last.y+n[i+1],_93);this._updateBBox(this.last.x+=n[i+2],this.last.y+=n[i+3],_93);}this.absolute=false;break;case "A":for(i=0;i<l;i+=7){this._updateBBox(n[i+5],n[i+6],_93);}this.last.x=n[l-2];this.last.y=n[l-1];this.absolute=true;break;case "a":for(i=0;i<l;i+=7){this._updateBBox(this.last.x+=n[i+5],this.last.y+=n[i+6],_93);}this.absolute=false;break;}var _95=[_92.action];for(i=0;i<l;++i){_95.push(g.formatNumber(n[i],true));}if(typeof this.shape.path=="string"){this.shape.path+=_95.join("");}else{for(i=0,l=_95.length;i<l;++i){this.shape.path.push(_95[i]);}}},_validSegments:{m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7,z:0},_pushSegment:function(_96,_97){this.tbbox=null;var _98=this._validSegments[_96.toLowerCase()],_99;if(typeof _98=="number"){if(_98){if(_97.length>=_98){_99={action:_96,args:_97.slice(0,_97.length-_97.length%_98)};this.segments.push(_99);this._updateWithSegment(_99);}}else{_99={action:_96,args:[]};this.segments.push(_99);this._updateWithSegment(_99);}}},_collectArgs:function(_9a,_9b){for(var i=0;i<_9b.length;++i){var t=_9b[i];if(typeof t=="boolean"){_9a.push(t?1:0);}else{if(typeof t=="number"){_9a.push(t);}else{if(t instanceof Array){this._collectArgs(_9a,t);}else{if("x" in t&&"y" in t){_9a.push(t.x,t.y);}}}}}},moveTo:function(){this._confirmSegmented();var _9c=[];this._collectArgs(_9c,arguments);this._pushSegment(this.absolute?"M":"m",_9c);return this;},lineTo:function(){this._confirmSegmented();var _9d=[];this._collectArgs(_9d,arguments);this._pushSegment(this.absolute?"L":"l",_9d);return this;},hLineTo:function(){this._confirmSegmented();var _9e=[];this._collectArgs(_9e,arguments);this._pushSegment(this.absolute?"H":"h",_9e);return this;},vLineTo:function(){this._confirmSegmented();var _9f=[];this._collectArgs(_9f,arguments);this._pushSegment(this.absolute?"V":"v",_9f);return this;},curveTo:function(){this._confirmSegmented();var _a0=[];this._collectArgs(_a0,arguments);this._pushSegment(this.absolute?"C":"c",_a0);return this;},smoothCurveTo:function(){this._confirmSegmented();var _a1=[];this._collectArgs(_a1,arguments);this._pushSegment(this.absolute?"S":"s",_a1);return this;},qCurveTo:function(){this._confirmSegmented();var _a2=[];this._collectArgs(_a2,arguments);this._pushSegment(this.absolute?"Q":"q",_a2);return this;},qSmoothCurveTo:function(){this._confirmSegmented();var _a3=[];this._collectArgs(_a3,arguments);this._pushSegment(this.absolute?"T":"t",_a3);return this;},arcTo:function(){this._confirmSegmented();var _a4=[];this._collectArgs(_a4,arguments);this._pushSegment(this.absolute?"A":"a",_a4);return this;},closePath:function(){this._confirmSegmented();this._pushSegment("Z",[]);return this;},_confirmSegmented:function(){if(!this.segmented){var _a5=this.shape.path;this.shape.path=[];this._setPath(_a5);this.shape.path=this.shape.path.join("");this.segmented=true;}},_setPath:function(_a6){var p=_89.isArray(_a6)?_a6:_a6.match(g.pathSvgRegExp);this.segments=[];this.absolute=true;this.bbox={};this.last={};if(!p){return;}var _a7="",_a8=[],l=p.length;for(var i=0;i<l;++i){var t=p[i],x=parseFloat(t);if(isNaN(x)){if(_a7){this._pushSegment(_a7,_a8);}_a8=[];_a7=t;}else{_a8.push(x);}}this._pushSegment(_a7,_a8);},setShape:function(_a9){this.inherited(arguments,[typeof _a9=="string"?{path:_a9}:_a9]);this.segmented=false;this.segments=[];if(!g.lazyPathSegmentation){this._confirmSegmented();}return this;},_2PI:Math.PI*2});var _aa=_8a("dojox.gfx.path.TextPath",_8e,{constructor:function(_ab){if(!("text" in this)){this.text=_89.clone(g.defaultTextPath);}if(!("fontStyle" in this)){this.fontStyle=_89.clone(g.defaultFont);}},getText:function(){return this.text;},setText:function(_ac){this.text=g.makeParameters(this.text,typeof _ac=="string"?{text:_ac}:_ac);this._setText();return this;},getFont:function(){return this.fontStyle;},setFont:function(_ad){this.fontStyle=typeof _ad=="string"?g.splitFontString(_ad):g.makeParameters(g.defaultFont,_ad);this._setFont();return this;}});return {Path:_8e,TextPath:_aa};});},"dojox/gfx/matrix":function(){define("dojox/gfx/matrix",["./_base","dojo/_base/lang"],function(g,_ae){var m=g.matrix={};var _af={};m._degToRad=function(_b0){return _af[_b0]||(_af[_b0]=(Math.PI*_b0/180));};m._radToDeg=function(_b1){return _b1/Math.PI*180;};m.Matrix2D=function(arg){if(arg){if(typeof arg=="number"){this.xx=this.yy=arg;}else{if(arg instanceof Array){if(arg.length>0){var _b2=m.normalize(arg[0]);for(var i=1;i<arg.length;++i){var l=_b2,r=m.normalize(arg[i]);_b2=new m.Matrix2D();_b2.xx=l.xx*r.xx+l.xy*r.yx;_b2.xy=l.xx*r.xy+l.xy*r.yy;_b2.yx=l.yx*r.xx+l.yy*r.yx;_b2.yy=l.yx*r.xy+l.yy*r.yy;_b2.dx=l.xx*r.dx+l.xy*r.dy+l.dx;_b2.dy=l.yx*r.dx+l.yy*r.dy+l.dy;}_ae.mixin(this,_b2);}}else{_ae.mixin(this,arg);}}}};_ae.extend(m.Matrix2D,{xx:1,xy:0,yx:0,yy:1,dx:0,dy:0});_ae.mixin(m,{identity:new m.Matrix2D(),flipX:new m.Matrix2D({xx:-1}),flipY:new m.Matrix2D({yy:-1}),flipXY:new m.Matrix2D({xx:-1,yy:-1}),translate:function(a,b){if(arguments.length>1){return new m.Matrix2D({dx:a,dy:b});}return new m.Matrix2D({dx:a.x,dy:a.y});},scale:function(a,b){if(arguments.length>1){return new m.Matrix2D({xx:a,yy:b});}if(typeof a=="number"){return new m.Matrix2D({xx:a,yy:a});}return new m.Matrix2D({xx:a.x,yy:a.y});},rotate:function(_b3){var c=Math.cos(_b3);var s=Math.sin(_b3);return new m.Matrix2D({xx:c,xy:-s,yx:s,yy:c});},rotateg:function(_b4){return m.rotate(m._degToRad(_b4));},skewX:function(_b5){return new m.Matrix2D({xy:Math.tan(_b5)});},skewXg:function(_b6){return m.skewX(m._degToRad(_b6));},skewY:function(_b7){return new m.Matrix2D({yx:Math.tan(_b7)});},skewYg:function(_b8){return m.skewY(m._degToRad(_b8));},reflect:function(a,b){if(arguments.length==1){b=a.y;a=a.x;}var a2=a*a,b2=b*b,n2=a2+b2,xy=2*a*b/n2;return new m.Matrix2D({xx:2*a2/n2-1,xy:xy,yx:xy,yy:2*b2/n2-1});},project:function(a,b){if(arguments.length==1){b=a.y;a=a.x;}var a2=a*a,b2=b*b,n2=a2+b2,xy=a*b/n2;return new m.Matrix2D({xx:a2/n2,xy:xy,yx:xy,yy:b2/n2});},normalize:function(_b9){return (_b9 instanceof m.Matrix2D)?_b9:new m.Matrix2D(_b9);},clone:function(_ba){var obj=new m.Matrix2D();for(var i in _ba){if(typeof (_ba[i])=="number"&&typeof (obj[i])=="number"&&obj[i]!=_ba[i]){obj[i]=_ba[i];}}return obj;},invert:function(_bb){var M=m.normalize(_bb),D=M.xx*M.yy-M.xy*M.yx;M=new m.Matrix2D({xx:M.yy/D,xy:-M.xy/D,yx:-M.yx/D,yy:M.xx/D,dx:(M.xy*M.dy-M.yy*M.dx)/D,dy:(M.yx*M.dx-M.xx*M.dy)/D});return M;},_multiplyPoint:function(_bc,x,y){return {x:_bc.xx*x+_bc.xy*y+_bc.dx,y:_bc.yx*x+_bc.yy*y+_bc.dy};},multiplyPoint:function(_bd,a,b){var M=m.normalize(_bd);if(typeof a=="number"&&typeof b=="number"){return m._multiplyPoint(M,a,b);}return m._multiplyPoint(M,a.x,a.y);},multiply:function(_be){var M=m.normalize(_be);for(var i=1;i<arguments.length;++i){var l=M,r=m.normalize(arguments[i]);M=new m.Matrix2D();M.xx=l.xx*r.xx+l.xy*r.yx;M.xy=l.xx*r.xy+l.xy*r.yy;M.yx=l.yx*r.xx+l.yy*r.yx;M.yy=l.yx*r.xy+l.yy*r.yy;M.dx=l.xx*r.dx+l.xy*r.dy+l.dx;M.dy=l.yx*r.dx+l.yy*r.dy+l.dy;}return M;},_sandwich:function(_bf,x,y){return m.multiply(m.translate(x,y),_bf,m.translate(-x,-y));},scaleAt:function(a,b,c,d){switch(arguments.length){case 4:return m._sandwich(m.scale(a,b),c,d);case 3:if(typeof c=="number"){return m._sandwich(m.scale(a),b,c);}return m._sandwich(m.scale(a,b),c.x,c.y);}return m._sandwich(m.scale(a),b.x,b.y);},rotateAt:function(_c0,a,b){if(arguments.length>2){return m._sandwich(m.rotate(_c0),a,b);}return m._sandwich(m.rotate(_c0),a.x,a.y);},rotategAt:function(_c1,a,b){if(arguments.length>2){return m._sandwich(m.rotateg(_c1),a,b);}return m._sandwich(m.rotateg(_c1),a.x,a.y);},skewXAt:function(_c2,a,b){if(arguments.length>2){return m._sandwich(m.skewX(_c2),a,b);}return m._sandwich(m.skewX(_c2),a.x,a.y);},skewXgAt:function(_c3,a,b){if(arguments.length>2){return m._sandwich(m.skewXg(_c3),a,b);}return m._sandwich(m.skewXg(_c3),a.x,a.y);},skewYAt:function(_c4,a,b){if(arguments.length>2){return m._sandwich(m.skewY(_c4),a,b);}return m._sandwich(m.skewY(_c4),a.x,a.y);},skewYgAt:function(_c5,a,b){if(arguments.length>2){return m._sandwich(m.skewYg(_c5),a,b);}return m._sandwich(m.skewYg(_c5),a.x,a.y);}});g.Matrix2D=m.Matrix2D;return m;});},"dojox/gfx/_base":function(){define("dojox/gfx/_base",["dojo/_base/lang","dojo/_base/html","dojo/_base/Color","dojo/_base/sniff","dojo/_base/window","dojo/_base/array","dojo/dom","dojo/dom-construct","dojo/dom-geometry"],function(_c6,_c7,_c8,has,win,arr,dom,_c9,_ca){var g=_c6.getObject("dojox.gfx",true),b=g._base={};g._hasClass=function(_cb,_cc){var cls=_cb.getAttribute("className");return cls&&(" "+cls+" ").indexOf(" "+_cc+" ")>=0;};g._addClass=function(_cd,_ce){var cls=_cd.getAttribute("className")||"";if(!cls||(" "+cls+" ").indexOf(" "+_ce+" ")<0){_cd.setAttribute("className",cls+(cls?" ":"")+_ce);}};g._removeClass=function(_cf,_d0){var cls=_cf.getAttribute("className");if(cls){_cf.setAttribute("className",cls.replace(new RegExp("(^|\\s+)"+_d0+"(\\s+|$)"),"$1$2"));}};b._getFontMeasurements=function(){var _d1={"1em":0,"1ex":0,"100%":0,"12pt":0,"16px":0,"xx-small":0,"x-small":0,"small":0,"medium":0,"large":0,"x-large":0,"xx-large":0};var p;if(has("ie")){win.doc.documentElement.style.fontSize="100%";}var div=_c9.create("div",{style:{position:"absolute",left:"0",top:"-100px",width:"30px",height:"1000em",borderWidth:"0",margin:"0",padding:"0",outline:"none",lineHeight:"1",overflow:"hidden"}},win.body());for(p in _d1){div.style.fontSize=p;_d1[p]=Math.round(div.offsetHeight*12/16)*16/12/1000;}win.body().removeChild(div);return _d1;};var _d2=null;b._getCachedFontMeasurements=function(_d3){if(_d3||!_d2){_d2=b._getFontMeasurements();}return _d2;};var _d4=null,_d5={};b._getTextBox=function(_d6,_d7,_d8){var m,s,al=arguments.length;var i;if(!_d4){_d4=_c9.create("div",{style:{position:"absolute",top:"-10000px",left:"0"}},win.body());}m=_d4;m.className="";s=m.style;s.borderWidth="0";s.margin="0";s.padding="0";s.outline="0";if(al>1&&_d7){for(i in _d7){if(i in _d5){continue;}s[i]=_d7[i];}}if(al>2&&_d8){m.className=_d8;}m.innerHTML=_d6;if(m["getBoundingClientRect"]){var bcr=m.getBoundingClientRect();return {l:bcr.left,t:bcr.top,w:bcr.width||(bcr.right-bcr.left),h:bcr.height||(bcr.bottom-bcr.top)};}else{return _ca.getMarginBox(m);}};var _d9=0;b._getUniqueId=function(){var id;do{id=dojo._scopeName+"xUnique"+(++_d9);}while(dom.byId(id));return id;};_c6.mixin(g,{defaultPath:{type:"path",path:""},defaultPolyline:{type:"polyline",points:[]},defaultRect:{type:"rect",x:0,y:0,width:100,height:100,r:0},defaultEllipse:{type:"ellipse",cx:0,cy:0,rx:200,ry:100},defaultCircle:{type:"circle",cx:0,cy:0,r:100},defaultLine:{type:"line",x1:0,y1:0,x2:100,y2:100},defaultImage:{type:"image",x:0,y:0,width:0,height:0,src:""},defaultText:{type:"text",x:0,y:0,text:"",align:"start",decoration:"none",rotated:false,kerning:true},defaultTextPath:{type:"textpath",text:"",align:"start",decoration:"none",rotated:false,kerning:true},defaultStroke:{type:"stroke",color:"black",style:"solid",width:1,cap:"butt",join:4},defaultLinearGradient:{type:"linear",x1:0,y1:0,x2:100,y2:100,colors:[{offset:0,color:"black"},{offset:1,color:"white"}]},defaultRadialGradient:{type:"radial",cx:0,cy:0,r:100,colors:[{offset:0,color:"black"},{offset:1,color:"white"}]},defaultPattern:{type:"pattern",x:0,y:0,width:0,height:0,src:""},defaultFont:{type:"font",style:"normal",variant:"normal",weight:"normal",size:"10pt",family:"serif"},getDefault:(function(){var _da={};return function(_db){var t=_da[_db];if(t){return new t();}t=_da[_db]=new Function();t.prototype=g["default"+_db];return new t();};})(),normalizeColor:function(_dc){return (_dc instanceof _c8)?_dc:new _c8(_dc);},normalizeParameters:function(_dd,_de){var x;if(_de){var _df={};for(x in _dd){if(x in _de&&!(x in _df)){_dd[x]=_de[x];}}}return _dd;},makeParameters:function(_e0,_e1){var i=null;if(!_e1){return _c6.delegate(_e0);}var _e2={};for(i in _e0){if(!(i in _e2)){_e2[i]=_c6.clone((i in _e1)?_e1[i]:_e0[i]);}}return _e2;},formatNumber:function(x,_e3){var val=x.toString();if(val.indexOf("e")>=0){val=x.toFixed(4);}else{var _e4=val.indexOf(".");if(_e4>=0&&val.length-_e4>5){val=x.toFixed(4);}}if(x<0){return val;}return _e3?" "+val:val;},makeFontString:function(_e5){return _e5.style+" "+_e5.variant+" "+_e5.weight+" "+_e5.size+" "+_e5.family;},splitFontString:function(str){var _e6=g.getDefault("Font");var t=str.split(/\s+/);do{if(t.length<5){break;}_e6.style=t[0];_e6.variant=t[1];_e6.weight=t[2];var i=t[3].indexOf("/");_e6.size=i<0?t[3]:t[3].substring(0,i);var j=4;if(i<0){if(t[4]=="/"){j=6;}else{if(t[4].charAt(0)=="/"){j=5;}}}if(j<t.length){_e6.family=t.slice(j).join(" ");}}while(false);return _e6;},cm_in_pt:72/2.54,mm_in_pt:7.2/2.54,px_in_pt:function(){return g._base._getCachedFontMeasurements()["12pt"]/12;},pt2px:function(len){return len*g.px_in_pt();},px2pt:function(len){return len/g.px_in_pt();},normalizedLength:function(len){if(len.length===0){return 0;}if(len.length>2){var _e7=g.px_in_pt();var val=parseFloat(len);switch(len.slice(-2)){case "px":return val;case "pt":return val*_e7;case "in":return val*72*_e7;case "pc":return val*12*_e7;case "mm":return val*g.mm_in_pt*_e7;case "cm":return val*g.cm_in_pt*_e7;}}return parseFloat(len);},pathVmlRegExp:/([A-Za-z]+)|(\d+(\.\d+)?)|(\.\d+)|(-\d+(\.\d+)?)|(-\.\d+)/g,pathSvgRegExp:/([A-Za-z])|(\d+(\.\d+)?)|(\.\d+)|(-\d+(\.\d+)?)|(-\.\d+)/g,equalSources:function(a,b){return a&&b&&a===b;},switchTo:function(_e8){var ns=typeof _e8=="string"?g[_e8]:_e8;if(ns){arr.forEach(["Group","Rect","Ellipse","Circle","Line","Polyline","Image","Text","Path","TextPath","Surface","createSurface","fixTarget"],function(_e9){g[_e9]=ns[_e9];});}}});return g;});},"dojox/gfx/shape":function(){define("dojox/gfx/shape",["./_base","dojo/_base/lang","dojo/_base/declare","dojo/_base/window","dojo/_base/sniff","dojo/_base/connect","dojo/_base/array","dojo/dom-construct","dojo/_base/Color","./matrix"],function(g,_ea,_eb,win,has,_ec,arr,_ed,_ee,_ef){var _f0=g.shape={};var _f1={};var _f2={};var _f3=0,_f4=has("ie")<9;function _f5(_f6){var _f7={};for(var key in _f6){if(_f6.hasOwnProperty(key)){_f7[key]=_f6[key];}}return _f7;};_f0.register=function(_f8){var t=_f8.declaredClass.split(".").pop();var i=t in _f1?++_f1[t]:((_f1[t]=0));var uid=t+i;_f2[uid]=_f8;return uid;};_f0.byId=function(id){return _f2[id];};_f0.dispose=function(_f9){delete _f2[_f9.getUID()];++_f3;if(_f4&&_f3>10000){_f2=_f5(_f2);_f3=0;}};_eb("dojox.gfx.shape.Shape",null,{constructor:function(){this.rawNode=null;this.shape=null;this.matrix=null;this.fillStyle=null;this.strokeStyle=null;this.bbox=null;this.parent=null;this.parentMatrix=null;var uid=_f0.register(this);this.getUID=function(){return uid;};},getNode:function(){return this.rawNode;},getShape:function(){return this.shape;},getTransform:function(){return this.matrix;},getFill:function(){return this.fillStyle;},getStroke:function(){return this.strokeStyle;},getParent:function(){return this.parent;},getBoundingBox:function(){return this.bbox;},getTransformedBoundingBox:function(){var b=this.getBoundingBox();if(!b){return null;}var m=this._getRealMatrix(),gm=_ef;return [gm.multiplyPoint(m,b.x,b.y),gm.multiplyPoint(m,b.x+b.width,b.y),gm.multiplyPoint(m,b.x+b.width,b.y+b.height),gm.multiplyPoint(m,b.x,b.y+b.height)];},getEventSource:function(){return this.rawNode;},setShape:function(_fa){this.shape=g.makeParameters(this.shape,_fa);this.bbox=null;return this;},setFill:function(_fb){if(!_fb){this.fillStyle=null;return this;}var f=null;if(typeof (_fb)=="object"&&"type" in _fb){switch(_fb.type){case "linear":f=g.makeParameters(g.defaultLinearGradient,_fb);break;case "radial":f=g.makeParameters(g.defaultRadialGradient,_fb);break;case "pattern":f=g.makeParameters(g.defaultPattern,_fb);break;}}else{f=g.normalizeColor(_fb);}this.fillStyle=f;return this;},setStroke:function(_fc){if(!_fc){this.strokeStyle=null;return this;}if(typeof _fc=="string"||_ea.isArray(_fc)||_fc instanceof _ee){_fc={color:_fc};}var s=this.strokeStyle=g.makeParameters(g.defaultStroke,_fc);s.color=g.normalizeColor(s.color);return this;},setTransform:function(_fd){this.matrix=_ef.clone(_fd?_ef.normalize(_fd):_ef.identity);return this._applyTransform();},_applyTransform:function(){return this;},moveToFront:function(){var p=this.getParent();if(p){p._moveChildToFront(this);this._moveToFront();}return this;},moveToBack:function(){var p=this.getParent();if(p){p._moveChildToBack(this);this._moveToBack();}return this;},_moveToFront:function(){},_moveToBack:function(){},applyRightTransform:function(_fe){return _fe?this.setTransform([this.matrix,_fe]):this;},applyLeftTransform:function(_ff){return _ff?this.setTransform([_ff,this.matrix]):this;},applyTransform:function(_100){return _100?this.setTransform([this.matrix,_100]):this;},removeShape:function(_101){if(this.parent){this.parent.remove(this,_101);}return this;},_setParent:function(_102,_103){this.parent=_102;return this._updateParentMatrix(_103);},_updateParentMatrix:function(_104){this.parentMatrix=_104?_ef.clone(_104):null;return this._applyTransform();},_getRealMatrix:function(){var m=this.matrix;var p=this.parent;while(p){if(p.matrix){m=_ef.multiply(p.matrix,m);}p=p.parent;}return m;}});_f0._eventsProcessing={connect:function(name,_105,_106){return _ec.connect(this.getEventSource(),name,_f0.fixCallback(this,g.fixTarget,_105,_106));},disconnect:function(_107){_ec.disconnect(_107);}};_f0.fixCallback=function(_108,_109,_10a,_10b){if(!_10b){_10b=_10a;_10a=null;}if(_ea.isString(_10b)){_10a=_10a||win.global;if(!_10a[_10b]){throw (["dojox.gfx.shape.fixCallback: scope[\"",_10b,"\"] is null (scope=\"",_10a,"\")"].join(""));}return function(e){return _109(e,_108)?_10a[_10b].apply(_10a,arguments||[]):undefined;};}return !_10a?function(e){return _109(e,_108)?_10b.apply(_10a,arguments):undefined;}:function(e){return _109(e,_108)?_10b.apply(_10a,arguments||[]):undefined;};};_ea.extend(_f0.Shape,_f0._eventsProcessing);_f0.Container={_init:function(){this.children=[];},openBatch:function(){},closeBatch:function(){},add:function(_10c){var _10d=_10c.getParent();if(_10d){_10d.remove(_10c,true);}this.children.push(_10c);return _10c._setParent(this,this._getRealMatrix());},remove:function(_10e,_10f){for(var i=0;i<this.children.length;++i){if(this.children[i]==_10e){if(_10f){}else{_10e.parent=null;_10e.parentMatrix=null;}this.children.splice(i,1);break;}}return this;},clear:function(){var _110;for(var i=0;i<this.children.length;++i){_110=this.children[i];_110.parent=null;_110.parentMatrix=null;}this.children=[];return this;},_moveChildToFront:function(_111){for(var i=0;i<this.children.length;++i){if(this.children[i]==_111){this.children.splice(i,1);this.children.push(_111);break;}}return this;},_moveChildToBack:function(_112){for(var i=0;i<this.children.length;++i){if(this.children[i]==_112){this.children.splice(i,1);this.children.unshift(_112);break;}}return this;}};_eb("dojox.gfx.shape.Surface",null,{constructor:function(){this.rawNode=null;this._parent=null;this._nodes=[];this._events=[];},destroy:function(){var _113=function(s){_f0.dispose(s);s.parent=null;if(s.children&&s.children.length){arr.forEach(s.children,_113);s.children=null;}};arr.forEach(this.children,_113);this.children=null;arr.forEach(this._nodes,_ed.destroy);this._nodes=[];arr.forEach(this._events,_ec.disconnect);this._events=[];this.rawNode=null;if(has("ie")){while(this._parent.lastChild){_ed.destroy(this._parent.lastChild);}}else{this._parent.innerHTML="";}this._parent=null;},getEventSource:function(){return this.rawNode;},_getRealMatrix:function(){return null;},isLoaded:true,onLoad:function(_114){},whenLoaded:function(_115,_116){var f=_ea.hitch(_115,_116);if(this.isLoaded){f(this);}else{var h=_ec.connect(this,"onLoad",function(_117){_ec.disconnect(h);f(_117);});}}});_ea.extend(_f0.Surface,_f0._eventsProcessing);_eb("dojox.gfx.Point",null,{});_eb("dojox.gfx.Rectangle",null,{});_eb("dojox.gfx.shape.Rect",_f0.Shape,{constructor:function(_118){this.shape=g.getDefault("Rect");this.rawNode=_118;},getBoundingBox:function(){return this.shape;}});_eb("dojox.gfx.shape.Ellipse",_f0.Shape,{constructor:function(_119){this.shape=g.getDefault("Ellipse");this.rawNode=_119;},getBoundingBox:function(){if(!this.bbox){var _11a=this.shape;this.bbox={x:_11a.cx-_11a.rx,y:_11a.cy-_11a.ry,width:2*_11a.rx,height:2*_11a.ry};}return this.bbox;}});_eb("dojox.gfx.shape.Circle",_f0.Shape,{constructor:function(_11b){this.shape=g.getDefault("Circle");this.rawNode=_11b;},getBoundingBox:function(){if(!this.bbox){var _11c=this.shape;this.bbox={x:_11c.cx-_11c.r,y:_11c.cy-_11c.r,width:2*_11c.r,height:2*_11c.r};}return this.bbox;}});_eb("dojox.gfx.shape.Line",_f0.Shape,{constructor:function(_11d){this.shape=g.getDefault("Line");this.rawNode=_11d;},getBoundingBox:function(){if(!this.bbox){var _11e=this.shape;this.bbox={x:Math.min(_11e.x1,_11e.x2),y:Math.min(_11e.y1,_11e.y2),width:Math.abs(_11e.x2-_11e.x1),height:Math.abs(_11e.y2-_11e.y1)};}return this.bbox;}});_eb("dojox.gfx.shape.Polyline",_f0.Shape,{constructor:function(_11f){this.shape=g.getDefault("Polyline");this.rawNode=_11f;},setShape:function(_120,_121){if(_120&&_120 instanceof Array){this.inherited(arguments,[{points:_120}]);if(_121&&this.shape.points.length){this.shape.points.push(this.shape.points[0]);}}else{this.inherited(arguments,[_120]);}return this;},_normalizePoints:function(){var p=this.shape.points,l=p&&p.length;if(l&&typeof p[0]=="number"){var _122=[];for(var i=0;i<l;i+=2){_122.push({x:p[i],y:p[i+1]});}this.shape.points=_122;}},getBoundingBox:function(){if(!this.bbox&&this.shape.points.length){var p=this.shape.points;var l=p.length;var t=p[0];var bbox={l:t.x,t:t.y,r:t.x,b:t.y};for(var i=1;i<l;++i){t=p[i];if(bbox.l>t.x){bbox.l=t.x;}if(bbox.r<t.x){bbox.r=t.x;}if(bbox.t>t.y){bbox.t=t.y;}if(bbox.b<t.y){bbox.b=t.y;}}this.bbox={x:bbox.l,y:bbox.t,width:bbox.r-bbox.l,height:bbox.b-bbox.t};}return this.bbox;}});_eb("dojox.gfx.shape.Image",_f0.Shape,{constructor:function(_123){this.shape=g.getDefault("Image");this.rawNode=_123;},getBoundingBox:function(){return this.shape;},setStroke:function(){return this;},setFill:function(){return this;}});_eb("dojox.gfx.shape.Text",_f0.Shape,{constructor:function(_124){this.fontStyle=null;this.shape=g.getDefault("Text");this.rawNode=_124;},getFont:function(){return this.fontStyle;},setFont:function(_125){this.fontStyle=typeof _125=="string"?g.splitFontString(_125):g.makeParameters(g.defaultFont,_125);this._setFont();return this;}});_f0.Creator={createShape:function(_126){switch(_126.type){case g.defaultPath.type:return this.createPath(_126);case g.defaultRect.type:return this.createRect(_126);case g.defaultCircle.type:return this.createCircle(_126);case g.defaultEllipse.type:return this.createEllipse(_126);case g.defaultLine.type:return this.createLine(_126);case g.defaultPolyline.type:return this.createPolyline(_126);case g.defaultImage.type:return this.createImage(_126);case g.defaultText.type:return this.createText(_126);case g.defaultTextPath.type:return this.createTextPath(_126);}return null;},createGroup:function(){return this.createObject(g.Group);},createRect:function(rect){return this.createObject(g.Rect,rect);},createEllipse:function(_127){return this.createObject(g.Ellipse,_127);},createCircle:function(_128){return this.createObject(g.Circle,_128);},createLine:function(line){return this.createObject(g.Line,line);},createPolyline:function(_129){return this.createObject(g.Polyline,_129);},createImage:function(_12a){return this.createObject(g.Image,_12a);},createText:function(text){return this.createObject(g.Text,text);},createPath:function(path){return this.createObject(g.Path,path);},createTextPath:function(text){return this.createObject(g.TextPath,{}).setText(text);},createObject:function(_12b,_12c){return null;}};return _f0;});},"dojox/gfx/renderer":function(){define("dojox/gfx/renderer",["./_base","dojo/_base/lang","dojo/_base/sniff","dojo/_base/window","dojo/_base/config"],function(g,lang,has,win,_12d){var _12e=null;has.add("vml",function(_12f,_130,_131){_131.innerHTML="<v:shape adj=\"1\"/>";var _132=("adj" in _131.firstChild);_131.innerHTML="";return _132;});return {load:function(id,_133,load){if(_12e&&id!="force"){load(_12e);return;}var _134=_12d.forceGfxRenderer,_135=!_134&&(lang.isString(_12d.gfxRenderer)?_12d.gfxRenderer:"svg,vml,canvas,silverlight").split(","),_136,_137;while(!_134&&_135.length){switch(_135.shift()){case "svg":if("SVGAngle" in win.global){_134="svg";}break;case "vml":if(has("vml")){_134="vml";}break;case "silverlight":try{if(has("ie")){_136=new ActiveXObject("AgControl.AgControl");if(_136&&_136.IsVersionSupported("1.0")){_137=true;}}else{if(navigator.plugins["Silverlight Plug-In"]){_137=true;}}}catch(e){_137=false;}finally{_136=null;}if(_137){_134="silverlight";}break;case "canvas":if(win.global.CanvasRenderingContext2D){_134="canvas";}break;}}if(_134==="canvas"&&_12d.canvasEvents!==false){_134="canvasWithEvents";}if(_12d.isDebug){}function _138(){_133(["dojox/gfx/"+_134],function(_139){g.renderer=_134;_12e=_139;load(_139);});};if(_134=="svg"&&typeof window.svgweb!="undefined"){window.svgweb.addOnLoad(_138);}else{_138();}}};});},"dojox/gfx/vml":function(){define("dojox/gfx/vml",["dojo/_base/lang","dojo/_base/declare","dojo/_base/array","dojo/_base/Color","dojo/_base/sniff","dojo/_base/config","dojo/dom","dojo/dom-geometry","dojo/_base/window","./_base","./shape","./path","./arc","./gradient","./matrix"],function(lang,_13a,arr,_13b,has,_13c,dom,_13d,win,g,gs,_13e,_13f,_140,m){var vml=g.vml={};vml.xmlns="urn:schemas-microsoft-com:vml";document.namespaces.add("v",vml.xmlns);var _141=["*","group","roundrect","oval","shape","rect","imagedata","path","textpath","text"],i=0,l=1,s=document.createStyleSheet();if(has("ie")>=8){i=1;l=_141.length;}for(;i<l;++i){s.addRule("v\\:"+_141[i],"behavior:url(#default#VML); display:inline-block");}vml.text_alignment={start:"left",middle:"center",end:"right"};vml._parseFloat=function(str){return str.match(/^\d+f$/i)?parseInt(str)/65536:parseFloat(str);};vml._bool={"t":1,"true":1};_13a("dojox.gfx.vml.Shape",gs.Shape,{setFill:function(fill){if(!fill){this.fillStyle=null;this.rawNode.filled="f";return this;}var i,f,fo,a,s;if(typeof fill=="object"&&"type" in fill){switch(fill.type){case "linear":var _142=this._getRealMatrix(),bbox=this.getBoundingBox(),_143=this._getRealBBox?this._getRealBBox():this.getTransformedBoundingBox();s=[];if(this.fillStyle!==fill){this.fillStyle=g.makeParameters(g.defaultLinearGradient,fill);}f=g.gradient.project(_142,this.fillStyle,{x:bbox.x,y:bbox.y},{x:bbox.x+bbox.width,y:bbox.y+bbox.height},_143[0],_143[2]);a=f.colors;if(a[0].offset.toFixed(5)!="0.00000"){s.push("0 "+g.normalizeColor(a[0].color).toHex());}for(i=0;i<a.length;++i){s.push(a[i].offset.toFixed(5)+" "+g.normalizeColor(a[i].color).toHex());}i=a.length-1;if(a[i].offset.toFixed(5)!="1.00000"){s.push("1 "+g.normalizeColor(a[i].color).toHex());}fo=this.rawNode.fill;fo.colors.value=s.join(";");fo.method="sigma";fo.type="gradient";fo.angle=(270-m._radToDeg(f.angle))%360;fo.on=true;break;case "radial":f=g.makeParameters(g.defaultRadialGradient,fill);this.fillStyle=f;var l=parseFloat(this.rawNode.style.left),t=parseFloat(this.rawNode.style.top),w=parseFloat(this.rawNode.style.width),h=parseFloat(this.rawNode.style.height),c=isNaN(w)?1:2*f.r/w;a=[];if(f.colors[0].offset>0){a.push({offset:1,color:g.normalizeColor(f.colors[0].color)});}arr.forEach(f.colors,function(v,i){a.push({offset:1-v.offset*c,color:g.normalizeColor(v.color)});});i=a.length-1;while(i>=0&&a[i].offset<0){--i;}if(i<a.length-1){var q=a[i],p=a[i+1];p.color=_13b.blendColors(q.color,p.color,q.offset/(q.offset-p.offset));p.offset=0;while(a.length-i>2){a.pop();}}i=a.length-1,s=[];if(a[i].offset>0){s.push("0 "+a[i].color.toHex());}for(;i>=0;--i){s.push(a[i].offset.toFixed(5)+" "+a[i].color.toHex());}fo=this.rawNode.fill;fo.colors.value=s.join(";");fo.method="sigma";fo.type="gradientradial";if(isNaN(w)||isNaN(h)||isNaN(l)||isNaN(t)){fo.focusposition="0.5 0.5";}else{fo.focusposition=((f.cx-l)/w).toFixed(5)+" "+((f.cy-t)/h).toFixed(5);}fo.focussize="0 0";fo.on=true;break;case "pattern":f=g.makeParameters(g.defaultPattern,fill);this.fillStyle=f;fo=this.rawNode.fill;fo.type="tile";fo.src=f.src;if(f.width&&f.height){fo.size.x=g.px2pt(f.width);fo.size.y=g.px2pt(f.height);}fo.alignShape="f";fo.position.x=0;fo.position.y=0;fo.origin.x=f.width?f.x/f.width:0;fo.origin.y=f.height?f.y/f.height:0;fo.on=true;break;}this.rawNode.fill.opacity=1;return this;}this.fillStyle=g.normalizeColor(fill);fo=this.rawNode.fill;if(!fo){fo=this.rawNode.ownerDocument.createElement("v:fill");}fo.method="any";fo.type="solid";fo.opacity=this.fillStyle.a;var _144=this.rawNode.filters["DXImageTransform.Microsoft.Alpha"];if(_144){_144.opacity=Math.round(this.fillStyle.a*100);}this.rawNode.fillcolor=this.fillStyle.toHex();this.rawNode.filled=true;return this;},setStroke:function(_145){if(!_145){this.strokeStyle=null;this.rawNode.stroked="f";return this;}if(typeof _145=="string"||lang.isArray(_145)||_145 instanceof _13b){_145={color:_145};}var s=this.strokeStyle=g.makeParameters(g.defaultStroke,_145);s.color=g.normalizeColor(s.color);var rn=this.rawNode;rn.stroked=true;rn.strokecolor=s.color.toCss();rn.strokeweight=s.width+"px";if(rn.stroke){rn.stroke.opacity=s.color.a;rn.stroke.endcap=this._translate(this._capMap,s.cap);if(typeof s.join=="number"){rn.stroke.joinstyle="miter";rn.stroke.miterlimit=s.join;}else{rn.stroke.joinstyle=s.join;}rn.stroke.dashstyle=s.style=="none"?"Solid":s.style;}return this;},_capMap:{butt:"flat"},_capMapReversed:{flat:"butt"},_translate:function(dict,_146){return (_146 in dict)?dict[_146]:_146;},_applyTransform:function(){var _147=this._getRealMatrix();if(_147){var skew=this.rawNode.skew;if(typeof skew=="undefined"){for(var i=0;i<this.rawNode.childNodes.length;++i){if(this.rawNode.childNodes[i].tagName=="skew"){skew=this.rawNode.childNodes[i];break;}}}if(skew){skew.on="f";var mt=_147.xx.toFixed(8)+" "+_147.xy.toFixed(8)+" "+_147.yx.toFixed(8)+" "+_147.yy.toFixed(8)+" 0 0",_148=Math.floor(_147.dx).toFixed()+"px "+Math.floor(_147.dy).toFixed()+"px",s=this.rawNode.style,l=parseFloat(s.left),t=parseFloat(s.top),w=parseFloat(s.width),h=parseFloat(s.height);if(isNaN(l)){l=0;}if(isNaN(t)){t=0;}if(isNaN(w)||!w){w=1;}if(isNaN(h)||!h){h=1;}var _149=(-l/w-0.5).toFixed(8)+" "+(-t/h-0.5).toFixed(8);skew.matrix=mt;skew.origin=_149;skew.offset=_148;skew.on=true;}}if(this.fillStyle&&this.fillStyle.type=="linear"){this.setFill(this.fillStyle);}return this;},_setDimensions:function(_14a,_14b){return this;},setRawNode:function(_14c){_14c.stroked="f";_14c.filled="f";this.rawNode=_14c;this.rawNode.__gfxObject__=this.getUID();},_moveToFront:function(){this.rawNode.parentNode.appendChild(this.rawNode);return this;},_moveToBack:function(){var r=this.rawNode,p=r.parentNode,n=p.firstChild;p.insertBefore(r,n);if(n.tagName=="rect"){n.swapNode(r);}return this;},_getRealMatrix:function(){return this.parentMatrix?new m.Matrix2D([this.parentMatrix,this.matrix]):this.matrix;}});_13a("dojox.gfx.vml.Group",vml.Shape,{constructor:function(){gs.Container._init.call(this);},_applyTransform:function(){var _14d=this._getRealMatrix();for(var i=0;i<this.children.length;++i){this.children[i]._updateParentMatrix(_14d);}return this;},_setDimensions:function(_14e,_14f){var r=this.rawNode,rs=r.style,bs=this.bgNode.style;rs.width=_14e;rs.height=_14f;r.coordsize=_14e+" "+_14f;bs.width=_14e;bs.height=_14f;for(var i=0;i<this.children.length;++i){this.children[i]._setDimensions(_14e,_14f);}return this;}});vml.Group.nodeType="group";_13a("dojox.gfx.vml.Rect",[vml.Shape,gs.Rect],{setShape:function(_150){var _151=this.shape=g.makeParameters(this.shape,_150);this.bbox=null;var r=Math.min(1,(_151.r/Math.min(parseFloat(_151.width),parseFloat(_151.height)))).toFixed(8);var _152=this.rawNode.parentNode,_153=null;if(_152){if(_152.lastChild!==this.rawNode){for(var i=0;i<_152.childNodes.length;++i){if(_152.childNodes[i]===this.rawNode){_153=_152.childNodes[i+1];break;}}}_152.removeChild(this.rawNode);}if(has("ie")>7){var node=this.rawNode.ownerDocument.createElement("v:roundrect");node.arcsize=r;node.style.display="inline-block";this.rawNode=node;this.rawNode.__gfxObject__=this.getUID();}else{this.rawNode.arcsize=r;}if(_152){if(_153){_152.insertBefore(this.rawNode,_153);}else{_152.appendChild(this.rawNode);}}var _154=this.rawNode.style;_154.left=_151.x.toFixed();_154.top=_151.y.toFixed();_154.width=(typeof _151.width=="string"&&_151.width.indexOf("%")>=0)?_151.width:Math.max(_151.width.toFixed(),0);_154.height=(typeof _151.height=="string"&&_151.height.indexOf("%")>=0)?_151.height:Math.max(_151.height.toFixed(),0);return this.setTransform(this.matrix).setFill(this.fillStyle).setStroke(this.strokeStyle);}});vml.Rect.nodeType="roundrect";_13a("dojox.gfx.vml.Ellipse",[vml.Shape,gs.Ellipse],{setShape:function(_155){var _156=this.shape=g.makeParameters(this.shape,_155);this.bbox=null;var _157=this.rawNode.style;_157.left=(_156.cx-_156.rx).toFixed();_157.top=(_156.cy-_156.ry).toFixed();_157.width=(_156.rx*2).toFixed();_157.height=(_156.ry*2).toFixed();return this.setTransform(this.matrix);}});vml.Ellipse.nodeType="oval";_13a("dojox.gfx.vml.Circle",[vml.Shape,gs.Circle],{setShape:function(_158){var _159=this.shape=g.makeParameters(this.shape,_158);this.bbox=null;var _15a=this.rawNode.style;_15a.left=(_159.cx-_159.r).toFixed();_15a.top=(_159.cy-_159.r).toFixed();_15a.width=(_159.r*2).toFixed();_15a.height=(_159.r*2).toFixed();return this;}});vml.Circle.nodeType="oval";_13a("dojox.gfx.vml.Line",[vml.Shape,gs.Line],{constructor:function(_15b){if(_15b){_15b.setAttribute("dojoGfxType","line");}},setShape:function(_15c){var _15d=this.shape=g.makeParameters(this.shape,_15c);this.bbox=null;this.rawNode.path.v="m"+_15d.x1.toFixed()+" "+_15d.y1.toFixed()+"l"+_15d.x2.toFixed()+" "+_15d.y2.toFixed()+"e";return this.setTransform(this.matrix);}});vml.Line.nodeType="shape";_13a("dojox.gfx.vml.Polyline",[vml.Shape,gs.Polyline],{constructor:function(_15e){if(_15e){_15e.setAttribute("dojoGfxType","polyline");}},setShape:function(_15f,_160){if(_15f&&_15f instanceof Array){this.shape=g.makeParameters(this.shape,{points:_15f});if(_160&&this.shape.points.length){this.shape.points.push(this.shape.points[0]);}}else{this.shape=g.makeParameters(this.shape,_15f);}this.bbox=null;this._normalizePoints();var attr=[],p=this.shape.points;if(p.length>0){attr.push("m");attr.push(p[0].x.toFixed(),p[0].y.toFixed());if(p.length>1){attr.push("l");for(var i=1;i<p.length;++i){attr.push(p[i].x.toFixed(),p[i].y.toFixed());}}}attr.push("e");this.rawNode.path.v=attr.join(" ");return this.setTransform(this.matrix);}});vml.Polyline.nodeType="shape";_13a("dojox.gfx.vml.Image",[vml.Shape,gs.Image],{setShape:function(_161){var _162=this.shape=g.makeParameters(this.shape,_161);this.bbox=null;this.rawNode.firstChild.src=_162.src;return this.setTransform(this.matrix);},_applyTransform:function(){var _163=this._getRealMatrix(),_164=this.rawNode,s=_164.style,_165=this.shape;if(_163){_163=m.multiply(_163,{dx:_165.x,dy:_165.y});}else{_163=m.normalize({dx:_165.x,dy:_165.y});}if(_163.xy==0&&_163.yx==0&&_163.xx>0&&_163.yy>0){s.filter="";s.width=Math.floor(_163.xx*_165.width);s.height=Math.floor(_163.yy*_165.height);s.left=Math.floor(_163.dx);s.top=Math.floor(_163.dy);}else{var ps=_164.parentNode.style;s.left="0px";s.top="0px";s.width=ps.width;s.height=ps.height;_163=m.multiply(_163,{xx:_165.width/parseInt(s.width),yy:_165.height/parseInt(s.height)});var f=_164.filters["DXImageTransform.Microsoft.Matrix"];if(f){f.M11=_163.xx;f.M12=_163.xy;f.M21=_163.yx;f.M22=_163.yy;f.Dx=_163.dx;f.Dy=_163.dy;}else{s.filter="progid:DXImageTransform.Microsoft.Matrix(M11="+_163.xx+", M12="+_163.xy+", M21="+_163.yx+", M22="+_163.yy+", Dx="+_163.dx+", Dy="+_163.dy+")";}}return this;},_setDimensions:function(_166,_167){var r=this.rawNode,f=r.filters["DXImageTransform.Microsoft.Matrix"];if(f){var s=r.style;s.width=_166;s.height=_167;return this._applyTransform();}return this;}});vml.Image.nodeType="rect";_13a("dojox.gfx.vml.Text",[vml.Shape,gs.Text],{constructor:function(_168){if(_168){_168.setAttribute("dojoGfxType","text");}this.fontStyle=null;},_alignment:{start:"left",middle:"center",end:"right"},setShape:function(_169){this.shape=g.makeParameters(this.shape,_169);this.bbox=null;var r=this.rawNode,s=this.shape,x=s.x,y=s.y.toFixed(),path;switch(s.align){case "middle":x-=5;break;case "end":x-=10;break;}path="m"+x.toFixed()+","+y+"l"+(x+10).toFixed()+","+y+"e";var p=null,t=null,c=r.childNodes;for(var i=0;i<c.length;++i){var tag=c[i].tagName;if(tag=="path"){p=c[i];if(t){break;}}else{if(tag=="textpath"){t=c[i];if(p){break;}}}}if(!p){p=r.ownerDocument.createElement("v:path");r.appendChild(p);}if(!t){t=r.ownerDocument.createElement("v:textpath");r.appendChild(t);}p.v=path;p.textPathOk=true;t.on=true;var a=vml.text_alignment[s.align];t.style["v-text-align"]=a?a:"left";t.style["text-decoration"]=s.decoration;t.style["v-rotate-letters"]=s.rotated;t.style["v-text-kern"]=s.kerning;t.string=s.text;return this.setTransform(this.matrix);},_setFont:function(){var f=this.fontStyle,c=this.rawNode.childNodes;for(var i=0;i<c.length;++i){if(c[i].tagName=="textpath"){c[i].style.font=g.makeFontString(f);break;}}this.setTransform(this.matrix);},_getRealMatrix:function(){var _16a=this.inherited(arguments);if(_16a){_16a=m.multiply(_16a,{dy:-g.normalizedLength(this.fontStyle?this.fontStyle.size:"10pt")*0.35});}return _16a;},getTextWidth:function(){var _16b=this.rawNode,_16c=_16b.style.display;_16b.style.display="inline";var _16d=g.pt2px(parseFloat(_16b.currentStyle.width));_16b.style.display=_16c;return _16d;}});vml.Text.nodeType="shape";_13a("dojox.gfx.vml.Path",[vml.Shape,_13e.Path],{constructor:function(_16e){if(_16e&&!_16e.getAttribute("dojoGfxType")){_16e.setAttribute("dojoGfxType","path");}this.vmlPath="";this.lastControl={};},_updateWithSegment:function(_16f){var last=lang.clone(this.last);this.inherited(arguments);if(arguments.length>1){return;}var path=this[this.renderers[_16f.action]](_16f,last);if(typeof this.vmlPath=="string"){this.vmlPath+=path.join("");this.rawNode.path.v=this.vmlPath+" r0,0 e";}else{Array.prototype.push.apply(this.vmlPath,path);}},setShape:function(_170){this.vmlPath=[];this.lastControl.type="";this.inherited(arguments);this.vmlPath=this.vmlPath.join("");this.rawNode.path.v=this.vmlPath+" r0,0 e";return this;},_pathVmlToSvgMap:{m:"M",l:"L",t:"m",r:"l",c:"C",v:"c",qb:"Q",x:"z",e:""},renderers:{M:"_moveToA",m:"_moveToR",L:"_lineToA",l:"_lineToR",H:"_hLineToA",h:"_hLineToR",V:"_vLineToA",v:"_vLineToR",C:"_curveToA",c:"_curveToR",S:"_smoothCurveToA",s:"_smoothCurveToR",Q:"_qCurveToA",q:"_qCurveToR",T:"_qSmoothCurveToA",t:"_qSmoothCurveToR",A:"_arcTo",a:"_arcTo",Z:"_closePath",z:"_closePath"},_addArgs:function(path,_171,from,upto){var n=_171 instanceof Array?_171:_171.args;for(var i=from;i<upto;++i){path.push(" ",n[i].toFixed());}},_adjustRelCrd:function(last,_172,step){var n=_172 instanceof Array?_172:_172.args,l=n.length,_173=new Array(l),i=0,x=last.x,y=last.y;if(typeof x!="number"){_173[0]=x=n[0];_173[1]=y=n[1];i=2;}if(typeof step=="number"&&step!=2){var j=step;while(j<=l){for(;i<j;i+=2){_173[i]=x+n[i];_173[i+1]=y+n[i+1];}x=_173[j-2];y=_173[j-1];j+=step;}}else{for(;i<l;i+=2){_173[i]=(x+=n[i]);_173[i+1]=(y+=n[i+1]);}}return _173;},_adjustRelPos:function(last,_174){var n=_174 instanceof Array?_174:_174.args,l=n.length,_175=new Array(l);for(var i=0;i<l;++i){_175[i]=(last+=n[i]);}return _175;},_moveToA:function(_176){var p=[" m"],n=_176 instanceof Array?_176:_176.args,l=n.length;this._addArgs(p,n,0,2);if(l>2){p.push(" l");this._addArgs(p,n,2,l);}this.lastControl.type="";return p;},_moveToR:function(_177,last){return this._moveToA(this._adjustRelCrd(last,_177));},_lineToA:function(_178){var p=[" l"],n=_178 instanceof Array?_178:_178.args;this._addArgs(p,n,0,n.length);this.lastControl.type="";return p;},_lineToR:function(_179,last){return this._lineToA(this._adjustRelCrd(last,_179));},_hLineToA:function(_17a,last){var p=[" l"],y=" "+last.y.toFixed(),n=_17a instanceof Array?_17a:_17a.args,l=n.length;for(var i=0;i<l;++i){p.push(" ",n[i].toFixed(),y);}this.lastControl.type="";return p;},_hLineToR:function(_17b,last){return this._hLineToA(this._adjustRelPos(last.x,_17b),last);},_vLineToA:function(_17c,last){var p=[" l"],x=" "+last.x.toFixed(),n=_17c instanceof Array?_17c:_17c.args,l=n.length;for(var i=0;i<l;++i){p.push(x," ",n[i].toFixed());}this.lastControl.type="";return p;},_vLineToR:function(_17d,last){return this._vLineToA(this._adjustRelPos(last.y,_17d),last);},_curveToA:function(_17e){var p=[],n=_17e instanceof Array?_17e:_17e.args,l=n.length,lc=this.lastControl;for(var i=0;i<l;i+=6){p.push(" c");this._addArgs(p,n,i,i+6);}lc.x=n[l-4];lc.y=n[l-3];lc.type="C";return p;},_curveToR:function(_17f,last){return this._curveToA(this._adjustRelCrd(last,_17f,6));},_smoothCurveToA:function(_180,last){var p=[],n=_180 instanceof Array?_180:_180.args,l=n.length,lc=this.lastControl,i=0;if(lc.type!="C"){p.push(" c");this._addArgs(p,[last.x,last.y],0,2);this._addArgs(p,n,0,4);lc.x=n[0];lc.y=n[1];lc.type="C";i=4;}for(;i<l;i+=4){p.push(" c");this._addArgs(p,[2*last.x-lc.x,2*last.y-lc.y],0,2);this._addArgs(p,n,i,i+4);lc.x=n[i];lc.y=n[i+1];}return p;},_smoothCurveToR:function(_181,last){return this._smoothCurveToA(this._adjustRelCrd(last,_181,4),last);},_qCurveToA:function(_182){var p=[],n=_182 instanceof Array?_182:_182.args,l=n.length,lc=this.lastControl;for(var i=0;i<l;i+=4){p.push(" qb");this._addArgs(p,n,i,i+4);}lc.x=n[l-4];lc.y=n[l-3];lc.type="Q";return p;},_qCurveToR:function(_183,last){return this._qCurveToA(this._adjustRelCrd(last,_183,4));},_qSmoothCurveToA:function(_184,last){var p=[],n=_184 instanceof Array?_184:_184.args,l=n.length,lc=this.lastControl,i=0;if(lc.type!="Q"){p.push(" qb");this._addArgs(p,[lc.x=last.x,lc.y=last.y],0,2);lc.type="Q";this._addArgs(p,n,0,2);i=2;}for(;i<l;i+=2){p.push(" qb");this._addArgs(p,[lc.x=2*last.x-lc.x,lc.y=2*last.y-lc.y],0,2);this._addArgs(p,n,i,i+2);}return p;},_qSmoothCurveToR:function(_185,last){return this._qSmoothCurveToA(this._adjustRelCrd(last,_185,2),last);},_arcTo:function(_186,last){var p=[],n=_186.args,l=n.length,_187=_186.action=="a";for(var i=0;i<l;i+=7){var x1=n[i+5],y1=n[i+6];if(_187){x1+=last.x;y1+=last.y;}var _188=_13f.arcAsBezier(last,n[i],n[i+1],n[i+2],n[i+3]?1:0,n[i+4]?1:0,x1,y1);for(var j=0;j<_188.length;++j){p.push(" c");var t=_188[j];this._addArgs(p,t,0,t.length);this._updateBBox(t[0],t[1]);this._updateBBox(t[2],t[3]);this._updateBBox(t[4],t[5]);}last.x=x1;last.y=y1;}this.lastControl.type="";return p;},_closePath:function(){this.lastControl.type="";return ["x"];},_getRealBBox:function(){this._confirmSegmented();if(this.tbbox){return this.tbbox;}if(typeof this.shape.path=="string"){this.shape.path="";}return this.inherited(arguments);}});vml.Path.nodeType="shape";_13a("dojox.gfx.vml.TextPath",[vml.Path,_13e.TextPath],{constructor:function(_189){if(_189){_189.setAttribute("dojoGfxType","textpath");}this.fontStyle=null;if(!("text" in this)){this.text=lang.clone(g.defaultTextPath);}if(!("fontStyle" in this)){this.fontStyle=lang.clone(g.defaultFont);}},setText:function(_18a){this.text=g.makeParameters(this.text,typeof _18a=="string"?{text:_18a}:_18a);this._setText();return this;},setFont:function(_18b){this.fontStyle=typeof _18b=="string"?g.splitFontString(_18b):g.makeParameters(g.defaultFont,_18b);this._setFont();return this;},_setText:function(){this.bbox=null;var r=this.rawNode,s=this.text,p=null,t=null,c=r.childNodes;for(var i=0;i<c.length;++i){var tag=c[i].tagName;if(tag=="path"){p=c[i];if(t){break;}}else{if(tag=="textpath"){t=c[i];if(p){break;}}}}if(!p){p=this.rawNode.ownerDocument.createElement("v:path");r.appendChild(p);}if(!t){t=this.rawNode.ownerDocument.createElement("v:textpath");r.appendChild(t);}p.textPathOk=true;t.on=true;var a=vml.text_alignment[s.align];t.style["v-text-align"]=a?a:"left";t.style["text-decoration"]=s.decoration;t.style["v-rotate-letters"]=s.rotated;t.style["v-text-kern"]=s.kerning;t.string=s.text;},_setFont:function(){var f=this.fontStyle,c=this.rawNode.childNodes;for(var i=0;i<c.length;++i){if(c[i].tagName=="textpath"){c[i].style.font=g.makeFontString(f);break;}}}});vml.TextPath.nodeType="shape";_13a("dojox.gfx.vml.Surface",gs.Surface,{constructor:function(){gs.Container._init.call(this);},setDimensions:function(_18c,_18d){this.width=g.normalizedLength(_18c);this.height=g.normalizedLength(_18d);if(!this.rawNode){return this;}var cs=this.clipNode.style,r=this.rawNode,rs=r.style,bs=this.bgNode.style,ps=this._parent.style,i;ps.width=_18c;ps.height=_18d;cs.width=_18c;cs.height=_18d;cs.clip="rect(0px "+_18c+"px "+_18d+"px 0px)";rs.width=_18c;rs.height=_18d;r.coordsize=_18c+" "+_18d;bs.width=_18c;bs.height=_18d;for(i=0;i<this.children.length;++i){this.children[i]._setDimensions(_18c,_18d);}return this;},getDimensions:function(){var t=this.rawNode?{width:g.normalizedLength(this.rawNode.style.width),height:g.normalizedLength(this.rawNode.style.height)}:null;if(t.width<=0){t.width=this.width;}if(t.height<=0){t.height=this.height;}return t;}});vml.createSurface=function(_18e,_18f,_190){if(!_18f&&!_190){var pos=_13d.position(_18e);_18f=_18f||pos.w;_190=_190||pos.h;}if(typeof _18f=="number"){_18f=_18f+"px";}if(typeof _190=="number"){_190=_190+"px";}var s=new vml.Surface(),p=dom.byId(_18e),c=s.clipNode=p.ownerDocument.createElement("div"),r=s.rawNode=p.ownerDocument.createElement("v:group"),cs=c.style,rs=r.style;if(has("ie")>7){rs.display="inline-block";}s._parent=p;s._nodes.push(c);p.style.width=_18f;p.style.height=_190;cs.position="absolute";cs.width=_18f;cs.height=_190;cs.clip="rect(0px "+_18f+" "+_190+" 0px)";rs.position="absolute";rs.width=_18f;rs.height=_190;r.coordsize=(_18f==="100%"?_18f:parseFloat(_18f))+" "+(_190==="100%"?_190:parseFloat(_190));r.coordorigin="0 0";var b=s.bgNode=r.ownerDocument.createElement("v:rect"),bs=b.style;bs.left=bs.top=0;bs.width=rs.width;bs.height=rs.height;b.filled=b.stroked="f";r.appendChild(b);c.appendChild(r);p.appendChild(c);s.width=g.normalizedLength(_18f);s.height=g.normalizedLength(_190);return s;};function _191(_192,f,o){o=o||win.global;f.call(o,_192);if(_192 instanceof g.Surface||_192 instanceof g.Group){arr.forEach(_192.children,function(_193){_191(_193,f,o);});}};var _194=function(_195){if(this!=_195.getParent()){var _196=_195.getParent();if(_196){_196.remove(_195);}this.rawNode.appendChild(_195.rawNode);C.add.apply(this,arguments);_191(this,function(s){if(typeof (s.getFont)=="function"){s.setShape(s.getShape());s.setFont(s.getFont());}if(typeof (s.setFill)=="function"){s.setFill(s.getFill());s.setStroke(s.getStroke());}});}return this;};var _197=function(_198){if(this!=_198.getParent()){this.rawNode.appendChild(_198.rawNode);if(!_198.getParent()){_198.setFill(_198.getFill());_198.setStroke(_198.getStroke());}C.add.apply(this,arguments);}return this;};var C=gs.Container,_199={add:_13c.fixVmlAdd===true?_194:_197,remove:function(_19a,_19b){if(this==_19a.getParent()){if(this.rawNode==_19a.rawNode.parentNode){this.rawNode.removeChild(_19a.rawNode);}C.remove.apply(this,arguments);}return this;},clear:function(){var r=this.rawNode;while(r.firstChild!=r.lastChild){if(r.firstChild!=this.bgNode){r.removeChild(r.firstChild);}if(r.lastChild!=this.bgNode){r.removeChild(r.lastChild);}}return C.clear.apply(this,arguments);},_moveChildToFront:C._moveChildToFront,_moveChildToBack:C._moveChildToBack};var _19c={createGroup:function(){var node=this.createObject(vml.Group,null);var r=node.rawNode.ownerDocument.createElement("v:rect");r.style.left=r.style.top=0;r.style.width=node.rawNode.style.width;r.style.height=node.rawNode.style.height;r.filled=r.stroked="f";node.rawNode.appendChild(r);node.bgNode=r;return node;},createImage:function(_19d){if(!this.rawNode){return null;}var _19e=new vml.Image(),doc=this.rawNode.ownerDocument,node=doc.createElement("v:rect");node.stroked="f";node.style.width=this.rawNode.style.width;node.style.height=this.rawNode.style.height;var img=doc.createElement("v:imagedata");node.appendChild(img);_19e.setRawNode(node);this.rawNode.appendChild(node);_19e.setShape(_19d);this.add(_19e);return _19e;},createRect:function(rect){if(!this.rawNode){return null;}var _19f=new vml.Rect,node=this.rawNode.ownerDocument.createElement("v:roundrect");if(has("ie")>7){node.style.display="inline-block";}_19f.setRawNode(node);this.rawNode.appendChild(node);_19f.setShape(rect);this.add(_19f);return _19f;},createObject:function(_1a0,_1a1){if(!this.rawNode){return null;}var _1a2=new _1a0(),node=this.rawNode.ownerDocument.createElement("v:"+_1a0.nodeType);_1a2.setRawNode(node);this.rawNode.appendChild(node);switch(_1a0){case vml.Group:case vml.Line:case vml.Polyline:case vml.Image:case vml.Text:case vml.Path:case vml.TextPath:this._overrideSize(node);}_1a2.setShape(_1a1);this.add(_1a2);return _1a2;},_overrideSize:function(node){var s=this.rawNode.style,w=s.width,h=s.height;node.style.width=w;node.style.height=h;node.coordsize=parseInt(w)+" "+parseInt(h);}};lang.extend(vml.Group,_199);lang.extend(vml.Group,gs.Creator);lang.extend(vml.Group,_19c);lang.extend(vml.Surface,_199);lang.extend(vml.Surface,gs.Creator);lang.extend(vml.Surface,_19c);vml.fixTarget=function(_1a3,_1a4){if(!_1a3.gfxTarget){_1a3.gfxTarget=gs.byId(_1a3.target.__gfxObject__);}return true;};return vml;});},"*noref":1}});define("dojox/_dojox_gfx",[],1);require(["dojox/gfx"]);
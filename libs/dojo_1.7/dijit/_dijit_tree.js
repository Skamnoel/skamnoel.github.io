/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/

/*
	This is an optimized version of Dojo, built for deployment and not for
	development. To get sources and documentation, please visit:

		http://dojotoolkit.org
*/

//>>built
require({cache:{"dijit/tree/_dndSelector":function(){define("dijit/tree/_dndSelector",["dojo/_base/array","dojo/_base/connect","dojo/_base/declare","dojo/_base/lang","dojo/mouse","dojo/on","dojo/touch","dojo/_base/window","./_dndContainer"],function(_1,_2,_3,_4,_5,on,_6,_7,_8){return _3("dijit.tree._dndSelector",_8,{constructor:function(){this.selection={};this.anchor=null;this.tree.domNode.setAttribute("aria-multiselect",!this.singular);this.events.push(on(this.tree.domNode,_6.press,_4.hitch(this,"onMouseDown")),on(this.tree.domNode,_6.release,_4.hitch(this,"onMouseUp")),on(this.tree.domNode,_6.move,_4.hitch(this,"onMouseMove")));},singular:false,getSelectedTreeNodes:function(){var _9=[],_a=this.selection;for(var i in _a){_9.push(_a[i]);}return _9;},selectNone:function(){this.setSelection([]);return this;},destroy:function(){this.inherited(arguments);this.selection=this.anchor=null;},addTreeNode:function(_b,_c){this.setSelection(this.getSelectedTreeNodes().concat([_b]));if(_c){this.anchor=_b;}return _b;},removeTreeNode:function(_d){this.setSelection(this._setDifference(this.getSelectedTreeNodes(),[_d]));return _d;},isTreeNodeSelected:function(_e){return _e.id&&!!this.selection[_e.id];},setSelection:function(_f){var _10=this.getSelectedTreeNodes();_1.forEach(this._setDifference(_10,_f),_4.hitch(this,function(_11){_11.setSelected(false);if(this.anchor==_11){delete this.anchor;}delete this.selection[_11.id];}));_1.forEach(this._setDifference(_f,_10),_4.hitch(this,function(_12){_12.setSelected(true);this.selection[_12.id]=_12;}));this._updateSelectionProperties();},_setDifference:function(xs,ys){_1.forEach(ys,function(y){y.__exclude__=true;});var ret=_1.filter(xs,function(x){return !x.__exclude__;});_1.forEach(ys,function(y){delete y["__exclude__"];});return ret;},_updateSelectionProperties:function(){var _13=this.getSelectedTreeNodes();var _14=[],_15=[];_1.forEach(_13,function(_16){_15.push(_16);_14.push(_16.getTreePath());});var _17=_1.map(_15,function(_18){return _18.item;});this.tree._set("paths",_14);this.tree._set("path",_14[0]||[]);this.tree._set("selectedNodes",_15);this.tree._set("selectedNode",_15[0]||null);this.tree._set("selectedItems",_17);this.tree._set("selectedItem",_17[0]||null);},onMouseDown:function(e){if(!this.current||this.tree.isExpandoNode(e.target,this.current)){return;}if(e.type=="mousedown"&&_5.isLeft(e)){e.preventDefault();}else{if(e.type!="touchstart"){return;}}var _19=this.current,_1a=_2.isCopyKey(e),id=_19.id;if(!this.singular&&!e.shiftKey&&this.selection[id]){this._doDeselect=true;return;}else{this._doDeselect=false;}this.userSelect(_19,_1a,e.shiftKey);},onMouseUp:function(e){if(!this._doDeselect){return;}this._doDeselect=false;this.userSelect(this.current,_2.isCopyKey(e),e.shiftKey);},onMouseMove:function(){this._doDeselect=false;},_compareNodes:function(n1,n2){if(n1===n2){return 0;}if("sourceIndex" in document.documentElement){return n1.sourceIndex-n2.sourceIndex;}else{if("compareDocumentPosition" in document.documentElement){return n1.compareDocumentPosition(n2)&2?1:-1;}else{if(document.createRange){var r1=doc.createRange();r1.setStartBefore(n1);var r2=doc.createRange();r2.setStartBefore(n2);return r1.compareBoundaryPoints(r1.END_TO_END,r2);}else{throw Error("dijit.tree._compareNodes don't know how to compare two different nodes in this browser");}}}},userSelect:function(_1b,_1c,_1d){if(this.singular){if(this.anchor==_1b&&_1c){this.selectNone();}else{this.setSelection([_1b]);this.anchor=_1b;}}else{if(_1d&&this.anchor){var cr=this._compareNodes(this.anchor.rowNode,_1b.rowNode),_1e,end,_1f=this.anchor;if(cr<0){_1e=_1f;end=_1b;}else{_1e=_1b;end=_1f;}var _20=[];while(_1e!=end){_20.push(_1e);_1e=this.tree._getNextNode(_1e);}_20.push(end);this.setSelection(_20);}else{if(this.selection[_1b.id]&&_1c){this.removeTreeNode(_1b);}else{if(_1c){this.addTreeNode(_1b,true);}else{this.setSelection([_1b]);this.anchor=_1b;}}}}},getItem:function(key){var _21=this.selection[key];return {data:_21,type:["treeNode"]};},forInSelectedItems:function(f,o){o=o||_7.global;for(var id in this.selection){f.call(o,this.getItem(id),id,this);}}});});},"dijit/tree/TreeStoreModel":function(){define("dijit/tree/TreeStoreModel",["dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/_base/json","dojo/_base/lang"],function(_22,_23,_24,_25,_26){return _24("dijit.tree.TreeStoreModel",null,{store:null,childrenAttrs:["children"],newItemIdAttr:"id",labelAttr:"",root:null,query:null,deferItemLoadingUntilExpand:false,constructor:function(_27){_26.mixin(this,_27);this.connects=[];var _28=this.store;if(!_28.getFeatures()["dojo.data.api.Identity"]){throw new Error("dijit.Tree: store must support dojo.data.Identity");}if(_28.getFeatures()["dojo.data.api.Notification"]){this.connects=this.connects.concat([_23.after(_28,"onNew",_26.hitch(this,"onNewItem"),true),_23.after(_28,"onDelete",_26.hitch(this,"onDeleteItem"),true),_23.after(_28,"onSet",_26.hitch(this,"onSetItem"),true)]);}},destroy:function(){var h;while(h=this.connects.pop()){h.remove();}},getRoot:function(_29,_2a){if(this.root){_29(this.root);}else{this.store.fetch({query:this.query,onComplete:_26.hitch(this,function(_2b){if(_2b.length!=1){throw new Error(this.declaredClass+": query "+_25.stringify(this.query)+" returned "+_2b.length+" items, but must return exactly one item");}this.root=_2b[0];_29(this.root);}),onError:_2a});}},mayHaveChildren:function(_2c){return _22.some(this.childrenAttrs,function(_2d){return this.store.hasAttribute(_2c,_2d);},this);},getChildren:function(_2e,_2f,_30){var _31=this.store;if(!_31.isItemLoaded(_2e)){var _32=_26.hitch(this,arguments.callee);_31.loadItem({item:_2e,onItem:function(_33){_32(_33,_2f,_30);},onError:_30});return;}var _34=[];for(var i=0;i<this.childrenAttrs.length;i++){var _35=_31.getValues(_2e,this.childrenAttrs[i]);_34=_34.concat(_35);}var _36=0;if(!this.deferItemLoadingUntilExpand){_22.forEach(_34,function(_37){if(!_31.isItemLoaded(_37)){_36++;}});}if(_36==0){_2f(_34);}else{_22.forEach(_34,function(_38,idx){if(!_31.isItemLoaded(_38)){_31.loadItem({item:_38,onItem:function(_39){_34[idx]=_39;if(--_36==0){_2f(_34);}},onError:_30});}});}},isItem:function(_3a){return this.store.isItem(_3a);},fetchItemByIdentity:function(_3b){this.store.fetchItemByIdentity(_3b);},getIdentity:function(_3c){return this.store.getIdentity(_3c);},getLabel:function(_3d){if(this.labelAttr){return this.store.getValue(_3d,this.labelAttr);}else{return this.store.getLabel(_3d);}},newItem:function(_3e,_3f,_40){var _41={parent:_3f,attribute:this.childrenAttrs[0]},_42;if(this.newItemIdAttr&&_3e[this.newItemIdAttr]){this.fetchItemByIdentity({identity:_3e[this.newItemIdAttr],scope:this,onItem:function(_43){if(_43){this.pasteItem(_43,null,_3f,true,_40);}else{_42=this.store.newItem(_3e,_41);if(_42&&(_40!=undefined)){this.pasteItem(_42,_3f,_3f,false,_40);}}}});}else{_42=this.store.newItem(_3e,_41);if(_42&&(_40!=undefined)){this.pasteItem(_42,_3f,_3f,false,_40);}}},pasteItem:function(_44,_45,_46,_47,_48){var _49=this.store,_4a=this.childrenAttrs[0];if(_45){_22.forEach(this.childrenAttrs,function(_4b){if(_49.containsValue(_45,_4b,_44)){if(!_47){var _4c=_22.filter(_49.getValues(_45,_4b),function(x){return x!=_44;});_49.setValues(_45,_4b,_4c);}_4a=_4b;}});}if(_46){if(typeof _48=="number"){var _4d=_49.getValues(_46,_4a).slice();_4d.splice(_48,0,_44);_49.setValues(_46,_4a,_4d);}else{_49.setValues(_46,_4a,_49.getValues(_46,_4a).concat(_44));}}},onChange:function(){},onChildrenChange:function(){},onDelete:function(){},onNewItem:function(_4e,_4f){if(!_4f){return;}this.getChildren(_4f.item,_26.hitch(this,function(_50){this.onChildrenChange(_4f.item,_50);}));},onDeleteItem:function(_51){this.onDelete(_51);},onSetItem:function(_52,_53){if(_22.indexOf(this.childrenAttrs,_53)!=-1){this.getChildren(_52,_26.hitch(this,function(_54){this.onChildrenChange(_52,_54);}));}else{this.onChange(_52);}}});});},"dojo/uacss":function(){define("dojo/uacss",["./dom-geometry","./_base/lang","./ready","./_base/sniff","./_base/window"],function(_55,_56,_57,has,_58){var _59=_58.doc.documentElement,ie=has("ie"),_5a=has("opera"),maj=Math.floor,ff=has("ff"),_5b=_55.boxModel.replace(/-/,""),_5c={"dj_quirks":has("quirks"),"dj_opera":_5a,"dj_khtml":has("khtml"),"dj_webkit":has("webkit"),"dj_safari":has("safari"),"dj_chrome":has("chrome"),"dj_gecko":has("mozilla")};if(ie){_5c["dj_ie"]=true;_5c["dj_ie"+maj(ie)]=true;_5c["dj_iequirks"]=has("quirks");}if(ff){_5c["dj_ff"+maj(ff)]=true;}_5c["dj_"+_5b]=true;var _5d="";for(var clz in _5c){if(_5c[clz]){_5d+=clz+" ";}}_59.className=_56.trim(_59.className+" "+_5d);_57(90,function(){if(!_55.isBodyLtr()){var _5e="dj_rtl dijitRtl "+_5d.replace(/ /g,"-rtl ");_59.className=_56.trim(_59.className+" "+_5e+"dj_rtl dijitRtl "+_5d.replace(/ /g,"-rtl "));}});return has;});},"dijit/Tree":function(){require({cache:{"url:dijit/templates/TreeNode.html":"<div class=\"dijitTreeNode\" role=\"presentation\"\n\t><div data-dojo-attach-point=\"rowNode\" class=\"dijitTreeRow\" role=\"presentation\" data-dojo-attach-event=\"onmouseenter:_onMouseEnter, onmouseleave:_onMouseLeave, onclick:_onClick, ondblclick:_onDblClick\"\n\t\t><img src=\"${_blankGif}\" alt=\"\" data-dojo-attach-point=\"expandoNode\" class=\"dijitTreeExpando\" role=\"presentation\"\n\t\t/><span data-dojo-attach-point=\"expandoNodeText\" class=\"dijitExpandoText\" role=\"presentation\"\n\t\t></span\n\t\t><span data-dojo-attach-point=\"contentNode\"\n\t\t\tclass=\"dijitTreeContent\" role=\"presentation\">\n\t\t\t<img src=\"${_blankGif}\" alt=\"\" data-dojo-attach-point=\"iconNode\" class=\"dijitIcon dijitTreeIcon\" role=\"presentation\"\n\t\t\t/><span data-dojo-attach-point=\"labelNode\" class=\"dijitTreeLabel\" role=\"treeitem\" tabindex=\"-1\" aria-selected=\"false\" data-dojo-attach-event=\"onfocus:_onLabelFocus\"></span>\n\t\t</span\n\t></div>\n\t<div data-dojo-attach-point=\"containerNode\" class=\"dijitTreeContainer\" role=\"presentation\" style=\"display: none;\"></div>\n</div>\n","url:dijit/templates/Tree.html":"<div class=\"dijitTree dijitTreeContainer\" role=\"tree\">\n\t<div class=\"dijitInline dijitTreeIndent\" style=\"position: absolute; top: -9999px\" data-dojo-attach-point=\"indentDetector\"></div>\n</div>\n"}});define("dijit/Tree",["dojo/_base/array","dojo/_base/connect","dojo/cookie","dojo/_base/declare","dojo/_base/Deferred","dojo/DeferredList","dojo/dom","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/event","dojo/fx","dojo/_base/kernel","dojo/keys","dojo/_base/lang","dojo/on","dojo/topic","./focus","./registry","./_base/manager","./_Widget","./_TemplatedMixin","./_Container","./_Contained","./_CssStateMixin","dojo/text!./templates/TreeNode.html","dojo/text!./templates/Tree.html","./tree/TreeStoreModel","./tree/ForestStoreModel","./tree/_dndSelector"],function(_5f,_60,_61,_62,_63,_64,dom,_65,_66,_67,_68,_69,_6a,_6b,_6c,on,_6d,_6e,_6f,_70,_71,_72,_73,_74,_75,_76,_77,_78,_79,_7a){var _7b=_62("dijit._TreeNode",[_71,_72,_73,_74,_75],{item:null,isTreeNode:true,label:"",_setLabelAttr:{node:"labelNode",type:"innerText"},isExpandable:null,isExpanded:false,state:"UNCHECKED",templateString:_76,baseClass:"dijitTreeNode",cssStateNodes:{rowNode:"dijitTreeRow",labelNode:"dijitTreeLabel"},_setTooltipAttr:{node:"rowNode",type:"attribute",attribute:"title"},buildRendering:function(){this.inherited(arguments);this._setExpando();this._updateItemClasses(this.item);if(this.isExpandable){this.labelNode.setAttribute("aria-expanded",this.isExpanded);}this.setSelected(false);},_setIndentAttr:function(_7c){var _7d=(Math.max(_7c,0)*this.tree._nodePixelIndent)+"px";_67.set(this.domNode,"backgroundPosition",_7d+" 0px");_67.set(this.rowNode,this.isLeftToRight()?"paddingLeft":"paddingRight",_7d);_5f.forEach(this.getChildren(),function(_7e){_7e.set("indent",_7c+1);});this._set("indent",_7c);},markProcessing:function(){this.state="LOADING";this._setExpando(true);},unmarkProcessing:function(){this._setExpando(false);},_updateItemClasses:function(_7f){var _80=this.tree,_81=_80.model;if(_80._v10Compat&&_7f===_81.root){_7f=null;}this._applyClassAndStyle(_7f,"icon","Icon");this._applyClassAndStyle(_7f,"label","Label");this._applyClassAndStyle(_7f,"row","Row");},_applyClassAndStyle:function(_82,_83,_84){var _85="_"+_83+"Class";var _86=_83+"Node";var _87=this[_85];this[_85]=this.tree["get"+_84+"Class"](_82,this.isExpanded);_65.replace(this[_86],this[_85]||"",_87||"");_67.set(this[_86],this.tree["get"+_84+"Style"](_82,this.isExpanded)||{});},_updateLayout:function(){var _88=this.getParent();if(!_88||!_88.rowNode||_88.rowNode.style.display=="none"){_65.add(this.domNode,"dijitTreeIsRoot");}else{_65.toggle(this.domNode,"dijitTreeIsLast",!this.getNextSibling());}},_setExpando:function(_89){var _8a=["dijitTreeExpandoLoading","dijitTreeExpandoOpened","dijitTreeExpandoClosed","dijitTreeExpandoLeaf"],_8b=["*","-","+","*"],idx=_89?0:(this.isExpandable?(this.isExpanded?1:2):3);_65.replace(this.expandoNode,_8a[idx],_8a);this.expandoNodeText.innerHTML=_8b[idx];},expand:function(){if(this._expandDeferred){return this._expandDeferred;}this._wipeOut&&this._wipeOut.stop();this.isExpanded=true;this.labelNode.setAttribute("aria-expanded","true");if(this.tree.showRoot||this!==this.tree.rootNode){this.containerNode.setAttribute("role","group");}_65.add(this.contentNode,"dijitTreeContentExpanded");this._setExpando();this._updateItemClasses(this.item);if(this==this.tree.rootNode){this.tree.domNode.setAttribute("aria-expanded","true");}var def,_8c=_69.wipeIn({node:this.containerNode,duration:_70.defaultDuration,onEnd:function(){def.callback(true);}});def=(this._expandDeferred=new _63(function(){_8c.stop();}));_8c.play();return def;},collapse:function(){if(!this.isExpanded){return;}if(this._expandDeferred){this._expandDeferred.cancel();delete this._expandDeferred;}this.isExpanded=false;this.labelNode.setAttribute("aria-expanded","false");if(this==this.tree.rootNode){this.tree.domNode.setAttribute("aria-expanded","false");}_65.remove(this.contentNode,"dijitTreeContentExpanded");this._setExpando();this._updateItemClasses(this.item);if(!this._wipeOut){this._wipeOut=_69.wipeOut({node:this.containerNode,duration:_70.defaultDuration});}this._wipeOut.play();},indent:0,setChildItems:function(_8d){var _8e=this.tree,_8f=_8e.model,_90=[];_5f.forEach(this.getChildren(),function(_91){_73.prototype.removeChild.call(this,_91);},this);this.state="LOADED";if(_8d&&_8d.length>0){this.isExpandable=true;_5f.forEach(_8d,function(_92){var id=_8f.getIdentity(_92),_93=_8e._itemNodesMap[id],_94;if(_93){for(var i=0;i<_93.length;i++){if(_93[i]&&!_93[i].getParent()){_94=_93[i];_94.set("indent",this.indent+1);break;}}}if(!_94){_94=this.tree._createTreeNode({item:_92,tree:_8e,isExpandable:_8f.mayHaveChildren(_92),label:_8e.getLabel(_92),tooltip:_8e.getTooltip(_92),dir:_8e.dir,lang:_8e.lang,textDir:_8e.textDir,indent:this.indent+1});if(_93){_93.push(_94);}else{_8e._itemNodesMap[id]=[_94];}}this.addChild(_94);if(this.tree.autoExpand||this.tree._state(_94)){_90.push(_8e._expandNode(_94));}},this);_5f.forEach(this.getChildren(),function(_95){_95._updateLayout();});}else{this.isExpandable=false;}if(this._setExpando){this._setExpando(false);}this._updateItemClasses(this.item);if(this==_8e.rootNode){var fc=this.tree.showRoot?this:this.getChildren()[0];if(fc){fc.setFocusable(true);_8e.lastFocused=fc;}else{_8e.domNode.setAttribute("tabIndex","0");}}return new _64(_90);},getTreePath:function(){var _96=this;var _97=[];while(_96&&_96!==this.tree.rootNode){_97.unshift(_96.item);_96=_96.getParent();}_97.unshift(this.tree.rootNode.item);return _97;},getIdentity:function(){return this.tree.model.getIdentity(this.item);},removeChild:function(_98){this.inherited(arguments);var _99=this.getChildren();if(_99.length==0){this.isExpandable=false;this.collapse();}_5f.forEach(_99,function(_9a){_9a._updateLayout();});},makeExpandable:function(){this.isExpandable=true;this._setExpando(false);},_onLabelFocus:function(){this.tree._onNodeFocus(this);},setSelected:function(_9b){this.labelNode.setAttribute("aria-selected",_9b);_65.toggle(this.rowNode,"dijitTreeRowSelected",_9b);},setFocusable:function(_9c){this.labelNode.setAttribute("tabIndex",_9c?"0":"-1");},_onClick:function(evt){this.tree._onClick(this,evt);},_onDblClick:function(evt){this.tree._onDblClick(this,evt);},_onMouseEnter:function(evt){this.tree._onNodeMouseEnter(this,evt);},_onMouseLeave:function(evt){this.tree._onNodeMouseLeave(this,evt);},_setTextDirAttr:function(_9d){if(_9d&&((this.textDir!=_9d)||!this._created)){this._set("textDir",_9d);this.applyTextDir(this.labelNode,this.labelNode.innerText||this.labelNode.textContent||"");_5f.forEach(this.getChildren(),function(_9e){_9e.set("textDir",_9d);},this);}}});var _9f=_62("dijit.Tree",[_71,_72],{store:null,model:null,query:null,label:"",showRoot:true,childrenAttr:["children"],paths:[],path:[],selectedItems:null,selectedItem:null,openOnClick:false,openOnDblClick:false,templateString:_77,persist:true,autoExpand:false,dndController:_7a,dndParams:["onDndDrop","itemCreator","onDndCancel","checkAcceptance","checkItemAcceptance","dragThreshold","betweenThreshold"],onDndDrop:null,itemCreator:null,onDndCancel:null,checkAcceptance:null,checkItemAcceptance:null,dragThreshold:5,betweenThreshold:0,_nodePixelIndent:19,_publish:function(_a0,_a1){_6d.publish(this.id,_6c.mixin({tree:this,event:_a0},_a1||{}));},postMixInProperties:function(){this.tree=this;if(this.autoExpand){this.persist=false;}this._itemNodesMap={};if(!this.cookieName&&this.id){this.cookieName=this.id+"SaveStateCookie";}this._loadDeferred=new _63();this.inherited(arguments);},postCreate:function(){this._initState();var _a2=this;this._connects.push(on(this.domNode,on.selector(".dijitTreeNode","keypress"),function(evt){_a2._onKeyPress(_6f.byNode(this),evt);}),on(this.domNode,on.selector(".dijitTreeNode","keydown"),function(evt){_a2._onKeyDown(_6f.byNode(this),evt);}));if(!this.model){this._store2model();}this.connect(this.model,"onChange","_onItemChange");this.connect(this.model,"onChildrenChange","_onItemChildrenChange");this.connect(this.model,"onDelete","_onItemDelete");this._load();this.inherited(arguments);if(this.dndController){if(_6c.isString(this.dndController)){this.dndController=_6c.getObject(this.dndController);}var _a3={};for(var i=0;i<this.dndParams.length;i++){if(this[this.dndParams[i]]){_a3[this.dndParams[i]]=this[this.dndParams[i]];}}this.dndController=new this.dndController(this,_a3);}},_store2model:function(){this._v10Compat=true;_6a.deprecated("Tree: from version 2.0, should specify a model object rather than a store/query");var _a4={id:this.id+"_ForestStoreModel",store:this.store,query:this.query,childrenAttrs:this.childrenAttr};if(this.params.mayHaveChildren){_a4.mayHaveChildren=_6c.hitch(this,"mayHaveChildren");}if(this.params.getItemChildren){_a4.getChildren=_6c.hitch(this,function(_a5,_a6,_a7){this.getItemChildren((this._v10Compat&&_a5===this.model.root)?null:_a5,_a6,_a7);});}this.model=new _79(_a4);this.showRoot=Boolean(this.label);},onLoad:function(){},_load:function(){this.model.getRoot(_6c.hitch(this,function(_a8){var rn=(this.rootNode=this.tree._createTreeNode({item:_a8,tree:this,isExpandable:true,label:this.label||this.getLabel(_a8),textDir:this.textDir,indent:this.showRoot?0:-1}));if(!this.showRoot){rn.rowNode.style.display="none";this.domNode.setAttribute("role","presentation");rn.labelNode.setAttribute("role","presentation");rn.containerNode.setAttribute("role","tree");}this.domNode.appendChild(rn.domNode);var _a9=this.model.getIdentity(_a8);if(this._itemNodesMap[_a9]){this._itemNodesMap[_a9].push(rn);}else{this._itemNodesMap[_a9]=[rn];}rn._updateLayout();this._expandNode(rn).addCallback(_6c.hitch(this,function(){this._loadDeferred.callback(true);this.onLoad();}));}),function(err){console.error(this,": error loading root: ",err);});},getNodesByItem:function(_aa){if(!_aa){return [];}var _ab=_6c.isString(_aa)?_aa:this.model.getIdentity(_aa);return [].concat(this._itemNodesMap[_ab]);},_setSelectedItemAttr:function(_ac){this.set("selectedItems",[_ac]);},_setSelectedItemsAttr:function(_ad){var _ae=this;this._loadDeferred.addCallback(_6c.hitch(this,function(){var _af=_5f.map(_ad,function(_b0){return (!_b0||_6c.isString(_b0))?_b0:_ae.model.getIdentity(_b0);});var _b1=[];_5f.forEach(_af,function(id){_b1=_b1.concat(_ae._itemNodesMap[id]||[]);});this.set("selectedNodes",_b1);}));},_setPathAttr:function(_b2){if(_b2.length){return this.set("paths",[_b2]);}else{return this.set("paths",[]);}},_setPathsAttr:function(_b3){var _b4=this;return new _64(_5f.map(_b3,function(_b5){var d=new _63();_b5=_5f.map(_b5,function(_b6){return _6c.isString(_b6)?_b6:_b4.model.getIdentity(_b6);});if(_b5.length){_b4._loadDeferred.addCallback(function(){_b7(_b5,[_b4.rootNode],d);});}else{d.errback("Empty path");}return d;})).addCallback(_b8);function _b7(_b9,_ba,def){var _bb=_b9.shift();var _bc=_5f.filter(_ba,function(_bd){return _bd.getIdentity()==_bb;})[0];if(!!_bc){if(_b9.length){_b4._expandNode(_bc).addCallback(function(){_b7(_b9,_bc.getChildren(),def);});}else{def.callback(_bc);}}else{def.errback("Could not expand path at "+_bb);}};function _b8(_be){_b4.set("selectedNodes",_5f.map(_5f.filter(_be,function(x){return x[0];}),function(x){return x[1];}));};},_setSelectedNodeAttr:function(_bf){this.set("selectedNodes",[_bf]);},_setSelectedNodesAttr:function(_c0){this._loadDeferred.addCallback(_6c.hitch(this,function(){this.dndController.setSelection(_c0);}));},mayHaveChildren:function(){},getItemChildren:function(){},getLabel:function(_c1){return this.model.getLabel(_c1);},getIconClass:function(_c2,_c3){return (!_c2||this.model.mayHaveChildren(_c2))?(_c3?"dijitFolderOpened":"dijitFolderClosed"):"dijitLeaf";},getLabelClass:function(){},getRowClass:function(){},getIconStyle:function(){},getLabelStyle:function(){},getRowStyle:function(){},getTooltip:function(){return "";},_onKeyPress:function(_c4,e){if(e.charCode<=32){return;}if(!e.altKey&&!e.ctrlKey&&!e.shiftKey&&!e.metaKey){var c=String.fromCharCode(e.charCode);this._onLetterKeyNav({node:_c4,key:c.toLowerCase()});_68.stop(e);}},_onKeyDown:function(_c5,e){var key=e.keyCode;var map=this._keyHandlerMap;if(!map){map={};map[_6b.ENTER]="_onEnterKey";map[_6b.SPACE]=map[" "]="_onEnterKey";map[this.isLeftToRight()?_6b.LEFT_ARROW:_6b.RIGHT_ARROW]="_onLeftArrow";map[this.isLeftToRight()?_6b.RIGHT_ARROW:_6b.LEFT_ARROW]="_onRightArrow";map[_6b.UP_ARROW]="_onUpArrow";map[_6b.DOWN_ARROW]="_onDownArrow";map[_6b.HOME]="_onHomeKey";map[_6b.END]="_onEndKey";this._keyHandlerMap=map;}if(this._keyHandlerMap[key]){if(this._curSearch){clearTimeout(this._curSearch.timer);delete this._curSearch;}this[this._keyHandlerMap[key]]({node:_c5,item:_c5.item,evt:e});_68.stop(e);}},_onEnterKey:function(_c6){this._publish("execute",{item:_c6.item,node:_c6.node});this.dndController.userSelect(_c6.node,_60.isCopyKey(_c6.evt),_c6.evt.shiftKey);this.onClick(_c6.item,_c6.node,_c6.evt);},_onDownArrow:function(_c7){var _c8=this._getNextNode(_c7.node);if(_c8&&_c8.isTreeNode){this.focusNode(_c8);}},_onUpArrow:function(_c9){var _ca=_c9.node;var _cb=_ca.getPreviousSibling();if(_cb){_ca=_cb;while(_ca.isExpandable&&_ca.isExpanded&&_ca.hasChildren()){var _cc=_ca.getChildren();_ca=_cc[_cc.length-1];}}else{var _cd=_ca.getParent();if(!(!this.showRoot&&_cd===this.rootNode)){_ca=_cd;}}if(_ca&&_ca.isTreeNode){this.focusNode(_ca);}},_onRightArrow:function(_ce){var _cf=_ce.node;if(_cf.isExpandable&&!_cf.isExpanded){this._expandNode(_cf);}else{if(_cf.hasChildren()){_cf=_cf.getChildren()[0];if(_cf&&_cf.isTreeNode){this.focusNode(_cf);}}}},_onLeftArrow:function(_d0){var _d1=_d0.node;if(_d1.isExpandable&&_d1.isExpanded){this._collapseNode(_d1);}else{var _d2=_d1.getParent();if(_d2&&_d2.isTreeNode&&!(!this.showRoot&&_d2===this.rootNode)){this.focusNode(_d2);}}},_onHomeKey:function(){var _d3=this._getRootOrFirstNode();if(_d3){this.focusNode(_d3);}},_onEndKey:function(){var _d4=this.rootNode;while(_d4.isExpanded){var c=_d4.getChildren();_d4=c[c.length-1];}if(_d4&&_d4.isTreeNode){this.focusNode(_d4);}},multiCharSearchDuration:250,_onLetterKeyNav:function(_d5){var cs=this._curSearch;if(cs){cs.pattern=cs.pattern+_d5.key;clearTimeout(cs.timer);}else{cs=this._curSearch={pattern:_d5.key,startNode:_d5.node};}var _d6=this;cs.timer=setTimeout(function(){delete _d6._curSearch;},this.multiCharSearchDuration);var _d7=cs.startNode;do{_d7=this._getNextNode(_d7);if(!_d7){_d7=this._getRootOrFirstNode();}}while(_d7!==cs.startNode&&(_d7.label.toLowerCase().substr(0,cs.pattern.length)!=cs.pattern));if(_d7&&_d7.isTreeNode){if(_d7!==cs.startNode){this.focusNode(_d7);}}},isExpandoNode:function(_d8,_d9){return dom.isDescendant(_d8,_d9.expandoNode);},_onClick:function(_da,e){var _db=e.target,_dc=this.isExpandoNode(_db,_da);if((this.openOnClick&&_da.isExpandable)||_dc){if(_da.isExpandable){this._onExpandoClick({node:_da});}}else{this._publish("execute",{item:_da.item,node:_da,evt:e});this.onClick(_da.item,_da,e);this.focusNode(_da);}_68.stop(e);},_onDblClick:function(_dd,e){var _de=e.target,_df=(_de==_dd.expandoNode||_de==_dd.expandoNodeText);if((this.openOnDblClick&&_dd.isExpandable)||_df){if(_dd.isExpandable){this._onExpandoClick({node:_dd});}}else{this._publish("execute",{item:_dd.item,node:_dd,evt:e});this.onDblClick(_dd.item,_dd,e);this.focusNode(_dd);}_68.stop(e);},_onExpandoClick:function(_e0){var _e1=_e0.node;this.focusNode(_e1);if(_e1.isExpanded){this._collapseNode(_e1);}else{this._expandNode(_e1);}},onClick:function(){},onDblClick:function(){},onOpen:function(){},onClose:function(){},_getNextNode:function(_e2){if(_e2.isExpandable&&_e2.isExpanded&&_e2.hasChildren()){return _e2.getChildren()[0];}else{while(_e2&&_e2.isTreeNode){var _e3=_e2.getNextSibling();if(_e3){return _e3;}_e2=_e2.getParent();}return null;}},_getRootOrFirstNode:function(){return this.showRoot?this.rootNode:this.rootNode.getChildren()[0];},_collapseNode:function(_e4){if(_e4._expandNodeDeferred){delete _e4._expandNodeDeferred;}if(_e4.isExpandable){if(_e4.state=="LOADING"){return;}_e4.collapse();this.onClose(_e4.item,_e4);this._state(_e4,false);}},_expandNode:function(_e5,_e6){if(_e5._expandNodeDeferred&&!_e6){return _e5._expandNodeDeferred;}var _e7=this.model,_e8=_e5.item,_e9=this;switch(_e5.state){case "UNCHECKED":_e5.markProcessing();var def=(_e5._expandNodeDeferred=new _63());_e7.getChildren(_e8,function(_ea){_e5.unmarkProcessing();var _eb=_e5.setChildItems(_ea);var ed=_e9._expandNode(_e5,true);_eb.addCallback(function(){ed.addCallback(function(){def.callback();});});},function(err){console.error(_e9,": error loading root children: ",err);});break;default:def=(_e5._expandNodeDeferred=_e5.expand());this.onOpen(_e5.item,_e5);this._state(_e5,true);}return def;},focusNode:function(_ec){_6e.focus(_ec.labelNode);},_onNodeFocus:function(_ed){if(_ed&&_ed!=this.lastFocused){if(this.lastFocused&&!this.lastFocused._destroyed){this.lastFocused.setFocusable(false);}_ed.setFocusable(true);this.lastFocused=_ed;}},_onNodeMouseEnter:function(){},_onNodeMouseLeave:function(){},_onItemChange:function(_ee){var _ef=this.model,_f0=_ef.getIdentity(_ee),_f1=this._itemNodesMap[_f0];if(_f1){var _f2=this.getLabel(_ee),_f3=this.getTooltip(_ee);_5f.forEach(_f1,function(_f4){_f4.set({item:_ee,label:_f2,tooltip:_f3});_f4._updateItemClasses(_ee);});}},_onItemChildrenChange:function(_f5,_f6){var _f7=this.model,_f8=_f7.getIdentity(_f5),_f9=this._itemNodesMap[_f8];if(_f9){_5f.forEach(_f9,function(_fa){_fa.setChildItems(_f6);});}},_onItemDelete:function(_fb){var _fc=this.model,_fd=_fc.getIdentity(_fb),_fe=this._itemNodesMap[_fd];if(_fe){_5f.forEach(_fe,function(_ff){this.dndController.removeTreeNode(_ff);var _100=_ff.getParent();if(_100){_100.removeChild(_ff);}_ff.destroyRecursive();},this);delete this._itemNodesMap[_fd];}},_initState:function(){this._openedNodes={};if(this.persist&&this.cookieName){var oreo=_61(this.cookieName);if(oreo){_5f.forEach(oreo.split(","),function(item){this._openedNodes[item]=true;},this);}}},_state:function(node,_101){if(!this.persist){return false;}var path=_5f.map(node.getTreePath(),function(item){return this.model.getIdentity(item);},this).join("/");if(arguments.length===1){return this._openedNodes[path];}else{if(_101){this._openedNodes[path]=true;}else{delete this._openedNodes[path];}var ary=[];for(var id in this._openedNodes){ary.push(id);}_61(this.cookieName,ary.join(","),{expires:365});}},destroy:function(){if(this._curSearch){clearTimeout(this._curSearch.timer);delete this._curSearch;}if(this.rootNode){this.rootNode.destroyRecursive();}if(this.dndController&&!_6c.isString(this.dndController)){this.dndController.destroy();}this.rootNode=null;this.inherited(arguments);},destroyRecursive:function(){this.destroy();},resize:function(_102){if(_102){_66.setMarginBox(this.domNode,_102);}this._nodePixelIndent=_66.position(this.tree.indentDetector).w;if(this.tree.rootNode){this.tree.rootNode.set("indent",this.showRoot?0:-1);}},_createTreeNode:function(args){return new _7b(args);},_setTextDirAttr:function(_103){if(_103&&this.textDir!=_103){this._set("textDir",_103);this.rootNode.set("textDir",_103);}}});_9f._TreeNode=_7b;return _9f;});},"dojo/touch":function(){define("dojo/touch",["./_base/kernel","./aspect","./dom","./on","./has","./mouse","./domReady","./_base/window"],function(dojo,_104,dom,on,has,_105,_106,win){var _107=has("touch");var ios4=false;if(has("ios")){var ua=navigator.userAgent;var v=ua.match(/OS ([\d_]+)/)?RegExp.$1:"1";var os=parseFloat(v.replace(/_/,".").replace(/_/g,""));ios4=os<5;}var _108;function _109(_10a,_10b){if(_107){return function(node,_10c){var _10d=on(node,_10b,_10c),_10e=on(node,_10a,function(evt){if(!_108||(new Date()).getTime()>_108+1000){_10c.call(this,evt);}});return {remove:function(){_10d.remove();_10e.remove();}};};}else{return function(node,_10f){return on(node,_10a,_10f);};}};var _110,_111;if(_107){_106(function(){_111=win.body();win.doc.addEventListener("touchstart",function(evt){_108=(new Date()).getTime();var _112=_111;_111=evt.target;on.emit(_112,"dojotouchout",{target:_112,relatedTarget:_111,bubbles:true});on.emit(_111,"dojotouchover",{target:_111,relatedTarget:_112,bubbles:true});},true);on(win.doc,"touchmove",function(evt){_108=(new Date()).getTime();var _113=win.doc.elementFromPoint(evt.pageX-(ios4?0:win.global.pageXOffset),evt.pageY-(ios4?0:win.global.pageYOffset));if(_113&&_111!==_113){on.emit(_111,"dojotouchout",{target:_111,relatedTarget:_113,bubbles:true});on.emit(_113,"dojotouchover",{target:_113,relatedTarget:_111,bubbles:true});_111=_113;}});});_110=function(node,_114){return on(win.doc,"touchmove",function(evt){if(node===win.doc||dom.isDescendant(_111,node)){evt.target=_111;_114.call(this,evt);}});};}var _115={press:_109("mousedown","touchstart"),move:_109("mousemove",_110),release:_109("mouseup","touchend"),cancel:_109(_105.leave,"touchcancel"),over:_109("mouseover","dojotouchover"),out:_109("mouseout","dojotouchout"),enter:_105._eventHandler(_109("mouseover","dojotouchover")),leave:_105._eventHandler(_109("mouseout","dojotouchout"))};1&&(dojo.touch=_115);return _115;});},"url:dijit/templates/Tree.html":"<div class=\"dijitTree dijitTreeContainer\" role=\"tree\">\n\t<div class=\"dijitInline dijitTreeIndent\" style=\"position: absolute; top: -9999px\" data-dojo-attach-point=\"indentDetector\"></div>\n</div>\n","url:dijit/templates/TreeNode.html":"<div class=\"dijitTreeNode\" role=\"presentation\"\n\t><div data-dojo-attach-point=\"rowNode\" class=\"dijitTreeRow\" role=\"presentation\" data-dojo-attach-event=\"onmouseenter:_onMouseEnter, onmouseleave:_onMouseLeave, onclick:_onClick, ondblclick:_onDblClick\"\n\t\t><img src=\"${_blankGif}\" alt=\"\" data-dojo-attach-point=\"expandoNode\" class=\"dijitTreeExpando\" role=\"presentation\"\n\t\t/><span data-dojo-attach-point=\"expandoNodeText\" class=\"dijitExpandoText\" role=\"presentation\"\n\t\t></span\n\t\t><span data-dojo-attach-point=\"contentNode\"\n\t\t\tclass=\"dijitTreeContent\" role=\"presentation\">\n\t\t\t<img src=\"${_blankGif}\" alt=\"\" data-dojo-attach-point=\"iconNode\" class=\"dijitIcon dijitTreeIcon\" role=\"presentation\"\n\t\t\t/><span data-dojo-attach-point=\"labelNode\" class=\"dijitTreeLabel\" role=\"treeitem\" tabindex=\"-1\" aria-selected=\"false\" data-dojo-attach-event=\"onfocus:_onLabelFocus\"></span>\n\t\t</span\n\t></div>\n\t<div data-dojo-attach-point=\"containerNode\" class=\"dijitTreeContainer\" role=\"presentation\" style=\"display: none;\"></div>\n</div>\n","dijit/tree/_dndContainer":function(){define("dijit/tree/_dndContainer",["dojo/aspect","dojo/_base/declare","dojo/dom-class","dojo/_base/event","dojo/_base/lang","dojo/mouse","dojo/on"],function(_116,_117,_118,_119,lang,_11a,on){return _117("dijit.tree._dndContainer",null,{constructor:function(tree,_11b){this.tree=tree;this.node=tree.domNode;lang.mixin(this,_11b);this.current=null;this.containerState="";_118.add(this.node,"dojoDndContainer");this.events=[on(this.node,_11a.enter,lang.hitch(this,"onOverEvent")),on(this.node,_11a.leave,lang.hitch(this,"onOutEvent")),_116.after(this.tree,"_onNodeMouseEnter",lang.hitch(this,"onMouseOver"),true),_116.after(this.tree,"_onNodeMouseLeave",lang.hitch(this,"onMouseOut"),true),on(this.node,"dragstart",lang.hitch(_119,"stop")),on(this.node,"selectstart",lang.hitch(_119,"stop"))];},destroy:function(){var h;while(h=this.events.pop()){h.remove();}this.node=this.parent=null;},onMouseOver:function(_11c){this.current=_11c;},onMouseOut:function(){this.current=null;},_changeState:function(type,_11d){var _11e="dojoDnd"+type;var _11f=type.toLowerCase()+"State";_118.replace(this.node,_11e+_11d,_11e+this[_11f]);this[_11f]=_11d;},_addItemClass:function(node,type){_118.add(node,"dojoDndItem"+type);},_removeItemClass:function(node,type){_118.remove(node,"dojoDndItem"+type);},onOverEvent:function(){this._changeState("Container","Over");},onOutEvent:function(){this._changeState("Container","");}});});},"dijit/tree/dndSource":function(){define("dijit/tree/dndSource",["dojo/_base/array","dojo/_base/connect","dojo/_base/declare","dojo/dom-class","dojo/dom-geometry","dojo/_base/lang","dojo/on","dojo/touch","dojo/topic","dojo/dnd/Manager","./_dndSelector"],function(_120,_121,_122,_123,_124,lang,on,_125,_126,_127,_128){return _122("dijit.tree.dndSource",_128,{isSource:true,accept:["text","treeNode"],copyOnly:false,dragThreshold:5,betweenThreshold:0,constructor:function(tree,_129){if(!_129){_129={};}lang.mixin(this,_129);this.isSource=typeof _129.isSource=="undefined"?true:_129.isSource;var type=_129.accept instanceof Array?_129.accept:["text","treeNode"];this.accept=null;if(type.length){this.accept={};for(var i=0;i<type.length;++i){this.accept[type[i]]=1;}}this.isDragging=false;this.mouseDown=false;this.targetAnchor=null;this.targetBox=null;this.dropPosition="";this._lastX=0;this._lastY=0;this.sourceState="";if(this.isSource){_123.add(this.node,"dojoDndSource");}this.targetState="";if(this.accept){_123.add(this.node,"dojoDndTarget");}this.topics=[_126.subscribe("/dnd/source/over",lang.hitch(this,"onDndSourceOver")),_126.subscribe("/dnd/start",lang.hitch(this,"onDndStart")),_126.subscribe("/dnd/drop",lang.hitch(this,"onDndDrop")),_126.subscribe("/dnd/cancel",lang.hitch(this,"onDndCancel"))];},checkAcceptance:function(){return true;},copyState:function(_12a){return this.copyOnly||_12a;},destroy:function(){this.inherited(arguments);var h;while(h=this.topics.pop()){h.remove();}this.targetAnchor=null;},_onDragMouse:function(e){var m=_127.manager(),_12b=this.targetAnchor,_12c=this.current,_12d=this.dropPosition;var _12e="Over";if(_12c&&this.betweenThreshold>0){if(!this.targetBox||_12b!=_12c){this.targetBox=_124.position(_12c.rowNode,true);}if((e.pageY-this.targetBox.y)<=this.betweenThreshold){_12e="Before";}else{if((e.pageY-this.targetBox.y)>=(this.targetBox.h-this.betweenThreshold)){_12e="After";}}}if(_12c!=_12b||_12e!=_12d){if(_12b){this._removeItemClass(_12b.rowNode,_12d);}if(_12c){this._addItemClass(_12c.rowNode,_12e);}if(!_12c){m.canDrop(false);}else{if(_12c==this.tree.rootNode&&_12e!="Over"){m.canDrop(false);}else{var _12f=this.tree.model,_130=false;if(m.source==this){for(var _131 in this.selection){var _132=this.selection[_131];if(_132.item===_12c.item){_130=true;break;}}}if(_130){m.canDrop(false);}else{if(this.checkItemAcceptance(_12c.rowNode,m.source,_12e.toLowerCase())&&!this._isParentChildDrop(m.source,_12c.rowNode)){m.canDrop(true);}else{m.canDrop(false);}}}}this.targetAnchor=_12c;this.dropPosition=_12e;}},onMouseMove:function(e){if(this.isDragging&&this.targetState=="Disabled"){return;}this.inherited(arguments);var m=_127.manager();if(this.isDragging){this._onDragMouse(e);}else{if(this.mouseDown&&this.isSource&&(Math.abs(e.pageX-this._lastX)>=this.dragThreshold||Math.abs(e.pageY-this._lastY)>=this.dragThreshold)){var _133=this.getSelectedTreeNodes();if(_133.length){if(_133.length>1){var seen=this.selection,i=0,r=[],n,p;nextitem:while((n=_133[i++])){for(p=n.getParent();p&&p!==this.tree;p=p.getParent()){if(seen[p.id]){continue nextitem;}}r.push(n);}_133=r;}_133=_120.map(_133,function(n){return n.domNode;});m.startDrag(this,_133,this.copyState(_121.isCopyKey(e)));}}}},onMouseDown:function(e){this.mouseDown=true;this.mouseButton=e.button;this._lastX=e.pageX;this._lastY=e.pageY;this.inherited(arguments);},onMouseUp:function(e){if(this.mouseDown){this.mouseDown=false;this.inherited(arguments);}},onMouseOut:function(){this.inherited(arguments);this._unmarkTargetAnchor();},checkItemAcceptance:function(){return true;},onDndSourceOver:function(_134){if(this!=_134){this.mouseDown=false;this._unmarkTargetAnchor();}else{if(this.isDragging){var m=_127.manager();m.canDrop(false);}}},onDndStart:function(_135,_136,copy){if(this.isSource){this._changeState("Source",this==_135?(copy?"Copied":"Moved"):"");}var _137=this.checkAcceptance(_135,_136);this._changeState("Target",_137?"":"Disabled");if(this==_135){_127.manager().overSource(this);}this.isDragging=true;},itemCreator:function(_138){return _120.map(_138,function(node){return {"id":node.id,"name":node.textContent||node.innerText||""};});},onDndDrop:function(_139,_13a,copy){if(this.containerState=="Over"){var tree=this.tree,_13b=tree.model,_13c=this.targetAnchor;this.isDragging=false;var _13d;var _13e;_13d=(_13c&&_13c.item)||tree.item;if(this.dropPosition=="Before"||this.dropPosition=="After"){_13d=(_13c.getParent()&&_13c.getParent().item)||tree.item;_13e=_13c.getIndexInParent();if(this.dropPosition=="After"){_13e=_13c.getIndexInParent()+1;}}else{_13d=(_13c&&_13c.item)||tree.item;}var _13f;_120.forEach(_13a,function(node,idx){var _140=_139.getItem(node.id);if(_120.indexOf(_140.type,"treeNode")!=-1){var _141=_140.data,_142=_141.item,_143=_141.getParent().item;}if(_139==this){if(typeof _13e=="number"){if(_13d==_143&&_141.getIndexInParent()<_13e){_13e-=1;}}_13b.pasteItem(_142,_143,_13d,copy,_13e);}else{if(_13b.isItem(_142)){_13b.pasteItem(_142,_143,_13d,copy,_13e);}else{if(!_13f){_13f=this.itemCreator(_13a,_13c.rowNode,_139);}_13b.newItem(_13f[idx],_13d,_13e);}}},this);this.tree._expandNode(_13c);}this.onDndCancel();},onDndCancel:function(){this._unmarkTargetAnchor();this.isDragging=false;this.mouseDown=false;delete this.mouseButton;this._changeState("Source","");this._changeState("Target","");},onOverEvent:function(){this.inherited(arguments);_127.manager().overSource(this);},onOutEvent:function(){this._unmarkTargetAnchor();var m=_127.manager();if(this.isDragging){m.canDrop(false);}m.outSource(this);this.inherited(arguments);},_isParentChildDrop:function(_144,_145){if(!_144.tree||_144.tree!=this.tree){return false;}var root=_144.tree.domNode;var ids=_144.selection;var node=_145.parentNode;while(node!=root&&!ids[node.id]){node=node.parentNode;}return node.id&&ids[node.id];},_unmarkTargetAnchor:function(){if(!this.targetAnchor){return;}this._removeItemClass(this.targetAnchor.rowNode,this.dropPosition);this.targetAnchor=null;this.targetBox=null;this.dropPosition=null;},_markDndStatus:function(copy){this._changeState("Source",copy?"Copied":"Moved");}});});},"dijit/tree/ForestStoreModel":function(){define("dijit/tree/ForestStoreModel",["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/_base/window","./TreeStoreModel"],function(_146,_147,lang,win,_148){return _147("dijit.tree.ForestStoreModel",_148,{rootId:"$root$",rootLabel:"ROOT",query:null,constructor:function(_149){this.root={store:this,root:true,id:_149.rootId,label:_149.rootLabel,children:_149.rootChildren};},mayHaveChildren:function(item){return item===this.root||this.inherited(arguments);},getChildren:function(_14a,_14b,_14c){if(_14a===this.root){if(this.root.children){_14b(this.root.children);}else{this.store.fetch({query:this.query,onComplete:lang.hitch(this,function(_14d){this.root.children=_14d;_14b(_14d);}),onError:_14c});}}else{this.inherited(arguments);}},isItem:function(_14e){return (_14e===this.root)?true:this.inherited(arguments);},fetchItemByIdentity:function(_14f){if(_14f.identity==this.root.id){var _150=_14f.scope?_14f.scope:win.global;if(_14f.onItem){_14f.onItem.call(_150,this.root);}}else{this.inherited(arguments);}},getIdentity:function(item){return (item===this.root)?this.root.id:this.inherited(arguments);},getLabel:function(item){return (item===this.root)?this.root.label:this.inherited(arguments);},newItem:function(args,_151,_152){if(_151===this.root){this.onNewRootItem(args);return this.store.newItem(args);}else{return this.inherited(arguments);}},onNewRootItem:function(){},pasteItem:function(_153,_154,_155,_156,_157){if(_154===this.root){if(!_156){this.onLeaveRoot(_153);}}this.inherited(arguments,[_153,_154===this.root?null:_154,_155===this.root?null:_155,_156,_157]);if(_155===this.root){this.onAddToRoot(_153);}},onAddToRoot:function(item){},onLeaveRoot:function(item){},_requeryTop:function(){var _158=this.root.children||[];this.store.fetch({query:this.query,onComplete:lang.hitch(this,function(_159){this.root.children=_159;if(_158.length!=_159.length||_146.some(_158,function(item,idx){return _159[idx]!=item;})){this.onChildrenChange(this.root,_159);}})});},onNewItem:function(item,_15a){this._requeryTop();this.inherited(arguments);},onDeleteItem:function(item){if(_146.indexOf(this.root.children,item)!=-1){this._requeryTop();}this.inherited(arguments);},onSetItem:function(item,_15b,_15c,_15d){this._requeryTop();this.inherited(arguments);}});});},"dojo/window":function(){define("dojo/window",["./_base/lang","./_base/sniff","./_base/window","./dom","./dom-geometry","./dom-style","./dom-construct"],function(lang,has,_15e,dom,geom,_15f,_160){has.add("rtl-adjust-position-for-verticalScrollBar",function(win,doc){var body=_15e.body(doc),_161=_160.create("div",{style:{overflow:"scroll",overflowX:"visible",direction:"rtl",visibility:"hidden",position:"absolute",left:"0",top:"0",width:"64px",height:"64px"}},body,"last"),div=_160.create("div",{style:{overflow:"hidden",direction:"ltr"}},_161,"last"),ret=geom.position(div).x!=0;_161.removeChild(div);body.removeChild(_161);return ret;});has.add("position-fixed-support",function(win,doc){var body=_15e.body(doc),_162=_160.create("span",{style:{visibility:"hidden",position:"fixed",left:"1px",top:"1px"}},body,"last"),_163=_160.create("span",{style:{position:"fixed",left:"0",top:"0"}},_162,"last"),ret=geom.position(_163).x!=geom.position(_162).x;_162.removeChild(_163);body.removeChild(_162);return ret;});var _164=lang.getObject("dojo.window",true);_164.getBox=function(){var _165=(_15e.doc.compatMode=="BackCompat")?_15e.body():_15e.doc.documentElement,_166=geom.docScroll(),w,h;if(has("touch")){var _167=_15e.doc.parentWindow||_15e.doc.defaultView;w=_167.innerWidth||_165.clientWidth;h=_167.innerHeight||_165.clientHeight;}else{w=_165.clientWidth;h=_165.clientHeight;}return {l:_166.x,t:_166.y,w:w,h:h};};_164.get=function(doc){if(has("ie")<9&&_164!==document.parentWindow){doc.parentWindow.execScript("document._parentWindow = window;","Javascript");var win=doc._parentWindow;doc._parentWindow=null;return win;}return doc.parentWindow||doc.defaultView;};_164.scrollIntoView=function(node,pos){try{node=dom.byId(node);var doc=node.ownerDocument||_15e.doc,body=_15e.body(doc),html=doc.documentElement||body.parentNode,isIE=has("ie"),isWK=has("webkit");if(node==body||node==html){return;}if(!(has("mozilla")||isIE||isWK||has("opera")||has("trident"))&&("scrollIntoView" in node)){node.scrollIntoView(false);return;}var _168=doc.compatMode=="BackCompat",_169=Math.min(body.clientWidth||html.clientWidth,html.clientWidth||body.clientWidth),_16a=Math.min(body.clientHeight||html.clientHeight,html.clientHeight||body.clientHeight),_16b=(isWK||_168)?body:html,_16c=pos||geom.position(node),el=node.parentNode,_16d=function(el){return (isIE<=6||(isIE==7&&_168))?false:(has("position-fixed-support")&&(_15f.get(el,"position").toLowerCase()=="fixed"));},self=this,_16e=function(el,x,y){if(el.tagName=="BODY"||el.tagName=="HTML"){self.get(el.ownerDocument).scrollBy(x,y);}else{x&&(el.scrollLeft+=x);y&&(el.scrollTop+=y);}};if(_16d(node)){return;}while(el){if(el==body){el=_16b;}var _16f=geom.position(el),_170=_16d(el),rtl=_15f.getComputedStyle(el).direction.toLowerCase()=="rtl";if(el==_16b){_16f.w=_169;_16f.h=_16a;if(_16b==html&&(isIE||has("trident"))&&rtl){_16f.x+=_16b.offsetWidth-_16f.w;}if(_16f.x<0||!isIE||isIE>=9||has("trident")){_16f.x=0;}if(_16f.y<0||!isIE||isIE>=9||has("trident")){_16f.y=0;}}else{var pb=geom.getPadBorderExtents(el);_16f.w-=pb.w;_16f.h-=pb.h;_16f.x+=pb.l;_16f.y+=pb.t;var _171=el.clientWidth,_172=_16f.w-_171;if(_171>0&&_172>0){if(rtl&&has("rtl-adjust-position-for-verticalScrollBar")){_16f.x+=_172;}_16f.w=_171;}_171=el.clientHeight;_172=_16f.h-_171;if(_171>0&&_172>0){_16f.h=_171;}}if(_170){if(_16f.y<0){_16f.h+=_16f.y;_16f.y=0;}if(_16f.x<0){_16f.w+=_16f.x;_16f.x=0;}if(_16f.y+_16f.h>_16a){_16f.h=_16a-_16f.y;}if(_16f.x+_16f.w>_169){_16f.w=_169-_16f.x;}}var l=_16c.x-_16f.x,t=_16c.y-_16f.y,r=l+_16c.w-_16f.w,bot=t+_16c.h-_16f.h;var s,old;if(r*l>0&&(!!el.scrollLeft||el==_16b||el.scrollWidth>el.offsetHeight)){s=Math[l<0?"max":"min"](l,r);if(rtl&&((isIE==8&&!_168)||isIE>=9||has("trident"))){s=-s;}old=el.scrollLeft;_16e(el,s,0);s=el.scrollLeft-old;_16c.x-=s;}if(bot*t>0&&(!!el.scrollTop||el==_16b||el.scrollHeight>el.offsetHeight)){s=Math.ceil(Math[t<0?"max":"min"](t,bot));old=el.scrollTop;_16e(el,0,s);s=el.scrollTop-old;_16c.y-=s;}el=(el!=_16b)&&!_170&&el.parentNode;}}catch(error){console.error("scrollIntoView: "+error);node.scrollIntoView(false);}};return _164;});},"*noref":1}});define("dijit/_dijit_tree",[],1);require(["dijit/Tree","dijit/tree/dndSource","dijit/tree/TreeStoreModel","dijit/tree/ForestStoreModel"]);
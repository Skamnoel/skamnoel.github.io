/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/

/*
	This is an optimized version of Dojo, built for deployment and not for
	development. To get sources and documentation, please visit:

		http://dojotoolkit.org
*/

//>>built
require({cache:{"dijit/hccss":function(){define("dijit/hccss",["require","dojo/_base/config","dojo/dom-class","dojo/dom-construct","dojo/dom-style","dojo/ready","dojo/_base/sniff","dojo/_base/window"],function(_1,_2,_3,_4,_5,_6,_7,_8){if(_7("ie")||_7("mozilla")){_6(90,function(){var _9=_4.create("div",{id:"a11yTestNode",style:{cssText:"border: 1px solid;"+"border-color:red green;"+"position: absolute;"+"height: 5px;"+"top: -999px;"+"background-image: url(\""+(_2.blankGif||_1.toUrl("dojo/resources/blank.gif"))+"\");"}},_8.body());var cs=_5.getComputedStyle(_9);if(cs){var _a=cs.backgroundImage;var _b=(cs.borderTopColor==cs.borderRightColor)||(_a!=null&&(_a=="none"||_a=="url(invalid-url:)"));if(_b){_3.add(_8.body(),"dijit_a11y");}if(_7("ie")){_9.outerHTML="";}else{_8.body().removeChild(_9);}}});}});},"dijit/Viewport":function(){define("dijit/Viewport",["dojo/Evented","dojo/on","dojo/ready","dojo/_base/sniff","dojo/_base/window","dojo/window"],function(_c,on,_d,_e,_f,_10){var _11=new _c();var _12;_d(200,function(){var _13=_10.getBox();_11._rlh=on(_f.global,"resize",function(){var _14=_10.getBox();if(_13.h==_14.h&&_13.w==_14.w){return;}_13=_14;_11.emit("resize");});if(_e("ie")==8){var _15=screen.deviceXDPI;setInterval(function(){if(screen.deviceXDPI!=_15){_15=screen.deviceXDPI;_11.emit("resize");}},500);}if(_e("ios")){on(document,"focusin",function(evt){_12=evt.target;});on(document,"focusout",function(evt){_12=null;});}});_11.getEffectiveBox=function(doc){var box=_10.getBox(doc);var tag=_12&&_12.tagName&&_12.tagName.toLowerCase();if(_e("ios")&&_12&&!_12.readOnly&&(tag=="textarea"||(tag=="input"&&/^(color|email|number|password|search|tel|text|url)$/.test(_12.type)))){box.h*=(orientation==0||orientation==180?0.66:0.4);var _16=_12.getBoundingClientRect();box.h=Math.max(box.h,_16.top+_16.height);}return box;};return _11;});},"dijit/_Container":function(){define("dijit/_Container",["dojo/_base/array","dojo/_base/declare","dojo/dom-construct","./registry"],function(_17,_18,_19,_1a){return _18("dijit._Container",null,{buildRendering:function(){this.inherited(arguments);if(!this.containerNode){this.containerNode=this.domNode;}},addChild:function(_1b,_1c){var _1d=this.containerNode;if(_1c&&typeof _1c=="number"){var _1e=this.getChildren();if(_1e&&_1e.length>=_1c){_1d=_1e[_1c-1].domNode;_1c="after";}}_19.place(_1b.domNode,_1d,_1c);if(this._started&&!_1b._started){_1b.startup();}},removeChild:function(_1f){if(typeof _1f=="number"){_1f=this.getChildren()[_1f];}if(_1f){var _20=_1f.domNode;if(_20&&_20.parentNode){_20.parentNode.removeChild(_20);}}},hasChildren:function(){return this.getChildren().length>0;},_getSiblingOfChild:function(_21,dir){var _22=_21.domNode,_23=(dir>0?"nextSibling":"previousSibling");do{_22=_22[_23];}while(_22&&(_22.nodeType!=1||!_1a.byNode(_22)));return _22&&_1a.byNode(_22);},getIndexOfChild:function(_24){return _17.indexOf(this.getChildren(),_24);}});});},"dijit/_editor/plugins/AlwaysShowToolbar":function(){define("dijit/_editor/plugins/AlwaysShowToolbar",["dojo/_base/declare","dojo/dom-class","dojo/dom-construct","dojo/dom-geometry","dojo/_base/lang","dojo/_base/sniff","dojo/_base/window","../_Plugin"],function(_25,_26,_27,_28,_29,has,win,_2a){return _25("dijit._editor.plugins.AlwaysShowToolbar",_2a,{_handleScroll:true,setEditor:function(e){if(!e.iframe){return;}this.editor=e;e.onLoadDeferred.addCallback(_29.hitch(this,this.enable));},enable:function(d){this._updateHeight();this.connect(window,"onscroll","globalOnScrollHandler");this.connect(this.editor,"onNormalizedDisplayChanged","_updateHeight");return d;},_updateHeight:function(){var e=this.editor;if(!e.isLoaded){return;}if(e.height){return;}var _2b=_28.getMarginSize(e.editNode).h;if(has("opera")){_2b=e.editNode.scrollHeight;}if(!_2b){_2b=_28.getMarginSize(e.document.body).h;}if(_2b==0){return;}if(has("ie")<=7&&this.editor.minHeight){var min=parseInt(this.editor.minHeight);if(_2b<min){_2b=min;}}if(_2b!=this._lastHeight){this._lastHeight=_2b;_28.setMarginBox(e.iframe,{h:this._lastHeight});}},_lastHeight:0,globalOnScrollHandler:function(){var _2c=has("ie")<7;if(!this._handleScroll){return;}var tdn=this.editor.header;if(!this._scrollSetUp){this._scrollSetUp=true;this._scrollThreshold=_28.position(tdn,true).y;}var _2d=_28.docScroll().y;var s=tdn.style;if(_2d>this._scrollThreshold&&_2d<this._scrollThreshold+this._lastHeight){if(!this._fixEnabled){var _2e=_28.getMarginSize(tdn);this.editor.iframe.style.marginTop=_2e.h+"px";if(_2c){s.left=_28.position(tdn).x;if(tdn.previousSibling){this._IEOriginalPos=["after",tdn.previousSibling];}else{if(tdn.nextSibling){this._IEOriginalPos=["before",tdn.nextSibling];}else{this._IEOriginalPos=["last",tdn.parentNode];}}win.body().appendChild(tdn);_26.add(tdn,"dijitIEFixedToolbar");}else{s.position="fixed";s.top="0px";}_28.setMarginBox(tdn,{w:_2e.w});s.zIndex=2000;this._fixEnabled=true;}var _2f=(this.height)?parseInt(this.editor.height):this.editor._lastHeight;s.display=(_2d>this._scrollThreshold+_2f)?"none":"";}else{if(this._fixEnabled){this.editor.iframe.style.marginTop="";s.position="";s.top="";s.zIndex="";s.display="";if(_2c){s.left="";_26.remove(tdn,"dijitIEFixedToolbar");if(this._IEOriginalPos){_27.place(tdn,this._IEOriginalPos[1],this._IEOriginalPos[0]);this._IEOriginalPos=null;}else{_27.place(tdn,this.editor.iframe,"before");}}s.width="";this._fixEnabled=false;}}},destroy:function(){this._IEOriginalPos=null;this._handleScroll=false;this.inherited(arguments);if(has("ie")<7){_26.remove(this.editor.header,"dijitIEFixedToolbar");}}});});},"dijit/form/_FormWidgetMixin":function(){define("dijit/form/_FormWidgetMixin",["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/dom-style","dojo/_base/lang","dojo/mouse","dojo/_base/sniff","dojo/_base/window","dojo/window","../a11y"],function(_30,_31,_32,_33,_34,_35,has,win,_36,_37){return _31("dijit.form._FormWidgetMixin",null,{name:"",alt:"",value:"",type:"text",tabIndex:"0",_setTabIndexAttr:"focusNode",disabled:false,intermediateChanges:false,scrollOnFocus:true,_setIdAttr:"focusNode",_setDisabledAttr:function(_38){this._set("disabled",_38);_32.set(this.focusNode,"disabled",_38);if(this.valueNode){_32.set(this.valueNode,"disabled",_38);}this.focusNode.setAttribute("aria-disabled",_38?"true":"false");if(_38){this._set("hovering",false);this._set("active",false);var _39="tabIndex" in this.attributeMap?this.attributeMap.tabIndex:("_setTabIndexAttr" in this)?this._setTabIndexAttr:"focusNode";_30.forEach(_34.isArray(_39)?_39:[_39],function(_3a){var _3b=this[_3a];if(has("webkit")||_37.hasDefaultTabStop(_3b)){_3b.setAttribute("tabIndex","-1");}else{_3b.removeAttribute("tabIndex");}},this);}else{if(this.tabIndex!=""){this.set("tabIndex",this.tabIndex);}}},_onFocus:function(by){if(by=="mouse"&&this.isFocusable()){var _3c=this.connect(this.focusNode,"onfocus",function(){this.disconnect(_3d);this.disconnect(_3c);});var _3d=this.connect(win.body(),"onmouseup",function(){this.disconnect(_3d);this.disconnect(_3c);if(this.focused){this.focus();}});}if(this.scrollOnFocus){this.defer(function(){_36.scrollIntoView(this.domNode);});}this.inherited(arguments);},isFocusable:function(){return !this.disabled&&this.focusNode&&(_33.get(this.domNode,"display")!="none");},focus:function(){if(!this.disabled&&this.focusNode.focus){try{this.focusNode.focus();}catch(e){}}},compare:function(_3e,_3f){if(typeof _3e=="number"&&typeof _3f=="number"){return (isNaN(_3e)&&isNaN(_3f))?0:_3e-_3f;}else{if(_3e>_3f){return 1;}else{if(_3e<_3f){return -1;}else{return 0;}}}},onChange:function(){},_onChangeActive:false,_handleOnChange:function(_40,_41){if(this._lastValueReported==undefined&&(_41===null||!this._onChangeActive)){this._resetValue=this._lastValueReported=_40;}this._pendingOnChange=this._pendingOnChange||(typeof _40!=typeof this._lastValueReported)||(this.compare(_40,this._lastValueReported)!=0);if((this.intermediateChanges||_41||_41===undefined)&&this._pendingOnChange){this._lastValueReported=_40;this._pendingOnChange=false;if(this._onChangeActive){if(this._onChangeHandle){this._onChangeHandle.remove();}this._onChangeHandle=this.defer(function(){this._onChangeHandle=null;this.onChange(_40);});}}},create:function(){this.inherited(arguments);this._onChangeActive=true;},destroy:function(){if(this._onChangeHandle){this._onChangeHandle.remove();this.onChange(this._lastValueReported);}this.inherited(arguments);}});});},"dijit/BackgroundIframe":function(){define("dijit/BackgroundIframe",["require",".","dojo/_base/config","dojo/dom-construct","dojo/dom-style","dojo/_base/lang","dojo/on","dojo/_base/sniff","dojo/_base/window"],function(_42,_43,_44,_45,_46,_47,on,has,win){has.add("bgIframe",has("ie")||has("mozilla"));var _48=new function(){var _49=[];this.pop=function(){var _4a;if(_49.length){_4a=_49.pop();_4a.style.display="";}else{if(has("ie")<9){var _4b=_44["dojoBlankHtmlUrl"]||_42.toUrl("dojo/resources/blank.html")||"javascript:\"\"";var _4c="<iframe src='"+_4b+"' role='presentation'"+" style='position: absolute; left: 0px; top: 0px;"+"z-index: -1; filter:Alpha(Opacity=\"0\");'>";_4a=win.doc.createElement(_4c);}else{_4a=_45.create("iframe");_4a.src="javascript:\"\"";_4a.className="dijitBackgroundIframe";_4a.setAttribute("role","presentation");_46.set(_4a,"opacity",0.1);}_4a.tabIndex=-1;}return _4a;};this.push=function(_4d){_4d.style.display="none";_49.push(_4d);};}();_43.BackgroundIframe=function(_4e){if(!_4e.id){throw new Error("no id");}if(has("bgIframe")){var _4f=(this.iframe=_48.pop());_4e.appendChild(_4f);if(has("ie")<7||has("quirks")){this.resize(_4e);this._conn=on(_4e,"resize",_47.hitch(this,function(){this.resize(_4e);}));}else{_46.set(_4f,{width:"100%",height:"100%"});}}};_47.extend(_43.BackgroundIframe,{resize:function(_50){if(this.iframe){_46.set(this.iframe,{width:_50.offsetWidth+"px",height:_50.offsetHeight+"px"});}},destroy:function(){if(this._conn){this._conn.remove();this._conn=null;}if(this.iframe){_48.push(this.iframe);delete this.iframe;}}});return _43.BackgroundIframe;});},"dijit/_WidgetsInTemplateMixin":function(){define("dijit/_WidgetsInTemplateMixin",["dojo/_base/array","dojo/_base/declare","dojo/parser","dijit/registry"],function(_51,_52,_53,_54){return _52("dijit._WidgetsInTemplateMixin",null,{_earlyTemplatedStartup:false,widgetsInTemplate:true,_beforeFillContent:function(){if(this.widgetsInTemplate){var _55=this.domNode;var cw=(this._startupWidgets=_53.parse(_55,{noStart:!this._earlyTemplatedStartup,template:true,inherited:{dir:this.dir,lang:this.lang,textDir:this.textDir},propsThis:this,scope:"dojo"}));this._supportingWidgets=_54.findWidgets(_55);this._attachTemplateNodes(cw,function(n,p){return n[p];});}},startup:function(){_51.forEach(this._startupWidgets,function(w){if(w&&!w._started&&w.startup){w.startup();}});this.inherited(arguments);}});});},"dojo/_base/query":function(){define("dojo/_base/query",["./kernel","../query","./NodeList"],function(_56){return _56.query;});},"dijit/form/_FormValueMixin":function(){define("dijit/form/_FormValueMixin",["dojo/_base/declare","dojo/dom-attr","dojo/keys","dojo/_base/sniff","./_FormWidgetMixin"],function(_57,_58,_59,has,_5a){return _57("dijit.form._FormValueMixin",_5a,{readOnly:false,_setReadOnlyAttr:function(_5b){_58.set(this.focusNode,"readOnly",_5b);this._set("readOnly",_5b);},postCreate:function(){this.inherited(arguments);if(has("ie")){this.connect(this.focusNode||this.domNode,"onkeydown",this._onKeyDown);}if(this._resetValue===undefined){this._lastValueReported=this._resetValue=this.value;}},_setValueAttr:function(_5c,_5d){this._handleOnChange(_5c,_5d);},_handleOnChange:function(_5e,_5f){this._set("value",_5e);this.inherited(arguments);},undo:function(){this._setValueAttr(this._lastValueReported,false);},reset:function(){this._hasBeenBlurred=false;this._setValueAttr(this._resetValue,true);},_onKeyDown:function(e){if(e.keyCode==_59.ESCAPE&&!(e.ctrlKey||e.altKey||e.metaKey)){var te;if(has("ie")<9||(has("ie")&&has("quirks"))){e.preventDefault();te=document.createEventObject();te.keyCode=_59.ESCAPE;te.shiftKey=e.shiftKey;e.srcElement.fireEvent("onkeypress",te);}}}});});},"dijit/_editor/plugins/ViewSource":function(){define("dijit/_editor/plugins/ViewSource",["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/_base/event","dojo/i18n","dojo/keys","dojo/_base/lang","dojo/on","dojo/_base/sniff","dojo/_base/window","dojo/window","../../focus","../_Plugin","../../form/ToggleButton","../..","../../registry","dojo/i18n!../nls/commands"],function(_60,_61,_62,_63,_64,_65,_66,_67,_68,_69,on,has,win,_6a,_6b,_6c,_6d,_6e,_6f){var _70=_61("dijit._editor.plugins.ViewSource",_6c,{stripScripts:true,stripComments:true,stripIFrames:true,readOnly:false,_fsPlugin:null,toggle:function(){if(has("webkit")){this._vsFocused=true;}this.button.set("checked",!this.button.get("checked"));},_initButton:function(){var _71=_67.getLocalization("dijit._editor","commands"),_72=this.editor;this.button=new _6d({label:_71["viewSource"],dir:_72.dir,lang:_72.lang,showLabel:false,iconClass:this.iconClassPrefix+" "+this.iconClassPrefix+"ViewSource",tabIndex:"-1",onChange:_69.hitch(this,"_showSource")});if(has("ie")==7){this._ieFixNode=_63.create("div",{style:{opacity:"0",zIndex:"-1000",position:"absolute",top:"-1000px"}},win.body());}this.button.set("readOnly",false);},setEditor:function(_73){this.editor=_73;this._initButton();this.editor.addKeyHandler(_68.F12,true,true,_69.hitch(this,function(e){this.button.focus();this.toggle();_66.stop(e);setTimeout(_69.hitch(this,function(){if(this.editor.focused){this.editor.focus();}}),100);}));},_showSource:function(_74){var ed=this.editor;var _75=ed._plugins;var _76;this._sourceShown=_74;var _77=this;try{if(!this.sourceArea){this._createSourceView();}if(_74){ed._sourceQueryCommandEnabled=ed.queryCommandEnabled;ed.queryCommandEnabled=function(cmd){return cmd.toLowerCase()==="viewsource";};this.editor.onDisplayChanged();_76=ed.get("value");_76=this._filter(_76);ed.set("value",_76);_60.forEach(_75,function(p){if(!(p instanceof _70)){p.set("disabled",true);}});if(this._fsPlugin){this._fsPlugin._getAltViewNode=function(){return _77.sourceArea;};}this.sourceArea.value=_76;this.sourceArea.style.height=ed.iframe.style.height;this.sourceArea.style.width=ed.iframe.style.width;_65.set(ed.iframe,"display","none");_65.set(this.sourceArea,{display:"block"});var _78=function(){var vp=_6a.getBox();if("_prevW" in this&&"_prevH" in this){if(vp.w===this._prevW&&vp.h===this._prevH){return;}else{this._prevW=vp.w;this._prevH=vp.h;}}else{this._prevW=vp.w;this._prevH=vp.h;}if(this._resizer){clearTimeout(this._resizer);delete this._resizer;}this._resizer=setTimeout(_69.hitch(this,function(){delete this._resizer;this._resize();}),10);};this._resizeHandle=on(window,"resize",_69.hitch(this,_78));setTimeout(_69.hitch(this,this._resize),100);this.editor.onNormalizedDisplayChanged();this.editor.__oldGetValue=this.editor.getValue;this.editor.getValue=_69.hitch(this,function(){var txt=this.sourceArea.value;txt=this._filter(txt);return txt;});}else{if(!ed._sourceQueryCommandEnabled){return;}this._resizeHandle.remove();delete this._resizeHandle;if(this.editor.__oldGetValue){this.editor.getValue=this.editor.__oldGetValue;delete this.editor.__oldGetValue;}ed.queryCommandEnabled=ed._sourceQueryCommandEnabled;if(!this._readOnly){_76=this.sourceArea.value;_76=this._filter(_76);ed.beginEditing();ed.set("value",_76);ed.endEditing();}_60.forEach(_75,function(p){p.set("disabled",false);});_65.set(this.sourceArea,"display","none");_65.set(ed.iframe,"display","block");delete ed._sourceQueryCommandEnabled;this.editor.onDisplayChanged();}setTimeout(_69.hitch(this,function(){var _79=ed.domNode.parentNode;if(_79){var _7a=_6f.getEnclosingWidget(_79);if(_7a&&_7a.resize){_7a.resize();}}ed.resize();}),300);}catch(e){}},updateState:function(){this.button.set("disabled",this.get("disabled"));},_resize:function(){var ed=this.editor;var tbH=ed.getHeaderHeight();var fH=ed.getFooterHeight();var eb=_64.position(ed.domNode);var _7b=_64.getPadBorderExtents(ed.iframe.parentNode);var _7c=_64.getMarginExtents(ed.iframe.parentNode);var _7d=_64.getPadBorderExtents(ed.domNode);var edb={w:eb.w-_7d.w,h:eb.h-(tbH+_7d.h+ +fH)};if(this._fsPlugin&&this._fsPlugin.isFullscreen){var vp=_6a.getBox();edb.w=(vp.w-_7d.w);edb.h=(vp.h-(tbH+_7d.h+fH));}if(has("ie")){edb.h-=2;}if(this._ieFixNode){var _7e=-this._ieFixNode.offsetTop/1000;edb.w=Math.floor((edb.w+0.9)/_7e);edb.h=Math.floor((edb.h+0.9)/_7e);}_64.setMarginBox(this.sourceArea,{w:edb.w-(_7b.w+_7c.w),h:edb.h-(_7b.h+_7c.h)});_64.setMarginBox(ed.iframe.parentNode,{h:edb.h});},_createSourceView:function(){var ed=this.editor;var _7f=ed._plugins;this.sourceArea=_63.create("textarea");if(this.readOnly){_62.set(this.sourceArea,"readOnly",true);this._readOnly=true;}_65.set(this.sourceArea,{padding:"0px",margin:"0px",borderWidth:"0px",borderStyle:"none"});_62.set(this.sourceArea,"aria-label",this.editor.id);_63.place(this.sourceArea,ed.iframe,"before");if(has("ie")&&ed.iframe.parentNode.lastChild!==ed.iframe){_65.set(ed.iframe.parentNode.lastChild,{width:"0px",height:"0px",padding:"0px",margin:"0px",borderWidth:"0px",borderStyle:"none"});}ed._viewsource_oldFocus=ed.focus;var _80=this;ed.focus=function(){if(_80._sourceShown){_80.setSourceAreaCaret();}else{try{if(this._vsFocused){delete this._vsFocused;_6b.focus(ed.editNode);}else{ed._viewsource_oldFocus();}}catch(e){}}};var i,p;for(i=0;i<_7f.length;i++){p=_7f[i];if(p&&(p.declaredClass==="dijit._editor.plugins.FullScreen"||p.declaredClass===(_6e._scopeName+"._editor.plugins.FullScreen"))){this._fsPlugin=p;break;}}if(this._fsPlugin){this._fsPlugin._viewsource_getAltViewNode=this._fsPlugin._getAltViewNode;this._fsPlugin._getAltViewNode=function(){return _80._sourceShown?_80.sourceArea:this._viewsource_getAltViewNode();};}this.connect(this.sourceArea,"onkeydown",_69.hitch(this,function(e){if(this._sourceShown&&e.keyCode==_68.F12&&e.ctrlKey&&e.shiftKey){this.button.focus();this.button.set("checked",false);setTimeout(_69.hitch(this,function(){ed.focus();}),100);_66.stop(e);}}));},_stripScripts:function(_81){if(_81){_81=_81.replace(/<\s*script[^>]*>((.|\s)*?)<\\?\/\s*script\s*>/ig,"");_81=_81.replace(/<\s*script\b([^<>]|\s)*>?/ig,"");_81=_81.replace(/<[^>]*=(\s|)*[("|')]javascript:[^$1][(\s|.)]*[$1][^>]*>/ig,"");}return _81;},_stripComments:function(_82){if(_82){_82=_82.replace(/<!--(.|\s){1,}?-->/g,"");}return _82;},_stripIFrames:function(_83){if(_83){_83=_83.replace(/<\s*iframe[^>]*>((.|\s)*?)<\\?\/\s*iframe\s*>/ig,"");}return _83;},_filter:function(_84){if(_84){if(this.stripScripts){_84=this._stripScripts(_84);}if(this.stripComments){_84=this._stripComments(_84);}if(this.stripIFrames){_84=this._stripIFrames(_84);}}return _84;},setSourceAreaCaret:function(){var _85=win.global;var _86=this.sourceArea;_6b.focus(_86);if(this._sourceShown&&!this.readOnly){if(has("ie")){if(this.sourceArea.createTextRange){var _87=_86.createTextRange();_87.collapse(true);_87.moveStart("character",-99999);_87.moveStart("character",0);_87.moveEnd("character",0);_87.select();}}else{if(_85.getSelection){if(_86.setSelectionRange){_86.setSelectionRange(0,0);}}}}},destroy:function(){if(this._ieFixNode){win.body().removeChild(this._ieFixNode);}if(this._resizer){clearTimeout(this._resizer);delete this._resizer;}if(this._resizeHandle){this._resizeHandle.remove();delete this._resizeHandle;}this.inherited(arguments);}});_6c.registry["viewSource"]=_6c.registry["viewsource"]=function(_88){return new _70({readOnly:("readOnly" in _88)?_88.readOnly:false,stripComments:("stripComments" in _88)?_88.stripComments:true,stripScripts:("stripScripts" in _88)?_88.stripScripts:true,stripIFrames:("stripIFrames" in _88)?_88.stripIFrames:true});};return _70;});},"dijit/_editor/plugins/FontChoice":function(){define("dijit/_editor/plugins/FontChoice",["dojo/_base/array","dojo/_base/declare","dojo/dom-construct","dojo/i18n","dojo/_base/lang","dojo/store/Memory","dojo/_base/window","../../registry","../../_Widget","../../_TemplatedMixin","../../_WidgetsInTemplateMixin","../../form/FilteringSelect","../_Plugin","../range","../selection","dojo/i18n!../nls/FontChoice"],function(_89,_8a,_8b,_8c,_8d,_8e,win,_8f,_90,_91,_92,_93,_94,_95,_96){var _97=_8a("dijit._editor.plugins._FontDropDown",[_90,_91,_92],{label:"",plainText:false,templateString:"<span style='white-space: nowrap' class='dijit dijitReset dijitInline'>"+"<label class='dijitLeft dijitInline' for='${selectId}'>${label}</label>"+"<input data-dojo-type='dijit.form.FilteringSelect' required='false' "+"data-dojo-props='labelType:\"html\", labelAttr:\"label\", searchAttr:\"name\"' "+"tabIndex='-1' id='${selectId}' data-dojo-attach-point='select' value=''/>"+"</span>",postMixInProperties:function(){this.inherited(arguments);this.strings=_8c.getLocalization("dijit._editor","FontChoice");this.label=this.strings[this.command];this.id=_8f.getUniqueId(this.declaredClass.replace(/\./g,"_"));this.selectId=this.id+"_select";this.inherited(arguments);},postCreate:function(){this.select.set("store",new _8e({idProperty:"value",data:_89.map(this.values,function(_98){var _99=this.strings[_98]||_98;return {label:this.getLabel(_98,_99),name:_99,value:_98};},this)}));this.select.set("value","",false);this.disabled=this.select.get("disabled");},_setValueAttr:function(_9a,_9b){_9b=_9b!==false;this.select.set("value",_89.indexOf(this.values,_9a)<0?"":_9a,_9b);if(!_9b){this.select._lastValueReported=null;}},_getValueAttr:function(){return this.select.get("value");},focus:function(){this.select.focus();},_setDisabledAttr:function(_9c){this.disabled=_9c;this.select.set("disabled",_9c);}});var _9d=_8a("dijit._editor.plugins._FontNameDropDown",_97,{generic:false,command:"fontName",postMixInProperties:function(){if(!this.values){this.values=this.generic?["serif","sans-serif","monospace","cursive","fantasy"]:["Arial","Times New Roman","Comic Sans MS","Courier New"];}this.inherited(arguments);},getLabel:function(_9e,_9f){if(this.plainText){return _9f;}else{return "<div style='font-family: "+_9e+"'>"+_9f+"</div>";}},_setValueAttr:function(_a0,_a1){_a1=_a1!==false;if(this.generic){var map={"Arial":"sans-serif","Helvetica":"sans-serif","Myriad":"sans-serif","Times":"serif","Times New Roman":"serif","Comic Sans MS":"cursive","Apple Chancery":"cursive","Courier":"monospace","Courier New":"monospace","Papyrus":"fantasy","Estrangelo Edessa":"cursive","Gabriola":"fantasy"};_a0=map[_a0]||_a0;}this.inherited(arguments,[_a0,_a1]);}});var _a2=_8a("dijit._editor.plugins._FontSizeDropDown",_97,{command:"fontSize",values:[1,2,3,4,5,6,7],getLabel:function(_a3,_a4){if(this.plainText){return _a4;}else{return "<font size="+_a3+"'>"+_a4+"</font>";}},_setValueAttr:function(_a5,_a6){_a6=_a6!==false;if(_a5.indexOf&&_a5.indexOf("px")!=-1){var _a7=parseInt(_a5,10);_a5={10:1,13:2,16:3,18:4,24:5,32:6,48:7}[_a7]||_a5;}this.inherited(arguments,[_a5,_a6]);}});var _a8=_8a("dijit._editor.plugins._FormatBlockDropDown",_97,{command:"formatBlock",values:["noFormat","p","h1","h2","h3","pre"],postCreate:function(){this.inherited(arguments);this.set("value","noFormat",false);},getLabel:function(_a9,_aa){if(this.plainText||_a9=="noFormat"){return _aa;}else{return "<"+_a9+">"+_aa+"</"+_a9+">";}},_execCommand:function(_ab,_ac,_ad){if(_ad==="noFormat"){var _ae;var end;var sel=_95.getSelection(_ab.window);if(sel&&sel.rangeCount>0){var _af=sel.getRangeAt(0);var _b0,tag;if(_af){_ae=_af.startContainer;end=_af.endContainer;while(_ae&&_ae!==_ab.editNode&&_ae!==_ab.document.body&&_ae.nodeType!==1){_ae=_ae.parentNode;}while(end&&end!==_ab.editNode&&end!==_ab.document.body&&end.nodeType!==1){end=end.parentNode;}var _b1=_8d.hitch(this,function(_b2,ary){if(_b2.childNodes&&_b2.childNodes.length){var i;for(i=0;i<_b2.childNodes.length;i++){var c=_b2.childNodes[i];if(c.nodeType==1){if(win.withGlobal(_ab.window,"inSelection",_96,[c])){var tag=c.tagName?c.tagName.toLowerCase():"";if(_89.indexOf(this.values,tag)!==-1){ary.push(c);}_b1(c,ary);}}}}});var _b3=_8d.hitch(this,function(_b4){if(_b4&&_b4.length){_ab.beginEditing();while(_b4.length){this._removeFormat(_ab,_b4.pop());}_ab.endEditing();}});var _b5=[];if(_ae==end){var _b6;_b0=_ae;while(_b0&&_b0!==_ab.editNode&&_b0!==_ab.document.body){if(_b0.nodeType==1){tag=_b0.tagName?_b0.tagName.toLowerCase():"";if(_89.indexOf(this.values,tag)!==-1){_b6=_b0;break;}}_b0=_b0.parentNode;}_b1(_ae,_b5);if(_b6){_b5=[_b6].concat(_b5);}_b3(_b5);}else{_b0=_ae;while(win.withGlobal(_ab.window,"inSelection",_96,[_b0])){if(_b0.nodeType==1){tag=_b0.tagName?_b0.tagName.toLowerCase():"";if(_89.indexOf(this.values,tag)!==-1){_b5.push(_b0);}_b1(_b0,_b5);}_b0=_b0.nextSibling;}_b3(_b5);}_ab.onDisplayChanged();}}}else{_ab.execCommand(_ac,_ad);}},_removeFormat:function(_b7,_b8){if(_b7.customUndo){while(_b8.firstChild){_8b.place(_b8.firstChild,_b8,"before");}_b8.parentNode.removeChild(_b8);}else{win.withGlobal(_b7.window,"selectElementChildren",_96,[_b8]);var _b9=win.withGlobal(_b7.window,"getSelectedHtml",_96,[null]);win.withGlobal(_b7.window,"selectElement",_96,[_b8]);_b7.execCommand("inserthtml",_b9||"");}}});var _ba=_8a("dijit._editor.plugins.FontChoice",_94,{useDefaultCommand:false,_initButton:function(){var _bb={fontName:_9d,fontSize:_a2,formatBlock:_a8}[this.command],_bc=this.params;if(this.params.custom){_bc.values=this.params.custom;}var _bd=this.editor;this.button=new _bb(_8d.delegate({dir:_bd.dir,lang:_bd.lang},_bc));this.connect(this.button.select,"onChange",function(_be){if(this.editor.focused){this.editor.focus();}if(this.command=="fontName"&&_be.indexOf(" ")!=-1){_be="'"+_be+"'";}if(this.button._execCommand){this.button._execCommand(this.editor,this.command,_be);}else{this.editor.execCommand(this.command,_be);}});},updateState:function(){var _bf=this.editor;var _c0=this.command;if(!_bf||!_bf.isLoaded||!_c0.length){return;}if(this.button){var _c1=this.get("disabled");this.button.set("disabled",_c1);if(_c1){return;}var _c2;try{_c2=_bf.queryCommandValue(_c0)||"";}catch(e){_c2="";}var _c3=_8d.isString(_c2)&&(_c2.match(/'([^']*)'/)||_c2.match(/"([^"]*)"/));if(_c3){_c2=_c3[1];}if(_c0==="formatBlock"){if(!_c2||_c2=="p"){_c2=null;var _c4;var sel=_95.getSelection(this.editor.window);if(sel&&sel.rangeCount>0){var _c5=sel.getRangeAt(0);if(_c5){_c4=_c5.endContainer;}}while(_c4&&_c4!==_bf.editNode&&_c4!==_bf.document){var tg=_c4.tagName?_c4.tagName.toLowerCase():"";if(tg&&_89.indexOf(this.button.values,tg)>-1){_c2=tg;break;}_c4=_c4.parentNode;}if(!_c2){_c2="noFormat";}}else{if(_89.indexOf(this.button.values,_c2)<0){_c2="noFormat";}}}if(_c2!==this.button.get("value")){this.button.set("value",_c2,false);}}}});_89.forEach(["fontName","fontSize","formatBlock"],function(_c6){_94.registry[_c6]=function(_c7){return new _ba({command:_c6,plainText:_c7.plainText});};});});},"dijit/_editor/plugins/Print":function(){define("dijit/_editor/plugins/Print",["dojo/_base/declare","dojo/i18n","dojo/_base/lang","dojo/_base/sniff","../../focus","../_Plugin","../../form/Button","dojo/i18n!../nls/commands"],function(_c8,_c9,_ca,has,_cb,_cc,_cd){var _ce=_c8("dijit._editor.plugins.Print",_cc,{_initButton:function(){var _cf=_c9.getLocalization("dijit._editor","commands"),_d0=this.editor;this.button=new _cd({label:_cf["print"],dir:_d0.dir,lang:_d0.lang,showLabel:false,iconClass:this.iconClassPrefix+" "+this.iconClassPrefix+"Print",tabIndex:"-1",onClick:_ca.hitch(this,"_print")});},setEditor:function(_d1){this.editor=_d1;this._initButton();this.editor.onLoadDeferred.addCallback(_ca.hitch(this,function(){if(!this.editor.iframe.contentWindow["print"]){this.button.set("disabled",true);}}));},updateState:function(){var _d2=this.get("disabled");if(!this.editor.iframe.contentWindow["print"]){_d2=true;}this.button.set("disabled",_d2);},_print:function(){var _d3=this.editor.iframe;if(_d3.contentWindow["print"]){if(!has("opera")&&!has("chrome")){_cb.focus(_d3);_d3.contentWindow.print();}else{var _d4=this.editor.document;var _d5=this.editor.get("value");_d5="<html><head><meta http-equiv='Content-Type' "+"content='text/html; charset='UTF-8'></head><body>"+_d5+"</body></html>";var win=window.open("javascript: ''","","status=0,menubar=0,location=0,toolbar=0,"+"width=1,height=1,resizable=0,scrollbars=0");win.document.open();win.document.write(_d5);win.document.close();var _d6=_d4.getElementsByTagName("style");if(_d6){var i;for(i=0;i<_d6.length;i++){var _d7=_d6[i].innerHTML;var _d8=win.document.createElement("style");_d8.appendChild(win.document.createTextNode(_d7));win.document.getElementsByTagName("head")[0].appendChild(_d8);}}win.print();win.close();}}}});_cc.registry["print"]=function(){return new _ce({command:"print"});};return _ce;});},"dijit/_CssStateMixin":function(){define("dijit/_CssStateMixin",["dojo/touch","dojo/_base/array","dojo/_base/declare","dojo/dom-class","dojo/_base/lang","dojo/_base/window"],function(_d9,_da,_db,_dc,_dd,win){return _db("dijit._CssStateMixin",[],{cssStateNodes:{},hovering:false,active:false,_applyAttributes:function(){this.inherited(arguments);_da.forEach(["onmouseenter","onmouseleave",_d9.press],function(e){this.connect(this.domNode,e,"_cssMouseEvent");},this);_da.forEach(["disabled","readOnly","checked","selected","focused","state","hovering","active"],function(_de){this.watch(_de,_dd.hitch(this,"_setStateClass"));},this);for(var ap in this.cssStateNodes){this._trackMouseState(this[ap],this.cssStateNodes[ap]);}this._setStateClass();},_cssMouseEvent:function(_df){if(!this.disabled){switch(_df.type){case "mouseenter":case "mouseover":this._set("hovering",true);this._set("active",this._mouseDown);break;case "mouseleave":case "mouseout":this._set("hovering",false);this._set("active",false);break;case "mousedown":case "touchpress":this._set("active",true);this._mouseDown=true;var _e0=this.connect(win.body(),_d9.release,function(){this._mouseDown=false;this._set("active",false);this.disconnect(_e0);});break;}}},_setStateClass:function(){var _e1=this.baseClass.split(" ");function _e2(_e3){_e1=_e1.concat(_da.map(_e1,function(c){return c+_e3;}),"dijit"+_e3);};if(!this.isLeftToRight()){_e2("Rtl");}var _e4=this.checked=="mixed"?"Mixed":(this.checked?"Checked":"");if(this.checked){_e2(_e4);}if(this.state){_e2(this.state);}if(this.selected){_e2("Selected");}if(this.disabled){_e2("Disabled");}else{if(this.readOnly){_e2("ReadOnly");}else{if(this.active){_e2("Active");}else{if(this.hovering){_e2("Hover");}}}}if(this.focused){_e2("Focused");}var tn=this.stateNode||this.domNode,_e5={};_da.forEach(tn.className.split(" "),function(c){_e5[c]=true;});if("_stateClasses" in this){_da.forEach(this._stateClasses,function(c){delete _e5[c];});}_da.forEach(_e1,function(c){_e5[c]=true;});var _e6=[];for(var c in _e5){_e6.push(c);}tn.className=_e6.join(" ");this._stateClasses=_e1;},_trackMouseState:function(_e7,_e8){var _e9=false,_ea=false,_eb=false;var _ec=this,cn=_dd.hitch(this,"connect",_e7);function _ed(){var _ee=("disabled" in _ec&&_ec.disabled)||("readonly" in _ec&&_ec.readonly);_dc.toggle(_e7,_e8+"Hover",_e9&&!_ea&&!_ee);_dc.toggle(_e7,_e8+"Active",_ea&&!_ee);_dc.toggle(_e7,_e8+"Focused",_eb&&!_ee);};cn("onmouseenter",function(){_e9=true;_ed();});cn("onmouseleave",function(){_e9=false;_ea=false;_ed();});cn(_d9.press,function(){_ea=true;_ed();});cn(_d9.release,function(){_ea=false;_ed();});cn("onfocus",function(){_eb=true;_ed();});cn("onblur",function(){_eb=false;_ed();});this.watch("disabled",_ed);this.watch("readOnly",_ed);}});});},"dijit/form/_FormValueWidget":function(){define("dijit/form/_FormValueWidget",["dojo/_base/declare","dojo/_base/sniff","./_FormWidget","./_FormValueMixin"],function(_ef,has,_f0,_f1){return _ef("dijit.form._FormValueWidget",[_f0,_f1],{_layoutHackIE7:function(){if(has("ie")==7){var _f2=this.domNode;var _f3=_f2.parentNode;var _f4=_f2.firstChild||_f2;var _f5=_f4.style.filter;var _f6=this;while(_f3&&_f3.clientHeight==0){(function ping(){var _f7=_f6.connect(_f3,"onscroll",function(){_f6.disconnect(_f7);_f4.style.filter=(new Date()).getMilliseconds();setTimeout(function(){_f4.style.filter=_f5;},0);});})();_f3=_f3.parentNode;}}}});});},"dojo/data/util/filter":function(){define("dojo/data/util/filter",["../../_base/lang"],function(_f8){var _f9=_f8.getObject("dojo.data.util.filter",true);_f9.patternToRegExp=function(_fa,_fb){var rxp="^";var c=null;for(var i=0;i<_fa.length;i++){c=_fa.charAt(i);switch(c){case "\\":rxp+=c;i++;rxp+=_fa.charAt(i);break;case "*":rxp+=".*";break;case "?":rxp+=".";break;case "$":case "^":case "/":case "+":case ".":case "|":case "(":case ")":case "{":case "}":case "[":case "]":rxp+="\\";default:rxp+=c;}}rxp+="$";if(_fb){return new RegExp(rxp,"mi");}else{return new RegExp(rxp,"m");}};return _f9;});},"dijit/registry":function(){define("dijit/registry",["dojo/_base/array","dojo/_base/sniff","dojo/_base/unload","dojo/_base/window","."],function(_fc,has,_fd,win,_fe){var _ff={},hash={};var _100={length:0,add:function(_101){if(hash[_101.id]){throw new Error("Tried to register widget with id=="+_101.id+" but that id is already registered");}hash[_101.id]=_101;this.length++;},remove:function(id){if(hash[id]){delete hash[id];this.length--;}},byId:function(id){return typeof id=="string"?hash[id]:id;},byNode:function(node){return hash[node.getAttribute("widgetId")];},toArray:function(){var ar=[];for(var id in hash){ar.push(hash[id]);}return ar;},getUniqueId:function(_102){var id;do{id=_102+"_"+(_102 in _ff?++_ff[_102]:_ff[_102]=0);}while(hash[id]);return _fe._scopeName=="dijit"?id:_fe._scopeName+"_"+id;},findWidgets:function(root){var _103=[];function _104(root){for(var node=root.firstChild;node;node=node.nextSibling){if(node.nodeType==1){var _105=node.getAttribute("widgetId");if(_105){var _106=hash[_105];if(_106){_103.push(_106);}}else{_104(node);}}}};_104(root);return _103;},_destroyAll:function(){_fe._curFocus=null;_fe._prevFocus=null;_fe._activeStack=[];_fc.forEach(_100.findWidgets(win.body()),function(_107){if(!_107._destroyed){if(_107.destroyRecursive){_107.destroyRecursive();}else{if(_107.destroy){_107.destroy();}}}});},getEnclosingWidget:function(node){while(node){var id=node.getAttribute&&node.getAttribute("widgetId");if(id){return hash[id];}node=node.parentNode;}return null;},_hash:hash};_fe.registry=_100;return _100;});},"dijit/_base/manager":function(){define("dijit/_base/manager",["dojo/_base/array","dojo/_base/config","../registry",".."],function(_108,_109,_10a,_10b){_108.forEach(["byId","getUniqueId","findWidgets","_destroyAll","byNode","getEnclosingWidget"],function(name){_10b[name]=_10a[name];});_10b.defaultDuration=_109["defaultDuration"]||200;return _10b;});},"dijit/_editor/plugins/TabIndent":function(){define("dijit/_editor/plugins/TabIndent",["dojo/_base/declare","dojo/_base/kernel","../_Plugin","../../form/ToggleButton"],function(_10c,_10d,_10e,_10f){_10d.experimental("dijit._editor.plugins.TabIndent");var _110=_10c("dijit._editor.plugins.TabIndent",_10e,{useDefaultCommand:false,buttonClass:_10f,command:"tabIndent",_initButton:function(){this.inherited(arguments);var e=this.editor;this.connect(this.button,"onChange",function(val){e.set("isTabIndent",val);});this.updateState();},updateState:function(){var _111=this.get("disabled");this.button.set("disabled",_111);if(_111){return;}this.button.set("checked",this.editor.isTabIndent,false);}});_10e.registry["tabIndent"]=function(){return new _110({command:"tabIndent"});};return _110;});},"dijit/a11y":function(){define("dijit/a11y",["dojo/_base/array","dojo/dom","dojo/dom-attr","dojo/dom-style","dojo/_base/lang","dojo/_base/sniff","./main"],function(_112,dom,_113,_114,lang,has,_115){var _116;var a11y={_isElementShown:function(elem){var s=_114.get(elem);return (s.visibility!="hidden")&&(s.visibility!="collapsed")&&(s.display!="none")&&(_113.get(elem,"type")!="hidden");},hasDefaultTabStop:function(elem){switch(elem.nodeName.toLowerCase()){case "a":return _113.has(elem,"href");case "area":case "button":case "input":case "object":case "select":case "textarea":return true;case "iframe":var body;try{var _117=elem.contentDocument;if("designMode" in _117&&_117.designMode=="on"){return true;}body=_117.body;}catch(e1){try{body=elem.contentWindow.document.body;}catch(e2){return false;}}return body&&(body.contentEditable=="true"||(body.firstChild&&body.firstChild.contentEditable=="true"));default:return elem.contentEditable=="true";}},effectiveTabIndex:function(elem){if(_113.get(elem,"disabled")){return _116;}else{if(_113.has(elem,"tabIndex")){return +_113.get(elem,"tabIndex");}else{return a11y.hasDefaultTabStop(elem)?0:_116;}}},isTabNavigable:function(elem){return a11y.effectiveTabIndex(elem)>=0;},isFocusable:function(elem){return a11y.effectiveTabIndex(elem)>=-1;},_getTabNavigable:function(root){var _118,last,_119,_11a,_11b,_11c,_11d={};function _11e(node){return node&&node.tagName.toLowerCase()=="input"&&node.type&&node.type.toLowerCase()=="radio"&&node.name&&node.name.toLowerCase();};var _11f=a11y._isElementShown,_120=a11y.effectiveTabIndex;var _121=function(_122){for(var _123=_122.firstChild;_123;_123=_123.nextSibling){if(_123.nodeType!=1||(has("ie")<=9&&_123.scopeName!=="HTML")||!_11f(_123)){continue;}var _124=_120(_123);if(_124>=0){if(_124==0){if(!_118){_118=_123;}last=_123;}else{if(_124>0){if(!_119||_124<_11a){_11a=_124;_119=_123;}if(!_11b||_124>=_11c){_11c=_124;_11b=_123;}}}var rn=_11e(_123);if(_113.get(_123,"checked")&&rn){_11d[rn]=_123;}}if(_123.nodeName.toUpperCase()!="SELECT"){_121(_123);}}};if(_11f(root)){_121(root);}function rs(node){return _11d[_11e(node)]||node;};return {first:rs(_118),last:rs(last),lowest:rs(_119),highest:rs(_11b)};},getFirstInTabbingOrder:function(root,doc){var _125=a11y._getTabNavigable(dom.byId(root,doc));return _125.lowest?_125.lowest:_125.first;},getLastInTabbingOrder:function(root,doc){var _126=a11y._getTabNavigable(dom.byId(root,doc));return _126.last?_126.last:_126.highest;}};1&&lang.mixin(_115,a11y);return a11y;});},"dojo/regexp":function(){define("dojo/regexp",["./_base/kernel","./_base/lang"],function(dojo,lang){lang.getObject("regexp",true,dojo);dojo.regexp.escapeString=function(str,_127){return str.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,function(ch){if(_127&&_127.indexOf(ch)!=-1){return ch;}return "\\"+ch;});};dojo.regexp.buildGroupRE=function(arr,re,_128){if(!(arr instanceof Array)){return re(arr);}var b=[];for(var i=0;i<arr.length;i++){b.push(re(arr[i]));}return dojo.regexp.group(b.join("|"),_128);};dojo.regexp.group=function(_129,_12a){return "("+(_12a?"?:":"")+_129+")";};return dojo.regexp;});},"dijit/place":function(){define("dijit/place",["dojo/_base/array","dojo/dom-geometry","dojo/dom-style","dojo/_base/kernel","dojo/_base/window","./Viewport","."],function(_12b,_12c,_12d,_12e,win,_12f,_130){function _131(node,_132,_133,_134){var view=_12f.getEffectiveBox(node.ownerDocument);if(!node.parentNode||String(node.parentNode.tagName).toLowerCase()!="body"){win.body().appendChild(node);}var best=null;_12b.some(_132,function(_135){var _136=_135.corner;var pos=_135.pos;var _137=0;var _138={w:{"L":view.l+view.w-pos.x,"R":pos.x-view.l,"M":view.w}[_136.charAt(1)],h:{"T":view.t+view.h-pos.y,"B":pos.y-view.t,"M":view.h}[_136.charAt(0)]};var s=node.style;s.left=s.right="auto";if(_133){var res=_133(node,_135.aroundCorner,_136,_138,_134);_137=typeof res=="undefined"?0:res;}var _139=node.style;var _13a=_139.display;var _13b=_139.visibility;if(_139.display=="none"){_139.visibility="hidden";_139.display="";}var bb=_12c.position(node);_139.display=_13a;_139.visibility=_13b;var _13c={"L":pos.x,"R":pos.x-bb.w,"M":Math.max(view.l,Math.min(view.l+view.w,pos.x+(bb.w>>1))-bb.w)}[_136.charAt(1)],_13d={"T":pos.y,"B":pos.y-bb.h,"M":Math.max(view.t,Math.min(view.t+view.h,pos.y+(bb.h>>1))-bb.h)}[_136.charAt(0)],_13e=Math.max(view.l,_13c),_13f=Math.max(view.t,_13d),endX=Math.min(view.l+view.w,_13c+bb.w),endY=Math.min(view.t+view.h,_13d+bb.h),_140=endX-_13e,_141=endY-_13f;_137+=(bb.w-_140)+(bb.h-_141);if(best==null||_137<best.overflow){best={corner:_136,aroundCorner:_135.aroundCorner,x:_13e,y:_13f,w:_140,h:_141,overflow:_137,spaceAvailable:_138};}return !_137;});if(best.overflow&&_133){_133(node,best.aroundCorner,best.corner,best.spaceAvailable,_134);}var s=node.style;s.top=best.y+"px";s.left=best.x+"px";s.right="auto";return best;};return (_130.place={at:function(node,pos,_142,_143){var _144=_12b.map(_142,function(_145){var c={corner:_145,pos:{x:pos.x,y:pos.y}};if(_143){c.pos.x+=_145.charAt(1)=="L"?_143.x:-_143.x;c.pos.y+=_145.charAt(0)=="T"?_143.y:-_143.y;}return c;});return _131(node,_144);},around:function(node,_146,_147,_148,_149){var _14a=(typeof _146=="string"||"offsetWidth" in _146)?_12c.position(_146,true):_146;if(_146.parentNode){var _14b=_12d.getComputedStyle(_146).position=="absolute";var _14c=_146.parentNode;while(_14c&&_14c.nodeType==1&&_14c.nodeName!="BODY"){var _14d=_12c.position(_14c,true),pcs=_12d.getComputedStyle(_14c);if(/relative|absolute/.test(pcs.position)){_14b=false;}if(!_14b&&/hidden|auto|scroll/.test(pcs.overflow)){var _14e=Math.min(_14a.y+_14a.h,_14d.y+_14d.h);var _14f=Math.min(_14a.x+_14a.w,_14d.x+_14d.w);_14a.x=Math.max(_14a.x,_14d.x);_14a.y=Math.max(_14a.y,_14d.y);_14a.h=_14e-_14a.y;_14a.w=_14f-_14a.x;}if(pcs.position=="absolute"){_14b=true;}_14c=_14c.parentNode;}}var x=_14a.x,y=_14a.y,_150="w" in _14a?_14a.w:(_14a.w=_14a.width),_151="h" in _14a?_14a.h:(_12e.deprecated("place.around: dijit.place.__Rectangle: { x:"+x+", y:"+y+", height:"+_14a.height+", width:"+_150+" } has been deprecated.  Please use { x:"+x+", y:"+y+", h:"+_14a.height+", w:"+_150+" }","","2.0"),_14a.h=_14a.height);var _152=[];function push(_153,_154){_152.push({aroundCorner:_153,corner:_154,pos:{x:{"L":x,"R":x+_150,"M":x+(_150>>1)}[_153.charAt(1)],y:{"T":y,"B":y+_151,"M":y+(_151>>1)}[_153.charAt(0)]}});};_12b.forEach(_147,function(pos){var ltr=_148;switch(pos){case "above-centered":push("TM","BM");break;case "below-centered":push("BM","TM");break;case "after-centered":ltr=!ltr;case "before-centered":push(ltr?"ML":"MR",ltr?"MR":"ML");break;case "after":ltr=!ltr;case "before":push(ltr?"TL":"TR",ltr?"TR":"TL");push(ltr?"BL":"BR",ltr?"BR":"BL");break;case "below-alt":ltr=!ltr;case "below":push(ltr?"BL":"BR",ltr?"TL":"TR");push(ltr?"BR":"BL",ltr?"TR":"TL");break;case "above-alt":ltr=!ltr;case "above":push(ltr?"TL":"TR",ltr?"BL":"BR");push(ltr?"TR":"TL",ltr?"BR":"BL");break;default:push(pos.aroundCorner,pos.corner);}});var _155=_131(node,_152,_149,{w:_150,h:_151});_155.aroundNodePos=_14a;return _155;}});});},"dijit/_Widget":function(){define("dijit/_Widget",["dojo/aspect","dojo/_base/config","dojo/_base/connect","dojo/_base/declare","dojo/_base/kernel","dojo/_base/lang","dojo/query","dojo/ready","./registry","./_WidgetBase","./_OnDijitClickMixin","./_FocusMixin","dojo/uacss","./hccss"],function(_156,_157,_158,_159,_15a,lang,_15b,_15c,_15d,_15e,_15f,_160){function _161(){};function _162(_163){return function(obj,_164,_165,_166){if(obj&&typeof _164=="string"&&obj[_164]==_161){return obj.on(_164.substring(2).toLowerCase(),lang.hitch(_165,_166));}return _163.apply(_158,arguments);};};_156.around(_158,"connect",_162);if(_15a.connect){_156.around(_15a,"connect",_162);}var _167=_159("dijit._Widget",[_15e,_15f,_160],{onClick:_161,onDblClick:_161,onKeyDown:_161,onKeyPress:_161,onKeyUp:_161,onMouseDown:_161,onMouseMove:_161,onMouseOut:_161,onMouseOver:_161,onMouseLeave:_161,onMouseEnter:_161,onMouseUp:_161,constructor:function(_168){this._toConnect={};for(var name in _168){if(this[name]===_161){this._toConnect[name.replace(/^on/,"").toLowerCase()]=_168[name];delete _168[name];}}},postCreate:function(){this.inherited(arguments);for(var name in this._toConnect){this.on(name,this._toConnect[name]);}delete this._toConnect;},on:function(type,func){if(this[this._onMap(type)]===_161){return _158.connect(this.domNode,type.toLowerCase(),this,func);}return this.inherited(arguments);},_setFocusedAttr:function(val){this._focused=val;this._set("focused",val);},setAttribute:function(attr,_169){_15a.deprecated(this.declaredClass+"::setAttribute(attr, value) is deprecated. Use set() instead.","","2.0");this.set(attr,_169);},attr:function(name,_16a){if(_157.isDebug){var _16b=arguments.callee._ach||(arguments.callee._ach={}),_16c=(arguments.callee.caller||"unknown caller").toString();if(!_16b[_16c]){_15a.deprecated(this.declaredClass+"::attr() is deprecated. Use get() or set() instead, called from "+_16c,"","2.0");_16b[_16c]=true;}}var args=arguments.length;if(args>=2||typeof name==="object"){return this.set.apply(this,arguments);}else{return this.get(name);}},getDescendants:function(){_15a.deprecated(this.declaredClass+"::getDescendants() is deprecated. Use getChildren() instead.","","2.0");return this.containerNode?_15b("[widgetId]",this.containerNode).map(_15d.byNode):[];},_onShow:function(){this.onShow();},onShow:function(){},onHide:function(){},onClose:function(){return true;}});if(!_15a.isAsync){_15c(0,function(){var _16d=["dijit/_base"];require(_16d);});}return _167;});},"dijit/_FocusMixin":function(){define("dijit/_FocusMixin",["./focus","./_WidgetBase","dojo/_base/declare","dojo/_base/lang"],function(_16e,_16f,_170,lang){lang.extend(_16f,{focused:false,onFocus:function(){},onBlur:function(){},_onFocus:function(){this.onFocus();},_onBlur:function(){this.onBlur();}});return _170("dijit._FocusMixin",null,{_focusManager:_16e});});},"dijit/_OnDijitClickMixin":function(){define("dijit/_OnDijitClickMixin",["dojo/on","dojo/_base/array","dojo/keys","dojo/_base/declare","dojo/_base/sniff","dojo/_base/unload","dojo/_base/window"],function(on,_171,keys,_172,has,_173,win){var _174=null;if(has("ie")<9){(function(){var _175=function(evt){_174=evt.srcElement;};win.doc.attachEvent("onkeydown",_175);_173.addOnWindowUnload(function(){win.doc.detachEvent("onkeydown",_175);});})();}else{win.doc.addEventListener("keydown",function(evt){_174=evt.target;},true);}var _176=function(node,_177){if(/input|button/i.test(node.nodeName)){return on(node,"click",_177);}else{function _178(e){return (e.keyCode==keys.ENTER||e.keyCode==keys.SPACE)&&!e.ctrlKey&&!e.shiftKey&&!e.altKey&&!e.metaKey;};var _179=[on(node,"keypress",function(e){if(_178(e)){_174=e.target;e.preventDefault();}}),on(node,"keyup",function(e){if(_178(e)&&e.target==_174){_174=null;_177.call(this,e);}}),on(node,"click",function(e){_177.call(this,e);})];return {remove:function(){_171.forEach(_179,function(h){h.remove();});}};}};return _172("dijit._OnDijitClickMixin",null,{connect:function(obj,_17a,_17b){return this.inherited(arguments,[obj,_17a=="ondijitclick"?_176:_17a,_17b]);}});});},"dijit/focus":function(){define("dijit/focus",["dojo/aspect","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-construct","dojo/Evented","dojo/_base/lang","dojo/on","dojo/domReady","dojo/_base/sniff","dojo/Stateful","dojo/_base/window","dojo/window","./a11y","./registry","./main"],function(_17c,_17d,dom,_17e,_17f,_180,lang,on,_181,has,_182,win,_183,a11y,_184,_185){var _186=_17d([_182,_180],{curNode:null,activeStack:[],constructor:function(){var _187=lang.hitch(this,function(node){if(dom.isDescendant(this.curNode,node)){this.set("curNode",null);}if(dom.isDescendant(this.prevNode,node)){this.set("prevNode",null);}});_17c.before(_17f,"empty",_187);_17c.before(_17f,"destroy",_187);},registerIframe:function(_188){return this.registerWin(_188.contentWindow,_188);},registerWin:function(_189,_18a){var _18b=this,body=_189.document&&_189.document.body;if(body){var mdh=on(body,"mousedown",function(evt){_18b._justMouseDowned=true;setTimeout(function(){_18b._justMouseDowned=false;},13);if(evt&&evt.target&&evt.target.parentNode==null){return;}_18b._onTouchNode(_18a||evt.target,"mouse");});var fih=on(body,"focusin",function(evt){if(!evt.target.tagName){return;}var tag=evt.target.tagName.toLowerCase();if(tag=="#document"||tag=="body"){return;}if(a11y.isTabNavigable(evt.target)){_18b._onFocusNode(_18a||evt.target);}else{_18b._onTouchNode(_18a||evt.target);}});var foh=on(body,"focusout",function(evt){_18b._onBlurNode(_18a||evt.target);});return {remove:function(){mdh.remove();fih.remove();foh.remove();mdh=fih=foh=null;body=null;}};}},_onBlurNode:function(node){if(this._clearFocusTimer){clearTimeout(this._clearFocusTimer);}this._clearFocusTimer=setTimeout(lang.hitch(this,function(){this.set("prevNode",this.curNode);this.set("curNode",null);}),0);if(this._justMouseDowned){return;}if(this._clearActiveWidgetsTimer){clearTimeout(this._clearActiveWidgetsTimer);}this._clearActiveWidgetsTimer=setTimeout(lang.hitch(this,function(){delete this._clearActiveWidgetsTimer;this._setStack([]);}),100);},_onTouchNode:function(node,by){if(this._clearActiveWidgetsTimer){clearTimeout(this._clearActiveWidgetsTimer);delete this._clearActiveWidgetsTimer;}var _18c=[];try{while(node){var _18d=_17e.get(node,"dijitPopupParent");if(_18d){node=_184.byId(_18d).domNode;}else{if(node.tagName&&node.tagName.toLowerCase()=="body"){if(node===win.body()){break;}node=_183.get(node.ownerDocument).frameElement;}else{var id=node.getAttribute&&node.getAttribute("widgetId"),_18e=id&&_184.byId(id);if(_18e&&!(by=="mouse"&&_18e.get("disabled"))){_18c.unshift(id);}node=node.parentNode;}}}}catch(e){}this._setStack(_18c,by);},_onFocusNode:function(node){if(!node){return;}if(node.nodeType==9){return;}if(this._clearFocusTimer){clearTimeout(this._clearFocusTimer);delete this._clearFocusTimer;}this._onTouchNode(node);if(node==this.curNode){return;}this.set("prevNode",this.curNode);this.set("curNode",node);},_setStack:function(_18f,by){var _190=this.activeStack,_191=_190.length-1,_192=_18f.length-1;if(_18f[_192]==_190[_191]){return;}this.set("activeStack",_18f);var _193,i;for(i=_191;i>=0&&_190[i]!=_18f[i];i--){_193=_184.byId(_190[i]);if(_193){_193._hasBeenBlurred=true;_193.set("focused",false);if(_193._focusManager==this){_193._onBlur(by);}this.emit("widget-blur",_193,by);}}for(i++;i<=_192;i++){_193=_184.byId(_18f[i]);if(_193){_193.set("focused",true);if(_193._focusManager==this){_193._onFocus(by);}this.emit("widget-focus",_193,by);}}},focus:function(node){if(node){try{node.focus();}catch(e){}}}});var _194=new _186();_181(function(){var _195=_194.registerWin(_183.get(document));if(has("ie")){on(window,"unload",function(){if(_195){_195.remove();_195=null;}});}});_185.focus=function(node){_194.focus(node);};for(var attr in _194){if(!/^_/.test(attr)){_185.focus[attr]=typeof _194[attr]=="function"?lang.hitch(_194,attr):_194[attr];}}_194.watch(function(attr,_196,_197){_185.focus[attr]=_197;});return _194;});},"dijit/_editor/plugins/LinkDialog":function(){define("dijit/_editor/plugins/LinkDialog",["require","dojo/_base/declare","dojo/dom-attr","dojo/keys","dojo/_base/lang","dojo/_base/sniff","dojo/_base/query","dojo/string","dojo/_base/window","../../_Widget","../_Plugin","../../form/DropDownButton","../range","../selection"],function(_198,_199,_19a,keys,lang,has,_19b,_19c,win,_19d,_19e,_19f,_1a0,_1a1){var _1a2=_199("dijit._editor.plugins.LinkDialog",_19e,{buttonClass:_19f,useDefaultCommand:false,urlRegExp:"((https?|ftps?|file)\\://|./|/|)(/[a-zA-Z]{1,1}:/|)(((?:(?:[\\da-zA-Z](?:[-\\da-zA-Z]{0,61}[\\da-zA-Z])?)\\.)*(?:[a-zA-Z](?:[-\\da-zA-Z]{0,80}[\\da-zA-Z])?)\\.?)|(((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.){3}(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])|(0[xX]0*[\\da-fA-F]?[\\da-fA-F]\\.){3}0[xX]0*[\\da-fA-F]?[\\da-fA-F]|(0+[0-3][0-7][0-7]\\.){3}0+[0-3][0-7][0-7]|(0|[1-9]\\d{0,8}|[1-3]\\d{9}|4[01]\\d{8}|42[0-8]\\d{7}|429[0-3]\\d{6}|4294[0-8]\\d{5}|42949[0-5]\\d{4}|429496[0-6]\\d{3}|4294967[01]\\d{2}|42949672[0-8]\\d|429496729[0-5])|0[xX]0*[\\da-fA-F]{1,8}|([\\da-fA-F]{1,4}\\:){7}[\\da-fA-F]{1,4}|([\\da-fA-F]{1,4}\\:){6}((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.){3}(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])))(\\:\\d+)?(/(?:[^?#\\s/]+/)*(?:[^?#\\s/]{0,}(?:\\?[^?#\\s/]*)?(?:#.*)?)?)?",emailRegExp:"<?(mailto\\:)([!#-'*+\\-\\/-9=?A-Z^-~]+[.])*[!#-'*+\\-\\/-9=?A-Z^-~]+"+"@"+"((?:(?:[\\da-zA-Z](?:[-\\da-zA-Z]{0,61}[\\da-zA-Z])?)\\.)+(?:[a-zA-Z](?:[-\\da-zA-Z]{0,6}[\\da-zA-Z])?)\\.?)|localhost|^[^-][a-zA-Z0-9_-]*>?",htmlTemplate:"<a href=\"${urlInput}\" _djrealurl=\"${urlInput}\""+" target=\"${targetSelect}\""+">${textInput}</a>",tag:"a",_hostRxp:/^((([^\[:]+):)?([^@]+)@)?(\[([^\]]+)\]|([^\[:]*))(:([0-9]+))?$/,_userAtRxp:/^([!#-'*+\-\/-9=?A-Z^-~]+[.])*[!#-'*+\-\/-9=?A-Z^-~]+@/i,linkDialogTemplate:["<table><tr><td>","<label for='${id}_urlInput'>${url}</label>","</td><td>","<input data-dojo-type='dijit.form.ValidationTextBox' required='true' "+"id='${id}_urlInput' name='urlInput' data-dojo-props='intermediateChanges:true'/>","</td></tr><tr><td>","<label for='${id}_textInput'>${text}</label>","</td><td>","<input data-dojo-type='dijit.form.ValidationTextBox' required='true' id='${id}_textInput' "+"name='textInput' data-dojo-props='intermediateChanges:true'/>","</td></tr><tr><td>","<label for='${id}_targetSelect'>${target}</label>","</td><td>","<select id='${id}_targetSelect' name='targetSelect' data-dojo-type='dijit.form.Select'>","<option selected='selected' value='_self'>${currentWindow}</option>","<option value='_blank'>${newWindow}</option>","<option value='_top'>${topWindow}</option>","<option value='_parent'>${parentWindow}</option>","</select>","</td></tr><tr><td colspan='2'>","<button data-dojo-type='dijit.form.Button' type='submit' id='${id}_setButton'>${set}</button>","<button data-dojo-type='dijit.form.Button' type='button' id='${id}_cancelButton'>${buttonCancel}</button>","</td></tr></table>"].join(""),_initButton:function(){this.inherited(arguments);this.button.loadDropDown=lang.hitch(this,"_loadDropDown");this._connectTagEvents();},_loadDropDown:function(_1a3){_198(["dojo/i18n","../../TooltipDialog","../../registry","../../form/Button","../../form/Select","../../form/ValidationTextBox","dojo/i18n!../../nls/common","dojo/i18n!../nls/LinkDialog"],lang.hitch(this,function(i18n,_1a4,_1a5){var _1a6=this;this.tag=this.command=="insertImage"?"img":"a";var _1a7=lang.delegate(i18n.getLocalization("dijit","common",this.lang),i18n.getLocalization("dijit._editor","LinkDialog",this.lang));var _1a8=(this.dropDown=this.button.dropDown=new _1a4({title:_1a7[this.command+"Title"],execute:lang.hitch(this,"setValue"),onOpen:function(){_1a6._onOpenDialog();_1a4.prototype.onOpen.apply(this,arguments);},onCancel:function(){setTimeout(lang.hitch(_1a6,"_onCloseDialog"),0);}}));_1a7.urlRegExp=this.urlRegExp;_1a7.id=_1a5.getUniqueId(this.editor.id);this._uniqueId=_1a7.id;this._setContent(_1a8.title+"<div style='border-bottom: 1px black solid;padding-bottom:2pt;margin-bottom:4pt'></div>"+_19c.substitute(this.linkDialogTemplate,_1a7));_1a8.startup();this._urlInput=_1a5.byId(this._uniqueId+"_urlInput");this._textInput=_1a5.byId(this._uniqueId+"_textInput");this._setButton=_1a5.byId(this._uniqueId+"_setButton");this.connect(_1a5.byId(this._uniqueId+"_cancelButton"),"onClick",function(){this.dropDown.onCancel();});if(this._urlInput){this.connect(this._urlInput,"onChange","_checkAndFixInput");}if(this._textInput){this.connect(this._textInput,"onChange","_checkAndFixInput");}this._urlRegExp=new RegExp("^"+this.urlRegExp+"$","i");this._emailRegExp=new RegExp("^"+this.emailRegExp+"$","i");this._urlInput.isValid=lang.hitch(this,function(){var _1a9=this._urlInput.get("value");return this._urlRegExp.test(_1a9)||this._emailRegExp.test(_1a9);});this.connect(_1a8.domNode,"onkeypress",function(e){if(e&&e.charOrCode==keys.ENTER&&!e.shiftKey&&!e.metaKey&&!e.ctrlKey&&!e.altKey){if(!this._setButton.get("disabled")){_1a8.onExecute();_1a8.execute(_1a8.get("value"));}}});_1a3();}));},_checkAndFixInput:function(){var self=this;var url=this._urlInput.get("value");var _1aa=function(url){var _1ab=false;var _1ac=false;if(url&&url.length>1){url=lang.trim(url);if(url.indexOf("mailto:")!==0){if(url.indexOf("/")>0){if(url.indexOf("://")===-1){if(url.charAt(0)!=="/"&&url.indexOf("./")!==0){if(self._hostRxp.test(url)){_1ab=true;}}}}else{if(self._userAtRxp.test(url)){_1ac=true;}}}}if(_1ab){self._urlInput.set("value","http://"+url);}if(_1ac){self._urlInput.set("value","mailto:"+url);}self._setButton.set("disabled",!self._isValid());};if(this._delayedCheck){clearTimeout(this._delayedCheck);this._delayedCheck=null;}this._delayedCheck=setTimeout(function(){_1aa(url);},250);},_connectTagEvents:function(){this.editor.onLoadDeferred.addCallback(lang.hitch(this,function(){this.connect(this.editor.editNode,"ondblclick",this._onDblClick);}));},_isValid:function(){return this._urlInput.isValid()&&this._textInput.isValid();},_setContent:function(_1ad){this.dropDown.set({parserScope:"dojo",content:_1ad});},_checkValues:function(args){if(args&&args.urlInput){args.urlInput=args.urlInput.replace(/"/g,"&quot;");}return args;},setValue:function(args){this._onCloseDialog();if(has("ie")<9){var sel=_1a0.getSelection(this.editor.window);var _1ae=sel.getRangeAt(0);var a=_1ae.endContainer;if(a.nodeType===3){a=a.parentNode;}if(a&&(a.nodeName&&a.nodeName.toLowerCase()!==this.tag)){a=win.withGlobal(this.editor.window,"getSelectedElement",_1a1,[this.tag]);}if(a&&(a.nodeName&&a.nodeName.toLowerCase()===this.tag)){if(this.editor.queryCommandEnabled("unlink")){win.withGlobal(this.editor.window,"selectElementChildren",_1a1,[a]);this.editor.execCommand("unlink");}}}args=this._checkValues(args);this.editor.execCommand("inserthtml",_19c.substitute(this.htmlTemplate,args));_19b("a",this.editor.document).forEach(function(a){if(!a.innerHTML&&!_19a.has(a,"name")){a.parentNode.removeChild(a);}},this);},_onCloseDialog:function(){if(this.editor.focused){this.editor.focus();}},_getCurrentValues:function(a){var url,text,_1af;if(a&&a.tagName.toLowerCase()===this.tag){url=a.getAttribute("_djrealurl")||a.getAttribute("href");_1af=a.getAttribute("target")||"_self";text=a.textContent||a.innerText;win.withGlobal(this.editor.window,"selectElement",_1a1,[a,true]);}else{text=win.withGlobal(this.editor.window,_1a1.getSelectedText);}return {urlInput:url||"",textInput:text||"",targetSelect:_1af||""};},_onOpenDialog:function(){var a;if(has("ie")<9){var sel=_1a0.getSelection(this.editor.window);var _1b0=sel.getRangeAt(0);a=_1b0.endContainer;if(a.nodeType===3){a=a.parentNode;}if(a&&(a.nodeName&&a.nodeName.toLowerCase()!==this.tag)){a=win.withGlobal(this.editor.window,"getSelectedElement",_1a1,[this.tag]);}}else{a=win.withGlobal(this.editor.window,"getAncestorElement",_1a1,[this.tag]);}this.dropDown.reset();this._setButton.set("disabled",true);this.dropDown.set("value",this._getCurrentValues(a));},_onDblClick:function(e){if(e&&e.target){var t=e.target;var tg=t.tagName?t.tagName.toLowerCase():"";if(tg===this.tag&&_19a.get(t,"href")){var _1b1=this.editor;win.withGlobal(_1b1.window,"selectElement",_1a1,[t]);_1b1.onDisplayChanged();if(_1b1._updateTimer){clearTimeout(_1b1._updateTimer);delete _1b1._updateTimer;}_1b1.onNormalizedDisplayChanged();var _1b2=this.button;setTimeout(function(){_1b2.set("disabled",false);_1b2.loadAndOpenDropDown().then(function(){if(_1b2.dropDown.focus){_1b2.dropDown.focus();}});},10);}}}});var _1b3=_199("dijit._editor.plugins.ImgLinkDialog",[_1a2],{linkDialogTemplate:["<table><tr><td>","<label for='${id}_urlInput'>${url}</label>","</td><td>","<input dojoType='dijit.form.ValidationTextBox' regExp='${urlRegExp}' "+"required='true' id='${id}_urlInput' name='urlInput' data-dojo-props='intermediateChanges:true'/>","</td></tr><tr><td>","<label for='${id}_textInput'>${text}</label>","</td><td>","<input data-dojo-type='dijit.form.ValidationTextBox' required='false' id='${id}_textInput' "+"name='textInput' data-dojo-props='intermediateChanges:true'/>","</td></tr><tr><td>","</td><td>","</td></tr><tr><td colspan='2'>","<button data-dojo-type='dijit.form.Button' type='submit' id='${id}_setButton'>${set}</button>","<button data-dojo-type='dijit.form.Button' type='button' id='${id}_cancelButton'>${buttonCancel}</button>","</td></tr></table>"].join(""),htmlTemplate:"<img src=\"${urlInput}\" _djrealurl=\"${urlInput}\" alt=\"${textInput}\" />",tag:"img",_getCurrentValues:function(img){var url,text;if(img&&img.tagName.toLowerCase()===this.tag){url=img.getAttribute("_djrealurl")||img.getAttribute("src");text=img.getAttribute("alt");win.withGlobal(this.editor.window,"selectElement",_1a1,[img,true]);}else{text=win.withGlobal(this.editor.window,_1a1.getSelectedText);}return {urlInput:url||"",textInput:text||""};},_isValid:function(){return this._urlInput.isValid();},_connectTagEvents:function(){this.inherited(arguments);this.editor.onLoadDeferred.addCallback(lang.hitch(this,function(){this.connect(this.editor.editNode,"onmousedown",this._selectTag);}));},_selectTag:function(e){if(e&&e.target){var t=e.target;var tg=t.tagName?t.tagName.toLowerCase():"";if(tg===this.tag){win.withGlobal(this.editor.window,"selectElement",_1a1,[t]);}}},_checkValues:function(args){if(args&&args.urlInput){args.urlInput=args.urlInput.replace(/"/g,"&quot;");}if(args&&args.textInput){args.textInput=args.textInput.replace(/"/g,"&quot;");}return args;},_onDblClick:function(e){if(e&&e.target){var t=e.target;var tg=t.tagName?t.tagName.toLowerCase():"";if(tg===this.tag&&_19a.get(t,"src")){var _1b4=this.editor;win.withGlobal(_1b4.window,"selectElement",_1a1,[t]);_1b4.onDisplayChanged();if(_1b4._updateTimer){clearTimeout(_1b4._updateTimer);delete _1b4._updateTimer;}_1b4.onNormalizedDisplayChanged();var _1b5=this.button;setTimeout(function(){_1b5.set("disabled",false);_1b5.loadAndOpenDropDown().then(function(){if(_1b5.dropDown.focus){_1b5.dropDown.focus();}});},10);}}}});_19e.registry["createLink"]=function(){return new _1a2({command:"createLink"});};_19e.registry["insertImage"]=function(){return new _1b3({command:"insertImage"});};_1a2.ImgLinkDialog=_1b3;return _1a2;});},"dijit/main":function(){define("dijit/main",["dojo/_base/kernel"],function(dojo){return dojo.dijit;});},"dojo/date/stamp":function(){define("dojo/date/stamp",["../_base/kernel","../_base/lang","../_base/array"],function(dojo,lang,_1b6){lang.getObject("date.stamp",true,dojo);dojo.date.stamp.fromISOString=function(_1b7,_1b8){if(!dojo.date.stamp._isoRegExp){dojo.date.stamp._isoRegExp=/^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(.\d+)?)?((?:[+-](\d{2}):(\d{2}))|Z)?)?$/;}var _1b9=dojo.date.stamp._isoRegExp.exec(_1b7),_1ba=null;if(_1b9){_1b9.shift();if(_1b9[1]){_1b9[1]--;}if(_1b9[6]){_1b9[6]*=1000;}if(_1b8){_1b8=new Date(_1b8);_1b6.forEach(_1b6.map(["FullYear","Month","Date","Hours","Minutes","Seconds","Milliseconds"],function(prop){return _1b8["get"+prop]();}),function(_1bb,_1bc){_1b9[_1bc]=_1b9[_1bc]||_1bb;});}_1ba=new Date(_1b9[0]||1970,_1b9[1]||0,_1b9[2]||1,_1b9[3]||0,_1b9[4]||0,_1b9[5]||0,_1b9[6]||0);if(_1b9[0]<100){_1ba.setFullYear(_1b9[0]||1970);}var _1bd=0,_1be=_1b9[7]&&_1b9[7].charAt(0);if(_1be!="Z"){_1bd=((_1b9[8]||0)*60)+(Number(_1b9[9])||0);if(_1be!="-"){_1bd*=-1;}}if(_1be){_1bd-=_1ba.getTimezoneOffset();}if(_1bd){_1ba.setTime(_1ba.getTime()+_1bd*60000);}}return _1ba;};dojo.date.stamp.toISOString=function(_1bf,_1c0){var _1c1=function(n){return (n<10)?"0"+n:n;};_1c0=_1c0||{};var _1c2=[],_1c3=_1c0.zulu?"getUTC":"get",date="";if(_1c0.selector!="time"){var year=_1bf[_1c3+"FullYear"]();date=["0000".substr((year+"").length)+year,_1c1(_1bf[_1c3+"Month"]()+1),_1c1(_1bf[_1c3+"Date"]())].join("-");}_1c2.push(date);if(_1c0.selector!="date"){var time=[_1c1(_1bf[_1c3+"Hours"]()),_1c1(_1bf[_1c3+"Minutes"]()),_1c1(_1bf[_1c3+"Seconds"]())].join(":");var _1c4=_1bf[_1c3+"Milliseconds"]();if(_1c0.milliseconds){time+="."+(_1c4<100?"0":"")+_1c1(_1c4);}if(_1c0.zulu){time+="Z";}else{if(_1c0.selector!="time"){var _1c5=_1bf.getTimezoneOffset();var _1c6=Math.abs(_1c5);time+=(_1c5>0?"-":"+")+_1c1(Math.floor(_1c6/60))+":"+_1c1(_1c6%60);}}_1c2.push(time);}return _1c2.join("T");};return dojo.date.stamp;});},"dijit/_editor/plugins/FullScreen":function(){define("dijit/_editor/plugins/FullScreen",["dojo/aspect","dojo/_base/declare","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/event","dojo/i18n","dojo/keys","dojo/_base/lang","dojo/on","dojo/_base/sniff","dojo/_base/window","dojo/window","../../focus","../_Plugin","../../form/ToggleButton","../../registry","dojo/i18n!../nls/commands"],function(_1c7,_1c8,_1c9,_1ca,_1cb,_1cc,i18n,keys,lang,on,has,win,_1cd,_1ce,_1cf,_1d0,_1d1){var _1d2=_1c8("dijit._editor.plugins.FullScreen",_1cf,{zIndex:500,_origState:null,_origiFrameState:null,_resizeHandle:null,isFullscreen:false,toggle:function(){this.button.set("checked",!this.button.get("checked"));},_initButton:function(){var _1d3=i18n.getLocalization("dijit._editor","commands"),_1d4=this.editor;this.button=new _1d0({label:_1d3["fullScreen"],dir:_1d4.dir,lang:_1d4.lang,showLabel:false,iconClass:this.iconClassPrefix+" "+this.iconClassPrefix+"FullScreen",tabIndex:"-1",onChange:lang.hitch(this,"_setFullScreen")});},setEditor:function(_1d5){this.editor=_1d5;this._initButton();this.editor.addKeyHandler(keys.F11,true,true,lang.hitch(this,function(e){this.toggle();_1cc.stop(e);setTimeout(lang.hitch(this,function(){this.editor.focus();}),250);return true;}));this.connect(this.editor.domNode,"onkeydown","_containFocus");},_containFocus:function(e){if(this.isFullscreen){var ed=this.editor;if(!ed.isTabIndent&&ed._fullscreen_oldOnKeyDown&&e.keyCode===keys.TAB){var f=_1ce.curNode;var avn=this._getAltViewNode();if(f==ed.iframe||(avn&&f===avn)){setTimeout(lang.hitch(this,function(){ed.toolbar.focus();}),10);}else{if(avn&&_1cb.get(ed.iframe,"display")==="none"){setTimeout(lang.hitch(this,function(){_1ce.focus(avn);}),10);}else{setTimeout(lang.hitch(this,function(){ed.focus();}),10);}}_1cc.stop(e);}else{if(ed._fullscreen_oldOnKeyDown){ed._fullscreen_oldOnKeyDown(e);}}}},_resizeEditor:function(){var vp=_1cd.getBox();_1ca.setMarginBox(this.editor.domNode,{w:vp.w,h:vp.h});var _1d6=this.editor.getHeaderHeight();var _1d7=this.editor.getFooterHeight();var _1d8=_1ca.getPadBorderExtents(this.editor.domNode);var _1d9=_1ca.getPadBorderExtents(this.editor.iframe.parentNode);var _1da=_1ca.getMarginExtents(this.editor.iframe.parentNode);var _1db=vp.h-(_1d6+_1d8.h+_1d7);_1ca.setMarginBox(this.editor.iframe.parentNode,{h:_1db,w:vp.w});_1ca.setMarginBox(this.editor.iframe,{h:_1db-(_1d9.h+_1da.h)});},_getAltViewNode:function(){},_setFullScreen:function(full){var vp=_1cd.getBox();var ed=this.editor;var body=win.body();var _1dc=ed.domNode.parentNode;this.isFullscreen=full;if(full){while(_1dc&&_1dc!==win.body()){_1c9.add(_1dc,"dijitForceStatic");_1dc=_1dc.parentNode;}this._editorResizeHolder=this.editor.resize;ed.resize=function(){};ed._fullscreen_oldOnKeyDown=ed.onKeyDown;ed.onKeyDown=lang.hitch(this,this._containFocus);this._origState={};this._origiFrameState={};var _1dd=ed.domNode,_1de=_1dd&&_1dd.style||{};this._origState={width:_1de.width||"",height:_1de.height||"",top:_1cb.get(_1dd,"top")||"",left:_1cb.get(_1dd,"left")||"",position:_1cb.get(_1dd,"position")||"static",marginBox:_1ca.getMarginBox(ed.domNode)};var _1df=ed.iframe,_1e0=_1df&&_1df.style||{};var bc=_1cb.get(ed.iframe,"backgroundColor");this._origiFrameState={backgroundColor:bc||"transparent",width:_1e0.width||"auto",height:_1e0.height||"auto",zIndex:_1e0.zIndex||""};_1cb.set(ed.domNode,{position:"absolute",top:"0px",left:"0px",zIndex:this.zIndex,width:vp.w+"px",height:vp.h+"px"});_1cb.set(ed.iframe,{height:"100%",width:"100%",zIndex:this.zIndex,backgroundColor:bc!=="transparent"&&bc!=="rgba(0, 0, 0, 0)"?bc:"white"});_1cb.set(ed.iframe.parentNode,{height:"95%",width:"100%"});if(body.style&&body.style.overflow){this._oldOverflow=_1cb.get(body,"overflow");}else{this._oldOverflow="";}if(has("ie")&&!has("quirks")){if(body.parentNode&&body.parentNode.style&&body.parentNode.style.overflow){this._oldBodyParentOverflow=body.parentNode.style.overflow;}else{try{this._oldBodyParentOverflow=_1cb.get(body.parentNode,"overflow");}catch(e){this._oldBodyParentOverflow="scroll";}}_1cb.set(body.parentNode,"overflow","hidden");}_1cb.set(body,"overflow","hidden");var _1e1=function(){var vp=_1cd.getBox();if("_prevW" in this&&"_prevH" in this){if(vp.w===this._prevW&&vp.h===this._prevH){return;}}else{this._prevW=vp.w;this._prevH=vp.h;}if(this._resizer){clearTimeout(this._resizer);delete this._resizer;}this._resizer=setTimeout(lang.hitch(this,function(){delete this._resizer;this._resizeEditor();}),10);};this._resizeHandle=on(window,"resize",lang.hitch(this,_1e1));this._resizeHandle2=_1c7.after(ed,"onResize",lang.hitch(this,function(){if(this._resizer){clearTimeout(this._resizer);delete this._resizer;}this._resizer=setTimeout(lang.hitch(this,function(){delete this._resizer;this._resizeEditor();}),10);}));this._resizeEditor();var dn=this.editor.toolbar.domNode;setTimeout(function(){_1cd.scrollIntoView(dn);},250);}else{if(this._resizeHandle){this._resizeHandle.remove();this._resizeHandle=null;}if(this._resizeHandle2){this._resizeHandle2.remove();this._resizeHandle2=null;}if(this._rst){clearTimeout(this._rst);this._rst=null;}while(_1dc&&_1dc!==win.body()){_1c9.remove(_1dc,"dijitForceStatic");_1dc=_1dc.parentNode;}if(this._editorResizeHolder){this.editor.resize=this._editorResizeHolder;}if(!this._origState&&!this._origiFrameState){return;}if(ed._fullscreen_oldOnKeyDown){ed.onKeyDown=ed._fullscreen_oldOnKeyDown;delete ed._fullscreen_oldOnKeyDown;}var self=this;setTimeout(function(){var mb=self._origState.marginBox;var oh=self._origState.height;if(has("ie")&&!has("quirks")){body.parentNode.style.overflow=self._oldBodyParentOverflow;delete self._oldBodyParentOverflow;}_1cb.set(body,"overflow",self._oldOverflow);delete self._oldOverflow;_1cb.set(ed.domNode,self._origState);_1cb.set(ed.iframe.parentNode,{height:"",width:""});_1cb.set(ed.iframe,self._origiFrameState);delete self._origState;delete self._origiFrameState;var _1e2=_1d1.getEnclosingWidget(ed.domNode.parentNode);if(_1e2&&_1e2.resize){_1e2.resize();}else{if(!oh||oh.indexOf("%")<0){setTimeout(lang.hitch(this,function(){ed.resize({h:mb.h});}),0);}}_1cd.scrollIntoView(self.editor.toolbar.domNode);},100);}},updateState:function(){this.button.set("disabled",this.get("disabled"));},destroy:function(){if(this._resizeHandle){this._resizeHandle.remove();this._resizeHandle=null;}if(this._resizeHandle2){this._resizeHandle2.remove();this._resizeHandle2=null;}if(this._resizer){clearTimeout(this._resizer);this._resizer=null;}this.inherited(arguments);}});_1cf.registry["fullScreen"]=_1cf.registry["fullscreen"]=function(args){return new _1d2({zIndex:("zIndex" in args)?args.zIndex:500});};return _1d2;});},"dijit/_editor/plugins/NewPage":function(){define("dijit/_editor/plugins/NewPage",["dojo/_base/declare","dojo/i18n","dojo/_base/lang","../_Plugin","../../form/Button","dojo/i18n!../nls/commands"],function(_1e3,i18n,lang,_1e4,_1e5){var _1e6=_1e3("dijit._editor.plugins.NewPage",_1e4,{content:"<br>",_initButton:function(){var _1e7=i18n.getLocalization("dijit._editor","commands"),_1e8=this.editor;this.button=new _1e5({label:_1e7["newPage"],dir:_1e8.dir,lang:_1e8.lang,showLabel:false,iconClass:this.iconClassPrefix+" "+this.iconClassPrefix+"NewPage",tabIndex:"-1",onClick:lang.hitch(this,"_newPage")});},setEditor:function(_1e9){this.editor=_1e9;this._initButton();},updateState:function(){this.button.set("disabled",this.get("disabled"));},_newPage:function(){this.editor.beginEditing();this.editor.set("value",this.content);this.editor.endEditing();this.editor.focus();}});_1e4.registry["newPage"]=_1e4.registry["newpage"]=function(args){return new _1e6({content:("content" in args)?args.content:"<br>"});};return _1e6;});},"dijit/form/_FormWidget":function(){define("dijit/form/_FormWidget",["dojo/_base/declare","dojo/_base/kernel","dojo/ready","../_Widget","../_CssStateMixin","../_TemplatedMixin","./_FormWidgetMixin"],function(_1ea,_1eb,_1ec,_1ed,_1ee,_1ef,_1f0){if(!_1eb.isAsync){_1ec(0,function(){var _1f1=["dijit/form/_FormValueWidget"];require(_1f1);});}return _1ea("dijit.form._FormWidget",[_1ed,_1ef,_1ee,_1f0],{setDisabled:function(_1f2){_1eb.deprecated("setDisabled("+_1f2+") is deprecated. Use set('disabled',"+_1f2+") instead.","","2.0");this.set("disabled",_1f2);},setValue:function(_1f3){_1eb.deprecated("dijit.form._FormWidget:setValue("+_1f3+") is deprecated.  Use set('value',"+_1f3+") instead.","","2.0");this.set("value",_1f3);},getValue:function(){_1eb.deprecated(this.declaredClass+"::getValue() is deprecated. Use get('value') instead.","","2.0");return this.get("value");},postMixInProperties:function(){this.nameAttrSetting=this.name?("name=\""+this.name.replace(/'/g,"&quot;")+"\""):"";this.inherited(arguments);},_setTypeAttr:null});});},"dijit/_editor/plugins/TextColor":function(){define("dijit/_editor/plugins/TextColor",["require","dojo/colors","dojo/_base/declare","dojo/_base/lang","../_Plugin","../../form/DropDownButton"],function(_1f4,_1f5,_1f6,lang,_1f7,_1f8){var _1f9=_1f6("dijit._editor.plugins.TextColor",_1f7,{buttonClass:_1f8,useDefaultCommand:false,_initButton:function(){this.inherited(arguments);var self=this;this.button.loadDropDown=function(_1fa){_1f4(["../../ColorPalette"],lang.hitch(this,function(_1fb){this.dropDown=new _1fb({value:self.value,onChange:function(_1fc){self.editor.execCommand(self.command,_1fc);}});_1fa();}));};},updateState:function(){var _1fd=this.editor;var _1fe=this.command;if(!_1fd||!_1fd.isLoaded||!_1fe.length){return;}if(this.button){var _1ff=this.get("disabled");this.button.set("disabled",_1ff);if(_1ff){return;}var _200;try{_200=_1fd.queryCommandValue(_1fe)||"";}catch(e){_200="";}}if(_200==""){_200="#000000";}if(_200=="transparent"){_200="#ffffff";}if(typeof _200=="string"){if(_200.indexOf("rgb")>-1){_200=_1f5.fromRgb(_200).toHex();}}else{_200=((_200&255)<<16)|(_200&65280)|((_200&16711680)>>>16);_200=_200.toString(16);_200="#000000".slice(0,7-_200.length)+_200;}this.value=_200;var _201=this.button.dropDown;if(_201&&_200!==_201.get("value")){_201.set("value",_200,false);}}});_1f7.registry["foreColor"]=function(){return new _1f9({command:"foreColor"});};_1f7.registry["hiliteColor"]=function(){return new _1f9({command:"hiliteColor"});};return _1f9;});},"dijit/_TemplatedMixin":function(){define("dijit/_TemplatedMixin",["dojo/_base/lang","dojo/touch","./_WidgetBase","dojo/string","dojo/cache","dojo/_base/array","dojo/_base/declare","dojo/dom-construct","dojo/_base/sniff","dojo/_base/unload","dojo/_base/window"],function(lang,_202,_203,_204,_205,_206,_207,_208,has,_209,win){var _20a=_207("dijit._TemplatedMixin",null,{templateString:null,templatePath:null,_skipNodeCache:false,_earlyTemplatedStartup:false,constructor:function(){this._attachPoints=[];this._attachEvents=[];},_stringRepl:function(tmpl){var _20b=this.declaredClass,_20c=this;return _204.substitute(tmpl,this,function(_20d,key){if(key.charAt(0)=="!"){_20d=lang.getObject(key.substr(1),false,_20c);}if(typeof _20d=="undefined"){throw new Error(_20b+" template:"+key);}if(_20d==null){return "";}return key.charAt(0)=="!"?_20d:_20d.toString().replace(/"/g,"&quot;");},this);},buildRendering:function(){if(!this.templateString){this.templateString=_205(this.templatePath,{sanitize:true});}var _20e=_20a.getCachedTemplate(this.templateString,this._skipNodeCache);var node;if(lang.isString(_20e)){node=_208.toDom(this._stringRepl(_20e));if(node.nodeType!=1){throw new Error("Invalid template: "+_20e);}}else{node=_20e.cloneNode(true);}this.domNode=node;this.inherited(arguments);this._attachTemplateNodes(node,function(n,p){return n.getAttribute(p);});this._beforeFillContent();this._fillContent(this.srcNodeRef);},_beforeFillContent:function(){},_fillContent:function(_20f){var dest=this.containerNode;if(_20f&&dest){while(_20f.hasChildNodes()){dest.appendChild(_20f.firstChild);}}},_attachTemplateNodes:function(_210,_211){var _212=lang.isArray(_210)?_210:(_210.all||_210.getElementsByTagName("*"));var x=lang.isArray(_210)?0:-1;for(;x<_212.length;x++){var _213=(x==-1)?_210:_212[x];if(this.widgetsInTemplate&&(_211(_213,"dojoType")||_211(_213,"data-dojo-type"))){continue;}var _214=_211(_213,"dojoAttachPoint")||_211(_213,"data-dojo-attach-point");if(_214){var _215,_216=_214.split(/\s*,\s*/);while((_215=_216.shift())){if(lang.isArray(this[_215])){this[_215].push(_213);}else{this[_215]=_213;}this._attachPoints.push(_215);}}var _217=_211(_213,"dojoAttachEvent")||_211(_213,"data-dojo-attach-event");if(_217){var _218,_219=_217.split(/\s*,\s*/);var trim=lang.trim;while((_218=_219.shift())){if(_218){var _21a=null;if(_218.indexOf(":")!=-1){var _21b=_218.split(":");_218=trim(_21b[0]);_21a=trim(_21b[1]);}else{_218=trim(_218);}if(!_21a){_21a=_218;}this._attachEvents.push(this.connect(_213,_202[_218]||_218,_21a));}}}}},destroyRendering:function(){_206.forEach(this._attachPoints,function(_21c){delete this[_21c];},this);this._attachPoints=[];_206.forEach(this._attachEvents,this.disconnect,this);this._attachEvents=[];this.inherited(arguments);}});_20a._templateCache={};_20a.getCachedTemplate=function(_21d,_21e){var _21f=_20a._templateCache;var key=_21d;var _220=_21f[key];if(_220){try{if(!_220.ownerDocument||_220.ownerDocument==win.doc){return _220;}}catch(e){}_208.destroy(_220);}_21d=_204.trim(_21d);if(_21e||_21d.match(/\$\{([^\}]+)\}/g)){return (_21f[key]=_21d);}else{var node=_208.toDom(_21d);if(node.nodeType!=1){throw new Error("Invalid template: "+_21d);}return (_21f[key]=node);}};if(has("ie")){_209.addOnWindowUnload(function(){var _221=_20a._templateCache;for(var key in _221){var _222=_221[key];if(typeof _222=="object"){_208.destroy(_222);}delete _221[key];}});}lang.extend(_203,{dojoAttachEvent:"",dojoAttachPoint:""});return _20a;});},"dojo/colors":function(){define("dojo/colors",["./_base/kernel","./_base/lang","./_base/Color","./_base/array"],function(dojo,lang,_223,_224){var _225=lang.getObject("dojo.colors",true);var _226=function(m1,m2,h){if(h<0){++h;}if(h>1){--h;}var h6=6*h;if(h6<1){return m1+(m2-m1)*h6;}if(2*h<1){return m2;}if(3*h<2){return m1+(m2-m1)*(2/3-h)*6;}return m1;};dojo.colorFromRgb=_223.fromRgb=function(_227,obj){var m=_227.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(m){var c=m[2].split(/\s*,\s*/),l=c.length,t=m[1],a;if((t=="rgb"&&l==3)||(t=="rgba"&&l==4)){var r=c[0];if(r.charAt(r.length-1)=="%"){a=_224.map(c,function(x){return parseFloat(x)*2.56;});if(l==4){a[3]=c[3];}return _223.fromArray(a,obj);}return _223.fromArray(c,obj);}if((t=="hsl"&&l==3)||(t=="hsla"&&l==4)){var H=((parseFloat(c[0])%360)+360)%360/360,S=parseFloat(c[1])/100,L=parseFloat(c[2])/100,m2=L<=0.5?L*(S+1):L+S-L*S,m1=2*L-m2;a=[_226(m1,m2,H+1/3)*256,_226(m1,m2,H)*256,_226(m1,m2,H-1/3)*256,1];if(l==4){a[3]=c[3];}return _223.fromArray(a,obj);}}return null;};var _228=function(c,low,high){c=Number(c);return isNaN(c)?high:c<low?low:c>high?high:c;};_223.prototype.sanitize=function(){var t=this;t.r=Math.round(_228(t.r,0,255));t.g=Math.round(_228(t.g,0,255));t.b=Math.round(_228(t.b,0,255));t.a=_228(t.a,0,1);return this;};_225.makeGrey=_223.makeGrey=function(g,a){return _223.fromArray([g,g,g,a]);};lang.mixin(_223.named,{"aliceblue":[240,248,255],"antiquewhite":[250,235,215],"aquamarine":[127,255,212],"azure":[240,255,255],"beige":[245,245,220],"bisque":[255,228,196],"blanchedalmond":[255,235,205],"blueviolet":[138,43,226],"brown":[165,42,42],"burlywood":[222,184,135],"cadetblue":[95,158,160],"chartreuse":[127,255,0],"chocolate":[210,105,30],"coral":[255,127,80],"cornflowerblue":[100,149,237],"cornsilk":[255,248,220],"crimson":[220,20,60],"cyan":[0,255,255],"darkblue":[0,0,139],"darkcyan":[0,139,139],"darkgoldenrod":[184,134,11],"darkgray":[169,169,169],"darkgreen":[0,100,0],"darkgrey":[169,169,169],"darkkhaki":[189,183,107],"darkmagenta":[139,0,139],"darkolivegreen":[85,107,47],"darkorange":[255,140,0],"darkorchid":[153,50,204],"darkred":[139,0,0],"darksalmon":[233,150,122],"darkseagreen":[143,188,143],"darkslateblue":[72,61,139],"darkslategray":[47,79,79],"darkslategrey":[47,79,79],"darkturquoise":[0,206,209],"darkviolet":[148,0,211],"deeppink":[255,20,147],"deepskyblue":[0,191,255],"dimgray":[105,105,105],"dimgrey":[105,105,105],"dodgerblue":[30,144,255],"firebrick":[178,34,34],"floralwhite":[255,250,240],"forestgreen":[34,139,34],"gainsboro":[220,220,220],"ghostwhite":[248,248,255],"gold":[255,215,0],"goldenrod":[218,165,32],"greenyellow":[173,255,47],"grey":[128,128,128],"honeydew":[240,255,240],"hotpink":[255,105,180],"indianred":[205,92,92],"indigo":[75,0,130],"ivory":[255,255,240],"khaki":[240,230,140],"lavender":[230,230,250],"lavenderblush":[255,240,245],"lawngreen":[124,252,0],"lemonchiffon":[255,250,205],"lightblue":[173,216,230],"lightcoral":[240,128,128],"lightcyan":[224,255,255],"lightgoldenrodyellow":[250,250,210],"lightgray":[211,211,211],"lightgreen":[144,238,144],"lightgrey":[211,211,211],"lightpink":[255,182,193],"lightsalmon":[255,160,122],"lightseagreen":[32,178,170],"lightskyblue":[135,206,250],"lightslategray":[119,136,153],"lightslategrey":[119,136,153],"lightsteelblue":[176,196,222],"lightyellow":[255,255,224],"limegreen":[50,205,50],"linen":[250,240,230],"magenta":[255,0,255],"mediumaquamarine":[102,205,170],"mediumblue":[0,0,205],"mediumorchid":[186,85,211],"mediumpurple":[147,112,219],"mediumseagreen":[60,179,113],"mediumslateblue":[123,104,238],"mediumspringgreen":[0,250,154],"mediumturquoise":[72,209,204],"mediumvioletred":[199,21,133],"midnightblue":[25,25,112],"mintcream":[245,255,250],"mistyrose":[255,228,225],"moccasin":[255,228,181],"navajowhite":[255,222,173],"oldlace":[253,245,230],"olivedrab":[107,142,35],"orange":[255,165,0],"orangered":[255,69,0],"orchid":[218,112,214],"palegoldenrod":[238,232,170],"palegreen":[152,251,152],"paleturquoise":[175,238,238],"palevioletred":[219,112,147],"papayawhip":[255,239,213],"peachpuff":[255,218,185],"peru":[205,133,63],"pink":[255,192,203],"plum":[221,160,221],"powderblue":[176,224,230],"rosybrown":[188,143,143],"royalblue":[65,105,225],"saddlebrown":[139,69,19],"salmon":[250,128,114],"sandybrown":[244,164,96],"seagreen":[46,139,87],"seashell":[255,245,238],"sienna":[160,82,45],"skyblue":[135,206,235],"slateblue":[106,90,205],"slategray":[112,128,144],"slategrey":[112,128,144],"snow":[255,250,250],"springgreen":[0,255,127],"steelblue":[70,130,180],"tan":[210,180,140],"thistle":[216,191,216],"tomato":[255,99,71],"turquoise":[64,224,208],"violet":[238,130,238],"wheat":[245,222,179],"whitesmoke":[245,245,245],"yellowgreen":[154,205,50]});return _223;});},"dijit/_editor/plugins/ToggleDir":function(){define("dijit/_editor/plugins/ToggleDir",["dojo/_base/declare","dojo/dom-style","dojo/_base/kernel","dojo/_base/lang","../_Plugin","../../form/ToggleButton"],function(_229,_22a,_22b,lang,_22c,_22d){_22b.experimental("dijit._editor.plugins.ToggleDir");var _22e=_229("dijit._editor.plugins.ToggleDir",_22c,{useDefaultCommand:false,command:"toggleDir",buttonClass:_22d,_initButton:function(){this.inherited(arguments);this.editor.onLoadDeferred.addCallback(lang.hitch(this,function(){var _22f=this.editor.editorObject.contentWindow.document.documentElement;_22f=_22f.getElementsByTagName("body")[0];var _230=_22a.getComputedStyle(_22f).direction=="ltr";this.button.set("checked",!_230);this.connect(this.button,"onChange","_setRtl");}));},updateState:function(){this.button.set("disabled",this.get("disabled"));},_setRtl:function(rtl){var dir="ltr";if(rtl){dir="rtl";}var _231=this.editor.editorObject.contentWindow.document.documentElement;_231=_231.getElementsByTagName("body")[0];_231.dir=dir;}});_22c.registry["toggleDir"]=function(){return new _22e({command:"toggleDir"});};return _22e;});},"dijit/popup":function(){define("dijit/popup",["dojo/_base/array","dojo/aspect","dojo/_base/connect","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/_base/event","dojo/has","dojo/keys","dojo/_base/lang","dojo/on","dojo/_base/window","./place","./BackgroundIframe","."],function(_232,_233,_234,_235,dom,_236,_237,_238,_239,_23a,has,keys,lang,on,win,_23b,_23c,_23d){function _23e(){if(this._popupWrapper){_237.destroy(this._popupWrapper);delete this._popupWrapper;}};var _23f=_235(null,{_stack:[],_beginZIndex:1000,_idGen:1,_createWrapper:function(_240){var _241=_240._popupWrapper,node=_240.domNode;if(!_241){_241=_237.create("div",{"class":"dijitPopup",style:{display:"none"},role:"presentation"},win.body());_241.appendChild(node);var s=node.style;s.display="";s.visibility="";s.position="";s.top="0px";_240._popupWrapper=_241;_233.after(_240,"destroy",_23e,true);}return _241;},moveOffScreen:function(_242){var _243=this._createWrapper(_242);_239.set(_243,{visibility:"hidden",top:"-9999px",display:""});},hide:function(_244){var _245=this._createWrapper(_244);_239.set(_245,"display","none");},getTopPopup:function(){var _246=this._stack;for(var pi=_246.length-1;pi>0&&_246[pi].parent===_246[pi-1].widget;pi--){}return _246[pi];},open:function(args){var _247=this._stack,_248=args.popup,_249=args.orient||["below","below-alt","above","above-alt"],ltr=args.parent?args.parent.isLeftToRight():_238.isBodyLtr(),_24a=args.around,id=(args.around&&args.around.id)?(args.around.id+"_dropdown"):("popup_"+this._idGen++);while(_247.length&&(!args.parent||!dom.isDescendant(args.parent.domNode,_247[_247.length-1].widget.domNode))){this.close(_247[_247.length-1].widget);}var _24b=this._createWrapper(_248);_236.set(_24b,{id:id,style:{zIndex:this._beginZIndex+_247.length},"class":"dijitPopup "+(_248.baseClass||_248["class"]||"").split(" ")[0]+"Popup",dijitPopupParent:args.parent?args.parent.id:""});if(has("bgIframe")&&!_248.bgIframe){_248.bgIframe=new _23c(_24b);}var best=_24a?_23b.around(_24b,_24a,_249,ltr,_248.orient?lang.hitch(_248,"orient"):null):_23b.at(_24b,args,_249=="R"?["TR","BR","TL","BL"]:["TL","BL","TR","BR"],args.padding);_24b.style.display="";_24b.style.visibility="visible";_248.domNode.style.visibility="visible";var _24c=[];_24c.push(on(_24b,_234._keypress,lang.hitch(this,function(evt){if(evt.charOrCode==keys.ESCAPE&&args.onCancel){_23a.stop(evt);args.onCancel();}else{if(evt.charOrCode===keys.TAB){_23a.stop(evt);var _24d=this.getTopPopup();if(_24d&&_24d.onCancel){_24d.onCancel();}}}})));if(_248.onCancel&&args.onCancel){_24c.push(_248.on("cancel",args.onCancel));}_24c.push(_248.on(_248.onExecute?"execute":"change",lang.hitch(this,function(){var _24e=this.getTopPopup();if(_24e&&_24e.onExecute){_24e.onExecute();}})));_247.push({widget:_248,parent:args.parent,onExecute:args.onExecute,onCancel:args.onCancel,onClose:args.onClose,handlers:_24c});if(_248.onOpen){_248.onOpen(best);}return best;},close:function(_24f){var _250=this._stack;while((_24f&&_232.some(_250,function(elem){return elem.widget==_24f;}))||(!_24f&&_250.length)){var top=_250.pop(),_251=top.widget,_252=top.onClose;if(_251.onClose){_251.onClose();}var h;while(h=top.handlers.pop()){h.remove();}if(_251&&_251.domNode){this.hide(_251);}if(_252){_252();}}}});return (_23d.popup=new _23f());});},"dijit/_WidgetBase":function(){define("dijit/_WidgetBase",["require","dojo/_base/array","dojo/aspect","dojo/_base/config","dojo/_base/connect","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/_base/kernel","dojo/_base/lang","dojo/on","dojo/ready","dojo/Stateful","dojo/topic","dojo/_base/window","./registry"],function(_253,_254,_255,_256,_257,_258,dom,_259,_25a,_25b,_25c,_25d,_25e,lang,on,_25f,_260,_261,win,_262){if(!_25e.isAsync){_25f(0,function(){var _263=["dijit/_base/manager"];_253(_263);});}var _264={};function _265(obj){var ret={};for(var attr in obj){ret[attr.toLowerCase()]=true;}return ret;};function _266(attr){return function(val){_259[val?"set":"remove"](this.domNode,attr,val);this._set(attr,val);};};function _267(a,b){return a===b||(a!==a&&b!==b);};return _258("dijit._WidgetBase",_260,{id:"",_setIdAttr:"domNode",lang:"",_setLangAttr:_266("lang"),dir:"",_setDirAttr:_266("dir"),textDir:"","class":"",_setClassAttr:{node:"domNode",type:"class"},style:"",title:"",tooltip:"",baseClass:"",srcNodeRef:null,domNode:null,containerNode:null,attributeMap:{},_blankGif:_256.blankGif||_253.toUrl("dojo/resources/blank.gif"),postscript:function(_268,_269){this.create(_268,_269);},create:function(_26a,_26b){this.srcNodeRef=dom.byId(_26b);this._connects=[];this._supportingWidgets=[];if(this.srcNodeRef&&(typeof this.srcNodeRef.id=="string")){this.id=this.srcNodeRef.id;}if(_26a){this.params=_26a;lang.mixin(this,_26a);}this.postMixInProperties();if(!this.id){this.id=_262.getUniqueId(this.declaredClass.replace(/\./g,"_"));}_262.add(this);this.buildRendering();if(this.domNode){this._applyAttributes();var _26c=this.srcNodeRef;if(_26c&&_26c.parentNode&&this.domNode!==_26c){_26c.parentNode.replaceChild(this.domNode,_26c);}}if(this.domNode){this.domNode.setAttribute("widgetId",this.id);}this.postCreate();if(this.srcNodeRef&&!this.srcNodeRef.parentNode){delete this.srcNodeRef;}this._created=true;},_applyAttributes:function(){var ctor=this.constructor,list=ctor._setterAttrs;if(!list){list=(ctor._setterAttrs=[]);for(var attr in this.attributeMap){list.push(attr);}var _26d=ctor.prototype;for(var _26e in _26d){if(_26e in this.attributeMap){continue;}var _26f="_set"+_26e.replace(/^[a-z]|-[a-zA-Z]/g,function(c){return c.charAt(c.length-1).toUpperCase();})+"Attr";if(_26f in _26d){list.push(_26e);}}}_254.forEach(list,function(attr){if(this.params&&attr in this.params){}else{if(this[attr]){this.set(attr,this[attr]);}}},this);for(var _270 in this.params){this.set(_270,this[_270]);}},postMixInProperties:function(){},buildRendering:function(){if(!this.domNode){this.domNode=this.srcNodeRef||_25b.create("div");}if(this.baseClass){var _271=this.baseClass.split(" ");if(!this.isLeftToRight()){_271=_271.concat(_254.map(_271,function(name){return name+"Rtl";}));}_25a.add(this.domNode,_271);}},postCreate:function(){},startup:function(){if(this._started){return;}this._started=true;_254.forEach(this.getChildren(),function(obj){if(!obj._started&&!obj._destroyed&&lang.isFunction(obj.startup)){obj.startup();obj._started=true;}});},destroyRecursive:function(_272){this._beingDestroyed=true;this.destroyDescendants(_272);this.destroy(_272);},destroy:function(_273){this._beingDestroyed=true;this.uninitialize();var c;while((c=this._connects.pop())){c.remove();}var w;while((w=this._supportingWidgets.pop())){if(w.destroyRecursive){w.destroyRecursive();}else{if(w.destroy){w.destroy();}}}this.destroyRendering(_273);_262.remove(this.id);this._destroyed=true;},destroyRendering:function(_274){if(this.bgIframe){this.bgIframe.destroy(_274);delete this.bgIframe;}if(this.domNode){if(_274){_259.remove(this.domNode,"widgetId");}else{_25b.destroy(this.domNode);}delete this.domNode;}if(this.srcNodeRef){if(!_274){_25b.destroy(this.srcNodeRef);}delete this.srcNodeRef;}},destroyDescendants:function(_275){_254.forEach(this.getChildren(),function(_276){if(_276.destroyRecursive){_276.destroyRecursive(_275);}});},uninitialize:function(){return false;},_setStyleAttr:function(_277){var _278=this.domNode;if(lang.isObject(_277)){_25d.set(_278,_277);}else{if(_278.style.cssText){_278.style.cssText+="; "+_277;}else{_278.style.cssText=_277;}}this._set("style",_277);},_attrToDom:function(attr,_279,_27a){_27a=arguments.length>=3?_27a:this.attributeMap[attr];_254.forEach(lang.isArray(_27a)?_27a:[_27a],function(_27b){var _27c=this[_27b.node||_27b||"domNode"];var type=_27b.type||"attribute";switch(type){case "attribute":if(lang.isFunction(_279)){_279=lang.hitch(this,_279);}var _27d=_27b.attribute?_27b.attribute:(/^on[A-Z][a-zA-Z]*$/.test(attr)?attr.toLowerCase():attr);_259.set(_27c,_27d,_279);break;case "innerText":_27c.innerHTML="";_27c.appendChild(win.doc.createTextNode(_279));break;case "innerHTML":_27c.innerHTML=_279;break;case "class":_25a.replace(_27c,_279,this[attr]);break;}},this);},get:function(name){var _27e=this._getAttrNames(name);return this[_27e.g]?this[_27e.g]():this[name];},set:function(name,_27f){if(typeof name==="object"){for(var x in name){this.set(x,name[x]);}return this;}var _280=this._getAttrNames(name),_281=this[_280.s];if(lang.isFunction(_281)){var _282=_281.apply(this,Array.prototype.slice.call(arguments,1));}else{var _283=this.focusNode&&!lang.isFunction(this.focusNode)?"focusNode":"domNode",tag=this[_283].tagName,_284=_264[tag]||(_264[tag]=_265(this[_283])),map=name in this.attributeMap?this.attributeMap[name]:_280.s in this?this[_280.s]:((_280.l in _284&&typeof _27f!="function")||/^aria-|^data-|^role$/.test(name))?_283:null;if(map!=null){this._attrToDom(name,_27f,map);}this._set(name,_27f);}return _282||this;},_attrPairNames:{},_getAttrNames:function(name){var apn=this._attrPairNames;if(apn[name]){return apn[name];}var uc=name.replace(/^[a-z]|-[a-zA-Z]/g,function(c){return c.charAt(c.length-1).toUpperCase();});return (apn[name]={n:name+"Node",s:"_set"+uc+"Attr",g:"_get"+uc+"Attr",l:uc.toLowerCase()});},_set:function(name,_285){var _286=this[name];this[name]=_285;if(this._watchCallbacks&&this._created&&!_267(_285,_286)){this._watchCallbacks(name,_286,_285);}},on:function(type,func){return _255.after(this,this._onMap(type),func,true);},_onMap:function(type){var ctor=this.constructor,map=ctor._onMap;if(!map){map=(ctor._onMap={});for(var attr in ctor.prototype){if(/^on/.test(attr)){map[attr.replace(/^on/,"").toLowerCase()]=attr;}}}return map[type.toLowerCase()];},toString:function(){return "[Widget "+this.declaredClass+", "+(this.id||"NO ID")+"]";},getChildren:function(){return this.containerNode?_262.findWidgets(this.containerNode):[];},getParent:function(){return _262.getEnclosingWidget(this.domNode.parentNode);},connect:function(obj,_287,_288){var _289=_257.connect(obj,_287,this,_288);this._connects.push(_289);return _289;},disconnect:function(_28a){var i=_254.indexOf(this._connects,_28a);if(i!=-1){_28a.remove();this._connects.splice(i,1);}},subscribe:function(t,_28b){var _28c=_261.subscribe(t,lang.hitch(this,_28b));this._connects.push(_28c);return _28c;},unsubscribe:function(_28d){this.disconnect(_28d);},isLeftToRight:function(){return this.dir?(this.dir=="ltr"):_25c.isBodyLtr();},isFocusable:function(){return this.focus&&(_25d.get(this.domNode,"display")!="none");},placeAt:function(_28e,_28f){if(_28e.declaredClass&&_28e.addChild){_28e.addChild(this,_28f);}else{_25b.place(this.domNode,_28e,_28f);}return this;},getTextDir:function(text,_290){return _290;},applyTextDir:function(){},defer:function(fcn,_291){var _292=setTimeout(lang.hitch(this,function(){if(!_292){return;}_292=null;if(!this._destroyed){lang.hitch(this,fcn)();}}),_291||0);return {remove:function(){if(_292){clearTimeout(_292);_292=null;}return null;}};}});});},"*now":function(r){r(["dojo/i18n!*preload*dijit/nls/_dijit_editor_plugins*[\"ar\",\"ca\",\"cs\",\"da\",\"de\",\"el\",\"en\",\"es\",\"fi\",\"fr\",\"he\",\"hr\",\"hu\",\"it\",\"ja\",\"kk\",\"ko\",\"nl\",\"no\",\"pl\",\"pt\",\"pt-br\",\"ro\",\"ru\",\"sk\",\"sl\",\"sv\",\"th\",\"tr\",\"uk\",\"zh\",\"zh-tw\",\"ROOT\"]"]);},"*noref":1}});define("dijit/_dijit_editor_plugins",[],1);require(["dijit/_editor/plugins/AlwaysShowToolbar","dijit/_editor/plugins/EnterKeyHandling","dijit/_editor/plugins/FontChoice","dijit/_editor/plugins/FullScreen","dijit/_editor/plugins/LinkDialog","dijit/_editor/plugins/NewPage","dijit/_editor/plugins/Print","dijit/_editor/plugins/TabIndent","dijit/_editor/plugins/TextColor","dijit/_editor/plugins/ToggleDir","dijit/_editor/plugins/ViewSource"]);